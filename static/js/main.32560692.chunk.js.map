{"version":3,"sources":["components/youtube-search-input/search-input.js","components/youtube-search-listing/decoded-entity.js","components/youtube-search-listing/search-listing.js","utils/dom.js","utils/url.js","services/youtube-search-api/index.js","event-handlers/dictation-search.js","views/dictation/index.js","event-handlers/goal.js","utils/list.js","event-handlers/dictation-view.js","utils/google-auth.js","event-handlers/auth.js","event-handlers/index.js","components/goal-input/index.js","components/goal-listing/goal-list-item.js","components/goal-listing/goal-list.js","components/goal-listing/goal-filter.js","views/goal/index.js","components/youtube-player/youtube-loader.js","components/youtube-player/youtube-player.js","components/command-bot/index.js","views/dictation/dictation-player.js","components/youtube-caption/index.js","views/dictation/dictation-caption.js","views/dictation/dictation-view.js","components/app-navbar/index.js","views/shared/app-header.js","components/dashboard-card/index.js","views/dashboard/index.js","components/voice-text/index.js","utils/text-processing.js","views/voice/index.js","utils/speech.js","views/login/index.js","views/shared/protected-route.js","index.js"],"names":["query","onClick","queryRef","useRef","React","useEffect","current","value","onSubmit","event","preventDefault","className","ref","type","name","id","placeholder","children","createElement","dangerouslySetInnerHTML","__html","videos","onFiniteScroll","document","addEventListener","_","debounce","docEl","documentElement","bodyEl","body","viewHeight","clientHeight","currentScroll","window","pageYOffset","Math","max","scrollHeight","offsetHeight","distanceToBottom","map","v","key","etag","to","videoId","src","snippet","thumbnails","default","url","alt","title","convertToUrl","link","params","Object","keys","join","ROOT_URL","YoutubeSearch","options","Promise","resolve","reject","q","part","Error","fetch","then","response","json","catch","API_KEY","process","CLEANUP","DEFAULT_STATE","isLoading","hasError","nextPageToken","loadingQueryData","loadedQueryData","data","appendQueryData","DictationApp","this","props","cleanup","triggerQuery","Fragment","Component","connect","DictationSearch","newQuery","dispatch","getState","relevanceLanguage","maxResults","err","console","log","pageToken","TOGGLE_GOAL","ADD_GOAL","FILTER_GOAL","FilterType","SHOW_ALL","SHOW_ACTIVE","SHOW_DONE","goals","filter","goalCount","formatStartTime","start","secondTotal","floor","seconds","minutes","slice","markLines","lines","cur","line","LOAD_CAPTION","JUMP_TO_LINE","CHANGE_TO_LINE","markers","playAt","curStart","command","googleAuthPromise","getGoogleAuth","gapi","load","auth2","init","client_id","cookiepolicy","authIns","AUTHENTICATING_WITH_GOOGLE","SIGNED_IN_WITH_GOOGLE","SIGNED_OUT_WITH_GOOGLE","provider","ready","isAuthenticated","uid","email","signInOrOut","Auth","authenticatingWithGoogle","signOut","result","signedOutWithGoogle","signIn","user","profile","getBasicProfile","getId","getName","getEmail","signedInWithGoogle","payload","combineReducers","state","action","GoalState","goal","done","text","items","DictationView","i","formattedStart","Date","getTime","goalInput","e","val","trim","doneLabel","toggleGoal","onFilter","all","active","Goal","addGoal","filterGoal","filterGoals","yt","YT","loadScript","YouTubePlayer","YTEvents","intervalMarker","findLastMarker","curTime","nextTime","total","length","nextStart","onPlayerStateChange","onCued","onBuffering","onPause","onPlaying","onEnd","pingInterval","onSpeechChange","State","PlayerState","PLAYING","setInterval","currentTime","target","getCurrentTime","marker","clearInterval","CUED","BUFFERING","PAUSED","ENDED","getInitialOptions","video","width","height","playerVars","autoplay","cc_load_policy","showCaptions","controls","disablekb","disableKeyboard","fs","allowFullscreen","hl","lang","iv_load_policy","annotations","startSeconds","end","endSeconds","modestbranding","modestBranding","playsinline","playsInline","rel","showRelatedVideos","showinfo","showInfo","events","onReady","onPlayerReady","onStateChange","updateProps","propNames","player","forEach","mute","unMute","setPlaybackQuality","setVolume","getPlayerState","pauseVideo","playVideo","getIframe","opts","loadVideoById","cueVideoById","stopVideo","pos","parseFloat","split","seekTo","createPlayer","volume","resolvePlayer","Player","container","playerInstance","handler","muted","suggestedQuality","playbackRate","setPlaybackRate","prevProps","changes","destroy","el","defaultProps","commands","onCommand","annyang","cmdObject","cmd","addCommands","abort","ownProps","jumpToLine","dispatchCommand","onLineClick","curLine","querySelector","scrollIntoView","behavior","block","li","data-start","currentTarget","dataset","changeToLine","loadCaption","axios","match","vid","data-target","data-toggle","role","AppHeader","icon","Dashboard","sections","sc","VoiceText","onPlay","onRepeat","onImport","textboxRef","REACT_APP_VOICE_TEXT_SAMPLE","sentences","s","parseText","htmlFor","rows","Voice","curVoice","setState","speechSynthesis","onvoiceschanged","gVoices","getVoices","voiceURI","Login","from","location","pathname","component","rest","render","middlewares","thunk","store","createStore","reducers","applyMiddleware","ReactDOM","basename","exact","path","getElementById"],"mappings":"wWAMe,cAA8B,IAAnBA,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QACzBC,EAAWC,iBAAO,MAExBC,IAAMC,WAAU,WACVH,IACFA,EAASI,QAAQC,MAAQP,KAG1B,IAOH,OACE,0BAAMQ,SANY,SAAAC,GAClBA,EAAMC,iBACNR,EAASI,QAAQC,OAASN,GAAWA,EAAQC,EAASI,QAAQC,SAK5D,yBAAKI,UAAU,sBACb,yBAAKA,UAAU,SACb,2BACEC,IAAKV,EACLW,KAAK,OACLC,KAAK,WACLC,GAAG,WACHJ,UAAU,eACVK,YAAY,oBAGhB,yBAAKL,UAAU,SACb,4BAAQE,KAAK,SAASF,UAAU,+BAC9B,uBAAGA,UAAU,6B,gBClCV,cAAyB,IAAbM,EAAY,EAAZA,SACzB,OAAOb,IAAMc,cAAc,MAAO,CAAEC,wBAAyB,CAAEC,OAAQH,M,iBCI1D,cAAuC,IAA3BI,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,eAajC,OAXAlB,IAAMC,WAAU,WAEdkB,SAASC,iBAAiB,SAAUC,IAAEC,UAAS,YCRnB,WAC9B,IAAMC,EAAQJ,SAASK,gBACjBC,EAASN,SAASO,KAClBC,EAAaJ,EAAMK,aACnBC,EAAgBC,OAAOC,YAM7B,OALqBC,KAAKC,IACxBR,EAAOS,aAAcX,EAAMW,aAC3BT,EAAOU,aAAcZ,EAAMY,aAC3BV,EAAOG,aAAcL,EAAMK,cAEPC,EAAgBF,GDA9BS,GAAqB,IACvBlB,MAED,QAEF,IAGDD,GAAU,wBAAIV,UAAU,6CACrBU,EAAOoB,KAAI,SAAAC,GAAC,OACX,wBAAI/B,UAAU,8BAA8BgC,IAAKD,EAAEE,MACjD,yBAAKjC,UAAU,oBACb,yBAAKA,UAAU,mBACb,kBAAC,IAAD,CAAMkC,GAAE,qBAAgBH,EAAE3B,GAAG+B,UAC3B,yBACEC,IAAKL,EAAEM,QAAQC,WAAWC,QAAQC,IAClCC,IAAI,GACJzC,UAAU,mBAIhB,yBAAKA,UAAU,cACb,yBAAKA,UAAU,iBACb,kBAAC,IAAD,CAAMkC,GAAE,qBAAgBH,EAAE3B,GAAG+B,UAC3B,kBAAC,EAAD,KAAgBJ,EAAEM,QAAQK,iB,gCEhC/BC,EAAe,SAACC,EAAMC,GAEjC,OAAOD,EAAO,IADIE,OAAOC,KAAKF,GAAQf,KAAI,SAAAE,GAAG,OAAIA,EAAM,IAAMa,EAAOb,MAAMgB,KAAK,MCC1E,IAAMC,EAAW,+CAcTC,EAZc,eAACC,EAAD,uDAAW,GAAX,OAAkB,IAAIC,SAAQ,SAACC,EAASC,GAC9DH,EAAQnB,KAAQmB,EAAQI,GAAMJ,EAAQK,MAASL,EAAQjD,MAC1DoD,EAAO,IAAIG,MAAM,2DAGnB,IAAMb,EAAOD,EAAaM,EAAUE,GAEpCO,IAAMd,GACHe,MAAK,SAACC,GAAD,OAAcP,EAAQO,EAASC,WACpCC,MAAMR,OCbLS,EAAUC,0CAIVC,EAAU,2BACVC,EAAgB,CACpB7E,MAAO,KACP8E,WAAW,EACXC,UAAU,EACVC,cAAe,KACf3D,OAAQ,IAoDG4D,EAAmB,SAAAjF,GAAK,MAAK,CAAEa,KA7DjB,4BA6D2Cb,UACzDkF,EAAkB,SAAAC,GAAI,MAAK,CAAEtE,KA7DhB,2BA6DyCsE,SACtDC,EAAkB,SAAAD,GAAI,MAAK,CAAEtE,KA7DhB,2BA6DyCsE,SC/D7DE,E,+LAEFC,KAAKC,MAAMC,Y,+BAGH,IAAD,EACiCF,KAAKC,MAArCvF,EADD,EACCA,MAAOqB,EADR,EACQA,OAAQoE,EADhB,EACgBA,aACvB,OACE,kBAAC,IAAMC,SAAP,KACE,kBAAC,EAAD,CAAazF,QAASwF,EAAczF,MAAOA,IAC3C,kBAAC,EAAD,CAAeqB,OAAQA,EAAQC,eAAgBmE,S,GAV5BrF,IAAMuF,WAgBlBC,eACb,gBAAGC,EAAH,EAAGA,gBAAH,MAA0B,CACxB7F,MAAO6F,EAAgB7F,MACvBqB,OAAQwE,EAAgBxE,UAE1B,CAAEoE,aDNwB,SAAAK,GAC1B,OAAO,SAACC,EAAUC,GAAc,IACtBH,EAAoBG,IAApBH,gBAEJA,EAAgBf,YAGhBgB,GACFC,EAASd,EAAiBa,IAE1BjC,EAAc,CACZlB,IAAK+B,EACLR,EAAG4B,EACH3B,KAAM,UACNtD,KAAM,QACNoF,kBAAmB,KACnBC,WAAY,KAEX5B,MAAK,SAAAa,GACJY,EAASb,EAAgBC,OAE1BV,OAAM,SAAA0B,GACLC,QAAQC,IAAI,UAAWF,QAG3BJ,EAASd,EAAiBY,EAAgB7F,QAE1C6D,EAAc,CACZlB,IAAK+B,EACLR,EAAG2B,EAAgB7F,MACnBmE,KAAM,UACNtD,KAAM,QACNoF,kBAAmB,KACnBC,WAAY,GACZI,UAAWT,EAAgBb,gBAE1BV,MAAK,SAAAa,GACJY,EAASX,EAAgBD,OAE1BV,OAAM,SAAA0B,GACLC,QAAQC,IAAI,UAAWF,UClCfX,QD2CK,iBAAO,CAAE3E,KAAM+D,KChDvBgB,CAMbP,G,wBCzBIkB,EAAc,oBACdC,EAAW,iBACXC,EAAc,oBACd7B,EAAU,gBACH8B,EAAa,CACxBC,SAAU,WACVC,YAAa,cACbC,UAAW,aAEPhC,EAAgB,CACpBiC,MAAO,GACPC,OAAQL,EAAWC,UAGjBK,EAAY,ECjBT,IAAMC,EAAkB,SAACC,GAC9B,IAAIC,EAAc/E,KAAKgF,MAAMF,GACzBG,EAAUF,EAAc,GACxBG,EAAUlF,KAAKgF,MAAMD,EAAc,IACvC,OAAIG,EAAU,GACL,IAAMA,EAAU,KAAO,IAAMD,GAASE,OAAO,GAG7CD,EAAU,KAAO,IAAMD,GAASE,OAAO,IAGrCC,EAAY,SAACC,EAAOC,GAC/B,OAAOD,EAAMhF,KAAI,SAAAkF,GAAI,sBAChBA,EADgB,CAEnBrH,QAASqH,EAAKT,QAAUQ,EAAM,UAAY,SCTxCE,EAAe,8BACfC,EAAe,8BACfC,EAAiB,gCAGjBjD,EAAgB,CACpB/B,QAAS,KACT2E,MAAO,KACPM,QAAS,KACTC,OAAQ,KACRC,SAAU,KACVC,QAAS,MCbPC,EAAoB,KAMlBC,EAAgB,WAiBpB,OAhBKD,IACHA,EAAoB,IAAIpE,SAAQ,SAACC,EAASC,GACxC/B,OAAOmG,KAAKC,KAAK,SAAS,WACxBpG,OAAOmG,KAAKE,MACTC,KAAK,CACJC,UAAW9D,2EACX+D,aAAc,uBAEfpE,MAAK,SAAAqE,GACJ3E,EAAQ2E,MAETlE,OAAM,SAAA0B,GAAG,OAAIlC,EAAOkC,aAKtBgC,GCtBHS,EAA6B,kCAC7BC,EAAwB,6BACxBC,EAAyB,8BAEzBjE,GAAgB,CACpBkE,SAAU,KACVC,OAAO,EACPC,iBAAiB,EACjBC,IAAK,KACLpI,KAAM,KACNqI,MAAO,MAMIC,GAAc,SAAAL,GACzB,OAAO,SAAChD,EAAUC,GAAa,IAErBqD,EAASrD,IAATqD,KAGHA,EAAKL,QAEVjD,EAASuD,MAEQ,WAAbP,IACEM,EAAKJ,iBDwCb7C,QAAQC,IAAI,YACL,IAAItC,SAAQ,SAACC,EAASC,GAC3BmE,IACG9D,MAAK,SAAAqE,GACJA,EAAQY,UAAUjF,MAAK,WACrBN,GAAQ,SAGXS,OAAM,SAAA0B,GAAG,OAAIlC,EAAOkC,UC9ChB7B,MAAK,SAAAkF,GACJzD,EAAS0D,SAEVhF,OAAM,SAAA0B,GAAG,OAAIC,QAAQC,IAAIF,ODalCC,QAAQC,IAAI,aACL,IAAItC,SAAQ,SAACC,EAASC,GAC3BmE,IACG9D,MAAK,SAAAqE,GACJA,EAAQe,SAASpF,MAAK,SAAAqF,GACpB,IAAMC,EAAUD,EAAKE,kBACrB7F,EAAQ,CACNkF,IAAKU,EAAQE,QACbhJ,KAAM8I,EAAQG,UACdZ,MAAOS,EAAQI,mBAIpBvF,OAAM,SAAA0B,GAAG,OAAIlC,EAAOkC,UCvBhB7B,MAAK,SAAAqF,GACJ5D,EAASkE,GAAmBN,OAE7BlF,OAAM,SAAA0B,GAAG,OAAIC,QAAQC,IAAIF,UAMvBmD,GAA2B,iBAAO,CAAEzI,KAAM+H,IAC1CqB,GAAqB,SAAAC,GAAO,MAAK,CAAErJ,KAAMgI,EAAuBqB,YAChET,GAAsB,iBAAO,CAAE5I,KAAMiI,IC5CnCqB,mBAAgB,CAC7Bd,KDgDa,WAAmD,IAArCe,EAAoC,uDAA5BvF,GAAewF,EAAa,uDAAJ,GAC3D,OAAQA,EAAOxJ,MACb,KAAK+H,EACH,OAAO,eACFwB,EADL,CAEErB,SAAU,SACVC,OAAO,IAEX,KAAKH,EACH,OAAO,eACFuB,EADL,CAEEpB,OAAO,EACPC,iBAAiB,GACdoB,EAAOH,SAEd,KAAKpB,EACH,OAAOjE,GACT,QACE,OAAOuF,ICjEXE,ULsBa,WAAsD,IAArCF,EAAoC,uDAA5BvF,EAAewF,EAAa,uDAAJ,GAC9D,OAAQA,EAAOxJ,MACb,KAAK0F,EACH,OAAO,eACF6D,EADL,CAEEtD,MAAOsD,EAAMtD,MAAMrE,KAAI,SAAA8H,GAAI,OAAIA,EAAKxJ,KAAOsJ,EAAOtJ,GAAnB,eAA6BwJ,EAA7B,CAAmCC,MAAOD,EAAKC,OAASD,OAE3F,KAAK/D,EACH,OAAO,eACF4D,EADL,CAEEtD,MAAM,GAAD,mBAAMsD,EAAMtD,OAAZ,CAAmB,CAAE/F,GAAIsJ,EAAOtJ,GAAIyJ,MAAM,EAAOC,KAAMJ,EAAOI,UAEvE,KAAKhE,EACH,OAAO,eACF2D,EADL,CAEErD,OAAQsD,EAAOtD,SAEnB,KAAKnC,EACH,OAAOC,EACT,QACE,OAAOuF,IKzCXvE,gBPkEa,WAA8C,IAArCuE,EAAoC,uDAA5BvF,EAAewF,EAAa,uDAAJ,GACtD,OAAQA,EAAOxJ,MACb,IAvEuB,4BAwErB,OAAO,eACFuJ,EADL,CAEEpK,MAAOqK,EAAOrK,MACd8E,WAAW,IAEf,IA5EsB,2BA6EpB,OAAO,eACFsF,EADL,CAEE/I,OAAQgJ,EAAOlF,KAAKuF,MACpB1F,cAAeqF,EAAOlF,KAAKH,cAC3BF,WAAW,IAEf,IAlFsB,2BAmFpB,OAAO,eACFsF,EADL,CAEE/I,OAAO,GAAD,mBAAM+I,EAAM/I,QAAZ,YAAuBgJ,EAAOlF,KAAKuF,QACzC1F,cAAeqF,EAAOlF,KAAKH,cAC3BF,WAAW,IAEf,KAAKF,EACH,OAAOC,EACT,QACE,OAAOuF,IO1FXO,cHqBa,WAA8C,IAArCP,EAAoC,uDAA5BvF,EAAewF,EAAa,uDAAJ,GACtD,OAAQA,EAAOxJ,MACb,KAAK+G,EACH,IAAMH,EAAQ4C,EAAO5C,MAAMhF,KAAI,SAAAmI,GAAC,sBAC3BA,EAD2B,CAE9BC,eAAgB5D,EAAgB2D,EAAE1D,YAGpC,OADAO,EAAM,GAAGnH,QAAU,UACZ,eACF8J,EADL,CAEEtH,QAASuH,EAAOvH,QAChB2E,MAAOA,EACPM,QAASsC,EAAO5C,MAAMhF,KAAI,SAAAmI,GAAC,OAAIA,EAAE1D,WAErC,KAAKW,EACH,IAAKuC,EAAM3C,MAAO,OAClB,OAAO,eACF2C,EADL,CAEEnC,SAAUoC,EAAOnD,MACjBO,MAAOD,EAAU4C,EAAM3C,MAAO4C,EAAOnD,SAEzC,KAAKY,EACH,IAAKsC,EAAM3C,MAAO,OAClB,OAAO,eACF2C,EADL,CAEEpC,OAAQqC,EAAOnD,MAAQ,KAAM,IAAI4D,MAAOC,UACxC9C,SAAUoC,EAAOnD,MACjBO,MAAOD,EAAU4C,EAAM3C,MAAO4C,EAAOnD,SAEzC,IApDqB,kCAqDnB,OAAO,eACFkD,EADL,CAEElC,QAASmC,EAAOnC,QAAU,KAAM,IAAI4C,MAAOC,YAE/C,IAxDY,yBAyDV,OAAOlG,EACT,QACE,OAAOuF,M,SI9DE,eAAwB,IAAZnK,EAAW,EAAXA,QACnB+K,EAAY5K,IAAMD,OAAO,MAW/B,OACE,0BAAMK,SAVc,SAACyK,GAErB,GADAA,EAAEvK,iBACCsK,GAAaA,EAAU1K,QAAQC,MAAM,CACtC,IAAM2K,EAAMF,EAAU1K,QAAQC,MAAM4K,OACpClL,GAAWA,EAAQiL,GACnBF,EAAU1K,QAAQC,MAAQ,MAM1B,yBAAKI,UAAU,sBACb,yBAAKA,UAAU,SACb,2BAAOE,KAAK,OAAOF,UAAU,eAAeK,YAAY,YAAYJ,IAAKoK,KAE3E,yBAAKrK,UAAU,SACb,4BAAQE,KAAK,SAASF,UAAU,qBAAhC,gBCvBK,eAAoC,IAAxB8J,EAAuB,EAAvBA,KAAMD,EAAiB,EAAjBA,KAAMvK,EAAW,EAAXA,QACjCmL,EAAYZ,EAAO,2BAA6B,GAEpD,OACE,wBAAI7J,UAAW,oEAAsEyK,EACnFnL,QAASA,GACRwK,EACD,0BAAM9J,UAAU,oCAAhB,SCNS,eAAkC,IAAtBmG,EAAqB,EAArBA,MAAOuE,EAAc,EAAdA,WAChC,OACE,wBAAI1K,UAAU,mBAED,MAATmG,GACAA,EAAMrE,KAAI,SAAA8H,GAAI,OACZ,kBAAC,GAAD,eAAU5H,IAAK4H,EAAKxJ,IAAQwJ,EAA5B,CAAkCtK,QAAS,kBAAMoL,EAAWd,EAAKxJ,aCH5D,eAA6C,IAAjC2F,EAAgC,EAAhCA,WAAYK,EAAoB,EAApBA,OAAQuE,EAAY,EAAZA,SACzCC,EAAMxE,IAAWL,EAAWC,SAAW,SAAW,GAClD6E,EAASzE,IAAWL,EAAWE,YAAc,SAAW,GACxD4D,EAAOzD,IAAWL,EAAWG,UAAY,SAAW,GAExD,OACE,yBAAKlG,UAAU,8BACb,2BAAOA,UAAW,wBAA0B4K,GAC1C,2BAAO1K,KAAK,QAAQC,KAAK,UAAUb,QAAS,kBAAMqL,EAAS5E,EAAWC,aADxE,QAGA,2BAAOhG,UAAW,wBAA0B6K,GAC1C,2BAAO3K,KAAK,QAAQC,KAAK,UAAUb,QAAS,kBAAMqL,EAAS5E,EAAWE,gBADxE,WAGA,2BAAOjG,UAAW,wBAA0B6J,GAC1C,2BAAO3J,KAAK,QAAQC,KAAK,UAAUb,QAAS,kBAAMqL,EAAS5E,EAAWG,cADxE,WCXA4E,G,+LAEFnG,KAAKC,MAAMC,Y,+BAGH,IAAD,EACoDF,KAAKC,MAAxDuB,EADD,EACCA,MAAOC,EADR,EACQA,OAAQ2E,EADhB,EACgBA,QAASL,EADzB,EACyBA,WAAYM,EADrC,EACqCA,WAC5C,OACE,yBAAKhL,UAAU,iCACb,yBAAKA,UAAU,sBACb,kBAAC,GAAD,CAAWV,QAAS,SAAAwK,GAAI,OAAIiB,EAAQjB,MACpC,kBAAC,GAAD,CAAU3D,MAAOA,EAAOuE,WAAYA,IACpC,kBAAC,GAAD,CAAY3E,WAAYA,EAAYK,OAAQA,EAAQuE,SAAUK,U,GAZrDvL,IAAMuF,WAmBnBiG,GAAc,SAAC9E,EAAOC,GAC1B,OAAQA,GACN,KAAKL,EAAWE,YACd,OAAOE,EAAMC,QAAO,SAAAwD,GAAI,OAAkB,IAAdA,EAAKC,QACnC,KAAK9D,EAAWG,UACd,OAAOC,EAAMC,QAAO,SAAAwD,GAAI,OAAkB,IAAdA,EAAKC,QACnC,QACE,OAAO1D,IAIElB,gBACb,gBAAG0E,EAAH,EAAGA,UAAH,MAAoB,CAClBxD,MAAO8E,GAAYtB,EAAUxD,MAAOwD,EAAUvD,QAC9CA,OAAQuD,EAAUvD,UAEpB,CAAE2E,QVpBmB,SAAAjB,GAAI,MAAK,CAAE5J,KAAM2F,EAAUzF,GAAIiG,IAAawD,MAAM,EAAOC,SUoBnEY,WVrBa,SAAAtK,GAAE,MAAK,CAAEF,KAAM0F,EAAaxF,OUqB7B4K,WVnBC,SAAC5E,GAAD,MAAa,CAAElG,KAAM4F,EAAaM,WUmBvBvB,QVlBd,iBAAO,CAAE3E,KAAM+D,KUavBgB,CAMb6F,I,oBC1CEI,GAAK,KACIrD,GAAO,WAmBlB,OAlBKqD,KACHA,GAAK,IAAI9H,SAAQ,SAACC,EAASC,GACA,kBAAd/B,OAAO4J,IACW,oBAApB5J,OAAO4J,GAAG9C,MAMnB+C,KAAW,sCAAsCzH,MAAK,WACpDpC,OAAO4J,GAAG9C,OAAM,WACdhF,EAAQ9B,OAAO4J,UAEhB,SAAA3F,GACDlC,EAAOkC,MAVPjE,OAAO4J,GAAG9C,OAAM,WACdhF,EAAQ9B,OAAO4J,WAahBD,IChBHG,G,2MACJC,SAAW,CACT,UACA,gBACA,0BACA,uBACA,W,EAGFC,eAAiB,K,EAsBjBC,eAAiB,SAACpE,EAASqE,EAASC,GAElC,IADA,IAAMC,EAAQvE,EAAQwE,OACb3B,EAAI,EAAGA,EAAI0B,EAAO1B,IACzB,GAAI7C,EAAQ6C,GAAKwB,GAAWrE,EAAQ6C,IAAMyB,EACxC,MAAO,CACLpE,SAAUF,EAAQ6C,EAAI,GACtB4B,UAAWzE,EAAQ6C,IAIzB,OAAO,M,EAMT6B,oBAAsB,SAAAhM,GAAU,IAAD,EAUzB,EAAK8E,MARPmH,EAF2B,EAE3BA,OACAC,EAH2B,EAG3BA,YACAC,EAJ2B,EAI3BA,QACAC,EAL2B,EAK3BA,UACAC,EAN2B,EAM3BA,MACAC,EAP2B,EAO3BA,aACAhF,EAR2B,EAQ3BA,QACAiF,EAT2B,EAS3BA,eAGIC,EAAQ/K,OAAO4J,GAAGoB,YAkBxB,OAfgB,OAAZnF,GAAoBA,EAAQwE,OAAS,IACnC9L,EAAM0E,OAAS8H,EAAME,QACvB,EAAKjB,eAAiBkB,aAAY,WAChC,IAAIC,EAAc5M,EAAM6M,OAAOC,iBACzBC,EAAS,EAAKrB,eAAepE,EAASsF,EAAaA,EAAcN,EAAe,KAExE,MAAVS,GACFR,GAAkBA,EAAeQ,EAAOhB,aAEzCO,GAEHU,cAAc,EAAKvB,iBAIfzL,EAAM0E,MACZ,KAAK8H,EAAMS,KACThB,EAAOjM,GACP,MACF,KAAKwM,EAAMU,UACThB,EAAYlM,GACZ,MACF,KAAKwM,EAAMW,OACThB,EAAQnM,GACR,MACF,KAAKwM,EAAME,QACTN,EAAUpM,GACV,MACF,KAAKwM,EAAMY,MACTf,EAAMrM,K,EAMZqN,kBAAoB,WAClB,MAAO,CACLhL,QAAS,EAAKyC,MAAMwI,MACpBC,MAAO,EAAKzI,MAAMyI,MAClBC,OAAQ,EAAK1I,MAAM0I,OACnBC,WAAY,CACVC,SAAU,EAAK5I,MAAM4I,SACrBC,eAAgB,EAAK7I,MAAM8I,aAAe,EAAI,EAC9CC,SAAU,EAAK/I,MAAM+I,SAAW,EAAI,EACpCC,UAAW,EAAKhJ,MAAMiJ,gBAAkB,EAAI,EAC5CC,GAAI,EAAKlJ,MAAMmJ,gBAAkB,EAAI,EACrCC,GAAI,EAAKpJ,MAAMqJ,KACfC,eAAgB,EAAKtJ,MAAMuJ,YAAc,EAAI,EAC7C5H,MAAO,EAAK3B,MAAMwJ,aAClBC,IAAK,EAAKzJ,MAAM0J,WAChBC,eAAgB,EAAK3J,MAAM4J,eAAiB,EAAI,EAChDC,YAAa,EAAK7J,MAAM8J,YAAc,EAAI,EAC1CC,IAAK,EAAK/J,MAAMgK,kBAAoB,EAAI,EACxCC,SAAU,EAAKjK,MAAMkK,SAAW,EAAI,GAEtCC,OAAQ,CACNC,QAAS,EAAKC,cACdC,cAAe,EAAKpD,uB,EAK1BqD,YAAc,SAAAC,GACZ,EAAKC,OAAO1L,MAAK,SAAA0L,GACfD,EAAUE,SAAQ,SAAAnP,GAChB,IAAMP,EAAQ,EAAKgF,MAAMzE,GACzB,OAAQA,GACN,IAAK,QACCP,EACFyP,EAAOE,OAEPF,EAAOG,SAET,MACF,IAAK,mBACHH,EAAOI,mBAAmB7P,GAC1B,MACF,IAAK,SACHyP,EAAOK,UAAkB,IAAR9P,GACjB,MACF,IAAK,SACCA,GAAqC,IAA5ByP,EAAOM,iBAClBN,EAAOO,aACGhQ,GAAqC,IAA5ByP,EAAOM,kBAC1BN,EAAOQ,YAET,MACF,IAAK,KACL,IAAK,YACL,IAAK,QACL,IAAK,SACHR,EAAOS,YAAY3P,GAAQP,EAC3B,MACF,IAAK,QACH,GAAKA,EAEE,CAAC,IAAD,EAC0C,EAAKgF,MAC9CmL,EAAO,CACX5N,QAASvC,EACTwO,aAJG,EACGA,cAGwB,EAC9BE,WALG,EACiBA,YADjB,EAC6Bd,SAOhC6B,EAAOW,cAAcD,GAErBV,EAAOY,aAAaF,QAXtBV,EAAOa,YAcT,MACF,IAAK,SACH,GAAItQ,EAAO,CACT,IAAMuQ,EAAMC,WAAWxQ,EAAMyQ,MAAM,KAAK,IACxChB,EAAOiB,OAAOH,GAEhB,MACF,IAAK,UAEH,OADevQ,EAAMyQ,MAAM,KAAK,IAE9B,IAAK,OACHhB,EAAOQ,YACP,MACF,IAAK,QACHR,EAAOO,aACP,MACF,IAAK,QACHP,EAAOiB,OAAO,GACdjB,EAAOQ,YACP,MACF,IAAK,OACHR,EAAOa,qB,EAWrBK,aAAe,WAAO,IACZC,EAAW,EAAK5L,MAAhB4L,OAGR,EAAKnB,OAASxH,KAAOlE,MACnB,SAAAwH,GAAE,OACA,IAAI/H,SAAQ,SAAAC,GAEV,EAAKoN,cAAgBpN,EAErB,IAAMgM,EAAS,IAAIlE,EAAGuF,OACpB,EAAKC,UACL,EAAKxD,qBAEP,EAAKyD,eAAiBvB,EAEtB,EAAK/D,SAASgE,SAAQ,SAAAnP,GACpBkP,EAAOxO,iBAAiBV,GAAM,SAAAL,GAC5B,IAAM+Q,EAAU,EAAKjM,MAAMzE,GACvB0Q,GACFA,EAAQ/Q,eAOE,kBAAX0Q,GACT,EAAKrB,YAAY,CAAC,Y,EAOtBF,cAAgB,SAAAnP,GAAU,IAAD,EACmC,EAAK8E,MAAvD4L,EADe,EACfA,OAAQM,EADO,EACPA,MAAOC,EADA,EACAA,iBAAkBC,EADlB,EACkBA,aAEnB,qBAAXR,GACT1Q,EAAM6M,OAAO+C,UAAmB,IAATc,GAEJ,qBAAVM,IACLA,EACFhR,EAAM6M,OAAO4C,OAEbzP,EAAM6M,OAAO6C,UAGe,qBAArBuB,GACTjR,EAAM6M,OAAO8C,mBAAmBsB,GAEN,qBAAjBC,GACTlR,EAAM6M,OAAOsE,gBAAgBD,GAI/B,EAAKP,cAAc3Q,EAAM6M,S,mFApPzBhI,KAAK4L,iB,yCAGYW,GAAY,IAAD,OACtBC,EAAUrO,OAAOC,KAAK4B,KAAKC,OAAOwB,QACtC,SAAAjG,GAAI,OAAI,EAAKyE,MAAMzE,KAAU+Q,EAAU/Q,MAEzCwE,KAAKwK,YAAYgC,K,6CAIbxM,KAAKiM,gBACPjM,KAAKiM,eAAeQ,Y,+BA2Od,IAAD,SACmBzM,KAAKC,MAAvBxE,EADD,EACCA,GAAIJ,EADL,EACKA,UAEZ,OACE,yBAAKI,GAAIA,EAAIJ,UAAWA,EAAWC,IAAK,SAAAoR,GAAE,OAAK,EAAKV,UAAYU,S,GA1Q1C5R,IAAMuF,WA+QlCqG,GAAciG,aAAe,CAC3B9D,UAAU,EACVE,cAAc,EACdC,UAAU,EACVE,iBAAiB,EACjBE,iBAAiB,EACjBI,aAAa,EACbK,gBAAgB,EAChBE,aAAa,EACbE,mBAAmB,EACnBE,UAAU,EACV1C,aAAc,IACd/E,OAAQ,KACR0E,OAAQ,aACRC,YAAa,aACbE,UAAW,aACXD,QAAS,aACTE,MAAO,aACPE,eAAgB,KAChBjF,QAAS,KACTG,QAAS,MAGI8D,U,oBCzSA,eAAoC,IAAxBkG,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UAkBnC,OAhBA/R,IAAMC,WAAU,WACd,GAAI+R,KAAS,CAEX,IAAMC,EAAY,GAOlB,OANAH,EAASjC,SAAQ,SAAAqC,GAAG,OAAID,EAAUC,GAAO,kBAAMH,EAAUG,OACzDF,KAAQG,YAAYF,GAGpBD,KAAQlL,QAED,WACLkL,KAAQI,aAKP,ICQM5M,gBACb,WAAoB6M,GAApB,IAAG9H,EAAH,EAAGA,cAAH,MAAkC,CAChC7H,QAAS2P,EAAS3P,QAClBiF,QAAS4C,EAAc5C,QACvBC,OAAQ2C,EAAc3C,OACtBE,QAASyC,EAAczC,WAEzB,CAAEwK,WZbsB,SAAAxL,GAAK,MAAK,CAAErG,KAAMgH,EAAcX,UYa1CyL,gBZXe,SAAAzK,GAAO,MAAK,CAAErH,KAjBpB,kCAiB4CqH,aYItDtC,EAvBS,SAAC,GAAwE,IAAtE9C,EAAqE,EAArEA,QAASiF,EAA4D,EAA5DA,QAASC,EAAmD,EAAnDA,OAAQE,EAA2C,EAA3CA,QAASwK,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,gBACxE,OACE,kBAAC,IAAMjN,SAAP,KACGqC,GACC,kBAAC,GAAD,CACEgG,MAAOjL,EACPiF,QAASA,EACTiF,eAAgB,SAAA9F,GAAK,OAAIwL,EAAWxL,IACpCc,OAAQA,EACRE,QAASA,EACT8F,MAAM,MACNC,OAAO,MACPE,SAAS,MAGb,kBAAC,GAAD,CACE+D,SAAU,CAAC,SAAU,QAAS,OAAQ,QAAS,OAAQ,OAAQ,SAC/DC,UAAW,SAAAG,GAAG,OAAIK,EAAgBL,U,oBCpB3B,I,MAAA,YAA6C,IAAjC7K,EAAgC,EAAhCA,MAAOQ,EAAyB,EAAzBA,SAAU2K,EAAe,EAAfA,YAQ1C,OAPAxS,IAAMC,WAAU,WACd,IAAIwS,EAAUtR,SAASuR,cAAc,4BACtB,MAAXD,GACFA,EAAQE,eAAe,CAAEC,SAAU,SAAUC,MAAO,aAErD,CAAChL,IAGFR,GACA,wBAAI9G,UAAU,mDAEV8G,EAAMhF,KAAI,SAAAyQ,GAAE,OACV,wBAAIvS,UAAW,gCAAkCuS,EAAG5S,QAClDqC,IAAKuQ,EAAGhM,MAAOiM,aAAYD,EAAGhM,MAC9BjH,QAAS,SAAAgL,GAAC,OAAI2H,EAAY3H,EAAEmI,cAAcC,QAAQnM,SAClD,0BAAMvG,UAAU,qBAAqBuS,EAAGrI,gBACxC,0BAAMlK,UAAU,qBAAqBuS,EAAGzI,aCHrC7E,gBACb,WAAoB6M,GAApB,IAAG9H,EAAH,EAAGA,cAAH,MAAkC,CAChClD,MAAOkD,EAAclD,MACrBQ,SAAU0C,EAAc1C,SACxBnF,QAAS2P,EAAS3P,WAEpB,CAAEwQ,adCwB,SAAApM,GAAK,MAAK,CAAErG,KAAMiH,EAAgBZ,UcD5CqM,YdDS,SAAC,GAAD,IAAGzQ,EAAH,EAAGA,QAAS2E,EAAZ,EAAYA,MAAZ,MAAyB,CAAE5G,KAAM+G,EAAc9E,UAAS2E,WcLpE7B,EAXU,SAAC,GAA6D,IAA3D9C,EAA0D,EAA1DA,QAAS2E,EAAiD,EAAjDA,MAAOQ,EAA0C,EAA1CA,SAAUqL,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,YAQlE,OAPAlT,qBAAU,WACRmT,KAAM,kDAAD,OAAmD1Q,EAAnD,QAAiEwB,MAAK,SAAAC,GAAQ,OACjFgP,EAAY,CAAEzQ,UAAS2E,MAAOlD,EAASY,YAGxC,IAEI,kBAAC,GAAD,CAAgBsC,MAAOA,EAAOQ,SAAUA,EAAU2K,YAAaU,OCRlE3I,G,+LAGFrF,KAAKC,MAAMQ,SfiBe,CAAElF,KAjBhB,6B,+BeGJ,IAEFiC,EADYwC,KAAKC,MAAfkO,MACcjQ,OAAOkQ,IAE7B,OACE,kBAAC,IAAMhO,SAAP,KACE,yBAAK/E,UAAU,OACb,yBAAKA,UAAU,yBACb,kBAAC,GAAD,CAAiBmC,QAASA,MAG9B,yBAAKnC,UAAU,OACb,yBAAKA,UAAU,aACb,kBAAC,GAAD,CAAkBmC,QAASA,W,GAnBX1C,IAAMuF,WA2BnBC,iBAAU+E,IC5BV,I,YAAA,YAA6C,IAAjC1B,EAAgC,EAAhCA,gBAAiBG,EAAe,EAAfA,YAC1C,OACE,yBAAKzI,UAAU,mFACb,yBAAKA,UAAU,2BACb,kBAAC,IAAD,CAAMkC,GAAG,IAAIlC,UAAU,qBAAvB,kBAGCsI,GACC,kBAAC,IAAMvD,SAAP,KACE,4BAAQ/E,UAAU,iBAAiBgT,cAAY,aAAaC,cAAY,YACtE,0BAAMjT,UAAU,WAAhB,qBACA,0BAAMA,UAAU,yBAElB,yBAAKI,GAAG,YAAYJ,UAAU,4BAC5B,wBAAIA,UAAU,0BACZ,wBAAIA,UAAU,WAAWkT,KAAK,gBAC5B,kBAAC,IAAD,CAAMhR,GAAG,IAAIlC,UAAU,iCAAvB,cAEF,wBAAIA,UAAU,WAAWkT,KAAK,gBAC5B,0BAAMlT,UAAU,gCAAgCV,QAASmJ,GAAzD,oBCnBZ0K,G,2MACJ1K,YAAc,WACZ,EAAK7D,MAAMQ,SAASqD,GAAY,Y,wEAGxB,IACAH,EAAoB3D,KAAKC,MAAzB0D,gBACR,OAAO,kBAAC,GAAD,CAAWA,gBAAiBA,EAAiBG,YAAa9D,KAAK8D,kB,GAPlDhJ,IAAMuF,WAWfC,gBACb,kBAAe,CACbqD,gBADF,EAAGI,KACqBJ,mBAFXrD,CAIbkO,IChBa,I,MAAA,YAAsC,IAA1BjR,EAAyB,EAAzBA,GAAIQ,EAAqB,EAArBA,MAAOoH,EAAc,EAAdA,KAAMsJ,EAAQ,EAARA,KAC1C,OACE,yBAAKpT,UAAU,oDACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAMA,UAAU,mBAAmBkC,GAAIA,GAAKQ,GAC5C,6BAAMoH,IAER,yBAAK9J,UAAU,YACb,uBAAGA,UAAWoT,UC6BXC,G,2MAvCbC,SAAW,CACT,CACEpR,GAAI,aACJQ,MAAO,kBACPoH,KAAM,+DACNsJ,KAAM,mCAER,CACElR,GAAI,SACJQ,MAAO,mBACPoH,KAAM,iDACNsJ,KAAM,+BAER,CACElR,GAAI,QACJQ,MAAO,eACPoH,KAAM,4CACNsJ,KAAM,uB,wEAKR,OACE,yBAAKpT,UAAU,OACZ2E,KAAK2O,SAASxR,KAAI,SAAAyR,GAAE,OACnB,yBAAKvT,UAAU,WAAWgC,IAAKuR,EAAGrR,IAChC,kBAAC,GAAD,CACEA,GAAIqR,EAAGrR,GACPQ,MAAO6Q,EAAG7Q,MACVoH,KAAMyJ,EAAGzJ,KACTsJ,KAAMG,EAAGH,gB,GA/BC3T,IAAMuF,WCAf,SAASwO,GAAT,GAAoD,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SAC9CC,EAAanU,IAAMD,OAAO,MAEhCC,IAAMC,WAAU,WACVsE,6QAAY6P,8BACdD,EAAWjU,QAAQC,MAAQoE,6QAAY6P,+BAExC,IAeH,OACE,0BAAMhU,SAdY,SAAAyK,GAGlB,GAFAA,EAAEvK,iBAEE6T,EAAWjU,SAAWiU,EAAWjU,QAAQC,MAAO,CAClD,IAEMkU,EClBL,SAAoBhK,GACzB,OAAIA,GAASA,EAAKU,OAKAV,EAAKgJ,MAAO,sBACbhR,KAAI,SAAAiS,GAAC,OAAIA,EAAEvJ,UALnB,KDgBawJ,CAFLJ,EAAWjU,QAAQC,OAKhC6T,GAAUA,EAAOK,MAMjB,yBAAK9T,UAAU,YACb,yBAAKA,UAAU,wBACb,2BAAOiU,QAAQ,oBAAf,sCACA,8BACEhU,IAAK2T,EACL5T,UAAU,eACVG,KAAK,mBACLC,GAAG,mBACH8T,KAAK,SAKX,yBAAKlU,UAAU,YACb,yBAAKA,UAAU,wBACb,4BAAQE,KAAK,SAASF,UAAU,8BAA8BV,QAAS,kBAAMqU,MAC3E,uBAAG3T,UAAU,8BAGf,4BAAQE,KAAK,SAASF,UAAU,+BAC9B,uBAAGA,UAAU,uBAGf,4BAAQE,KAAK,SAASF,UAAU,yBAAyBV,QAAS,kBAAMoU,MACtE,uBAAG1T,UAAU,0B,IE9CnBmU,G,2MACJ1K,MAAQ,CACN2K,SAAU,M,mFAIVzP,KAAK0P,SAAS,CAAED,SCVX,IAAIhR,SAAQ,SAACC,EAASC,GAC3B/B,OAAO+S,gBAAgBC,gBAAkB,WACvC,IACMC,EADSjT,OAAO+S,gBAAgBG,YACfrO,QAAO,SAAArE,GAAC,MAAmB,mBAAfA,EAAE2S,YAEd,IAAnBF,EAAQ5I,OACVvI,EAAQmR,EAAQ,IAEhBlR,EAAO,gD,yCDKM4N,M,+EAWjB,OAAO,kBAACsC,GAAD,U,GApBS/T,IAAMuF,WAwBXC,iBAAUkP,IExBnBQ,G,2MAEJlM,YAAc,WACZ,EAAK7D,MAAMQ,SAASqD,GAAY,Y,wEAGxB,IACAH,EAAoB3D,KAAKC,MAAzB0D,gBACAsM,GAASjQ,KAAKC,MAAMiQ,SAASpL,OAAS,CAAEmL,KAAM,CAAEE,SAAU,OAA1DF,KAGR,OAFAnP,QAAQC,IAAIf,KAAKC,OAEb0D,EACK,kBAAC,KAAD,CAAUpG,GAAI0S,IAIrB,yBAAK5U,UAAU,8BACb,yBAAKA,UAAU,oDACb,yBAAKA,UAAU,QACb,uBAAGA,UAAU,iCAEf,4BAAQE,KAAK,SAASF,UAAU,2BAA2BV,QAASqF,KAAK8D,aACvE,uBAAGzI,UAAU,uBADf,6B,GArBUP,IAAMuF,WA+BXC,gBACb,kBAAe,CACbqD,gBADF,EAAGI,KACqBJ,mBAFXrD,CAIb0P,I,SCvBa1P,gBACb,kBAAe,CACbqD,gBADF,EAAGI,KACqBJ,mBAFXrD,EAbQ,SAAC,GAAwD,IAAtDqD,EAAqD,EAArDA,gBAA4BtD,EAAyB,EAApC+P,UAAyBC,EAAW,gDAC7E,OACE,kBAAC,KAAD,iBAAWA,EAAX,CAAiBC,OAAQ,SAAArQ,GAAK,OAC5B0D,EACE,kBAACtD,EAAcJ,GACb,kBAAC,KAAD,CAAU1C,GAAI,CACd4S,SAAU,SACVrL,MAAO,CAAEmL,KAAMhQ,EAAMiQ,oBCYzBK,GAAc,CAACC,KAiBrB,IAAMC,GAAQC,YAAYC,GAAUC,IAAe,WAAf,EAAmBL,KAEvDM,IAASP,OACP,kBAAC,IAAD,CAAUG,MAAOA,IACf,kBAAC,IAAD,CAAQK,SApBGzR,iBAqBT,kBAAC,GAAD,MACA,0BAAMhE,UAAU,YACd,6BAASA,UAAU,YACjB,yBAAKA,UAAU,2BACb,kBAAC,KAAD,CAAO0V,OAAK,EAACC,KAAK,SAASZ,UAAWJ,KACtC,kBAAC,GAAD,CAAgBe,OAAK,EAACC,KAAK,IAAIZ,UAAW1B,KAC1C,kBAAC,GAAD,CAAgBqC,OAAK,EAACC,KAAK,aAAaZ,UAAWrQ,IACnD,kBAAC,GAAD,CAAgBiR,KAAK,kBAAkBZ,UAAW/K,KAClD,kBAAC,GAAD,CAAgB2L,KAAK,QAAQZ,UAAWjK,KACxC,kBAAC,GAAD,CAAgB6K,KAAK,SAASZ,UAAWZ,UAMnDvT,SAASgV,eAAe,W","file":"static/js/main.32560692.chunk.js","sourcesContent":["import React, { useRef } from \"react\";\n\n/**\n * Custom search input component\n * @param {object} props React props with custom onClick event\n */\nexport default function({ query, onClick }) {\n  const queryRef = useRef(null);\n\n  React.useEffect(() => {\n    if (queryRef) {\n      queryRef.current.value = query;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleClick = event => {\n    event.preventDefault();\n    queryRef.current.value && onClick && onClick(queryRef.current.value);\n  };\n\n  return (\n    <form onSubmit={handleClick}>\n      <div className=\"form-row mt-3 mb-3\">\n        <div className=\"col-8\">\n          <input\n            ref={queryRef}\n            type=\"text\"\n            name=\"queryBox\"\n            id=\"queryBox\"\n            className=\"form-control\"\n            placeholder=\"Search Youtube\"\n          />\n        </div>\n        <div className=\"col-4\">\n          <button type=\"submit\" className=\"btn btn-secondary pl-4 pr-4\">\n            <i className=\"fas fa-search fa-lg\"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\n\nexport default function ({ children }) {\n  return React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: children } });\n}","import './search-listing.css';\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DecodedEntity from './decoded-entity';\nimport { distanceToBottom } from '../../utils/dom';\nimport _ from 'lodash';\n\nexport default function ({ videos, onFiniteScroll }) {\n\n  React.useEffect(() => {\n    // purely to emit events when hitting the bootom of the page\n    document.addEventListener('scroll', _.debounce(() => {\n      // check if the page is scrolled to the bottom\n      if (distanceToBottom() < 50) {\n        onFiniteScroll();\n      }\n    }, 100));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    videos && <ul className=\"list-group list-group-flush col-md-8 mb-3\">\n      {videos.map(v => (\n        <li className=\"list-group-item app-yt-item\" key={v.etag}>\n          <div className=\"video-list media\">\n            <div className=\"media-left mr-4\">\n              <Link to={`/dictation/${v.id.videoId}`}>\n                <img\n                  src={v.snippet.thumbnails.default.url}\n                  alt=\"\"\n                  className=\"media-object\"\n                />\n              </Link>\n            </div>\n            <div className=\"media-body\">\n              <div className=\"media-heading\">\n                <Link to={`/dictation/${v.id.videoId}`}>\n                  <DecodedEntity>{v.snippet.title}</DecodedEntity>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n}","/**\n * Calculate the distance to bottom of current window view\n */\nexport const distanceToBottom = () => {\n  const docEl = document.documentElement;\n  const bodyEl = document.body;\n  const viewHeight = docEl.clientHeight;\n  const currentScroll = window.pageYOffset;\n  const scrollHeight = Math.max(\n    bodyEl.scrollHeight, docEl.scrollHeight,\n    bodyEl.offsetHeight, docEl.offsetHeight,\n    bodyEl.clientHeight, docEl.clientHeight\n  );\n  return scrollHeight - currentScroll - viewHeight;\n};","/**\n * return a full URL from its root link and params object\n * @param {*} link root link\n * @param {*} params URL params to be converted\n */\nexport const convertToUrl = (link, params) => {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  return link + '?' + queryString;\n}\n\n/**\n * to extract value of named parameter from a given link\n * @param {*} link Link to be extracted\n * @param {*} name name of the parameter\n */\nexport function getUrlParameter(link, name) {\n  name = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n  var results = regex.exec(link);\n  return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n};","/**\n * More details about API search\n * https://developers.google.com/youtube/v3/docs/search/list#parameters\n */\nimport fetch from 'isomorphic-unfetch';\nimport { convertToUrl } from '../../utils/url';\n\nexport const ROOT_URL = 'https://www.googleapis.com/youtube/v3/search';\n\nexport const YoutubeSearch = (options = {}) => new Promise((resolve, reject) => {\n  if (!options.key || !options.q || !options.part || !options.type) {\n    reject(new Error('Please make sure that the required fields are inserted'));\n  }\n\n  const link = convertToUrl(ROOT_URL, options);\n\n  fetch(link)\n    .then((response) => resolve(response.json()))\n    .catch(reject);\n});\n\nexport default YoutubeSearch;","import YoutubeSearch from \"../services/youtube-search-api\";\n\n/**\n * Actions and default state\n */\nconst API_KEY = process.env.REACT_APP_YOUTUBE_SEARCH_KEY;\nconst LOADING_QUERY_DATA = \"search/LOADING_QUERY_DATA\";\nconst LOADED_QUERY_DATA = \"search/LOADED_QUERY_DATA\";\nconst APPEND_QUERY_DATA = \"search/APPEND_QUERY_DATA\";\nconst CLEANUP = \"dictation/search/CLEANUP\";\nconst DEFAULT_STATE = {\n  query: null,\n  isLoading: false,\n  hasError: false,\n  nextPageToken: null,\n  videos: []\n};\n\n/**\n * pass a function to Redux thunk for further processing\n */\nexport const triggerQuery = newQuery => {\n  return (dispatch, getState) => {\n    const { DictationSearch } = getState();\n\n    if (DictationSearch.isLoading) return;\n\n    // perform a search\n    if (newQuery) {\n      dispatch(loadingQueryData(newQuery));\n\n      YoutubeSearch({\n        key: API_KEY,\n        q: newQuery,\n        part: \"snippet\",\n        type: \"video\",\n        relevanceLanguage: \"de\",\n        maxResults: 10\n      })\n        .then(data => {\n          dispatch(loadedQueryData(data));\n        })\n        .catch(err => {\n          console.log(\"Error: \", err);\n        });\n    } else {\n      dispatch(loadingQueryData(DictationSearch.query));\n\n      YoutubeSearch({\n        key: API_KEY,\n        q: DictationSearch.query,\n        part: \"snippet\",\n        type: \"video\",\n        relevanceLanguage: \"de\",\n        maxResults: 10,\n        pageToken: DictationSearch.nextPageToken\n      })\n        .then(data => {\n          dispatch(appendQueryData(data));\n        })\n        .catch(err => {\n          console.log(\"Error: \", err);\n        });\n    }\n  };\n};\n\nexport const loadingQueryData = query => ({ type: LOADING_QUERY_DATA, query });\nexport const loadedQueryData = data => ({ type: LOADED_QUERY_DATA, data });\nexport const appendQueryData = data => ({ type: APPEND_QUERY_DATA, data });\nexport const cleanup = () => ({ type: CLEANUP });\n\n/**\n * reducer for dictation view\n */\nexport default function(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case LOADING_QUERY_DATA:\n      return {\n        ...state,\n        query: action.query,\n        isLoading: true\n      };\n    case LOADED_QUERY_DATA:\n      return {\n        ...state,\n        videos: action.data.items,\n        nextPageToken: action.data.nextPageToken,\n        isLoading: false\n      };\n    case APPEND_QUERY_DATA:\n      return {\n        ...state,\n        videos: [...state.videos, ...action.data.items],\n        nextPageToken: action.data.nextPageToken,\n        isLoading: false\n      };\n    case CLEANUP:\n      return DEFAULT_STATE;\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport SearchInput from \"../../components/youtube-search-input/search-input\";\nimport SearchListing from \"../../components/youtube-search-listing/search-listing\";\nimport { triggerQuery, cleanup } from \"../../event-handlers/dictation-search\";\n\nclass DictationApp extends React.Component {\n  componentWillUnmount() {\n    this.props.cleanup();\n  }\n\n  render() {\n    const { query, videos, triggerQuery } = this.props;\n    return (\n      <React.Fragment>\n        <SearchInput onClick={triggerQuery} query={query} />\n        <SearchListing videos={videos} onFiniteScroll={triggerQuery} />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  ({ DictationSearch }) => ({\n    query: DictationSearch.query,\n    videos: DictationSearch.videos\n  }),\n  { triggerQuery, cleanup }\n)(DictationApp);\n","/**\n * actions\n */\nconst TOGGLE_GOAL = \"goals/TOGGLE_GOAL\";\nconst ADD_GOAL = \"goals/ADD_GOAL\";\nconst FILTER_GOAL = \"goals/FILTER_GOAL\";\nconst CLEANUP = 'goals/CLEANUP';\nexport const FilterType = {\n  SHOW_ALL: \"SHOW_ALL\",\n  SHOW_ACTIVE: \"SHOW_ACTIVE\",\n  SHOW_DONE: \"SHOW_DONE\"\n};\nconst DEFAULT_STATE = {\n  goals: [],\n  filter: FilterType.SHOW_ALL\n};\n\nlet goalCount = 0;\n\n/**\n * action creator\n */\nexport const toggleGoal = id => ({ type: TOGGLE_GOAL, id });\nexport const addGoal = text => ({ type: ADD_GOAL, id: goalCount++, done: false, text });\nexport const filterGoal = (filter) => ({ type: FILTER_GOAL, filter });\nexport const cleanup = () => ({ type: CLEANUP });\n\n/**\n * reducer\n */\nexport default function reducer(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case TOGGLE_GOAL:\n      return {\n        ...state,\n        goals: state.goals.map(goal => goal.id === action.id ? { ...goal, done: !goal.done } : goal)\n      };\n    case ADD_GOAL:\n      return {\n        ...state,\n        goals: [...state.goals, { id: action.id, done: false, text: action.text }]\n      };\n    case FILTER_GOAL:\n      return {\n        ...state,\n        filter: action.filter\n      };\n    case CLEANUP:\n      return DEFAULT_STATE;\n    default:\n      return state;\n  }\n};","export const formatStartTime = (start) => {\n  let secondTotal = Math.floor(start);\n  let seconds = secondTotal % 60;\n  let minutes = Math.floor(secondTotal / 60);\n  if (minutes < 10) {\n    return '0' + minutes + ':' + ('0' + seconds).slice(-2);\n  }\n  else {\n    return minutes + ':' + ('0' + seconds).slice(-2);\n  }\n};\nexport const markLines = (lines, cur) => {\n  return lines.map(line => ({\n    ...line,\n    current: line.start === cur ? 'current' : ''\n  }));\n};\n","import { formatStartTime, markLines } from \"../utils/list\";\n\n/**\n * Actions and default state\n */\nconst LOAD_CAPTION = \"dictation/view/LOAD_CAPTION\";\nconst JUMP_TO_LINE = \"dictation/view/JUMP_TO_LINE\";\nconst CHANGE_TO_LINE = \"dictation/view/CHANGE_TO_LINE\";\nconst DISPATCH_COMMAND = \"dictation/view/DISPATCH_COMMAND\";\nconst CLEANUP = \"dictation/view/CLEANUP\";\nconst DEFAULT_STATE = {\n  videoId: null,\n  lines: null,\n  markers: null,\n  playAt: null,\n  curStart: null,\n  command: null\n};\n\n/**\n * pass a function to Redux thunk for further processing\n */\nexport const loadCaption = ({ videoId, lines }) => ({ type: LOAD_CAPTION, videoId, lines });\nexport const jumpToLine = start => ({ type: JUMP_TO_LINE, start });\nexport const changeToLine = start => ({ type: CHANGE_TO_LINE, start });\nexport const dispatchCommand = command => ({ type: DISPATCH_COMMAND, command });\nexport const cleanup = () => ({ type: CLEANUP });\n\n/**\n * reducer for dictation view\n */\nexport default function(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case LOAD_CAPTION:\n      const lines = action.lines.map(i => ({\n        ...i,\n        formattedStart: formatStartTime(i.start)\n      }));\n      lines[0].current = \"current\";\n      return {\n        ...state,\n        videoId: action.videoId,\n        lines: lines,\n        markers: action.lines.map(i => i.start)\n      };\n    case JUMP_TO_LINE:\n      if (!state.lines) return;\n      return {\n        ...state,\n        curStart: action.start,\n        lines: markLines(state.lines, action.start)\n      };\n    case CHANGE_TO_LINE:\n      if (!state.lines) return;\n      return {\n        ...state,\n        playAt: action.start + \"|\" + new Date().getTime(),\n        curStart: action.start,\n        lines: markLines(state.lines, action.start)\n      };\n    case DISPATCH_COMMAND:\n      return {\n        ...state,\n        command: action.command + \"|\" + new Date().getTime()\n      };\n    case CLEANUP:\n      return DEFAULT_STATE;\n    default:\n      return state;\n  }\n}\n","/**\n * https://developers.google.com/identity/sign-in/web/reference\n */\nlet googleAuthPromise = null;\n\n/**\n * Private method to initialize google auth instance\n * @returns Promise of Google Auth Instance\n */\nconst getGoogleAuth = () => {\n  if (!googleAuthPromise) {\n    googleAuthPromise = new Promise((resolve, reject) => {\n      window.gapi.load(\"auth2\", function () {\n        window.gapi.auth2\n          .init({\n            client_id: process.env.REACT_APP_GOOGLE_CLIENT_API,\n            cookiepolicy: \"single_host_origin\"\n          })\n          .then(authIns => {\n            resolve(authIns);\n          })\n          .catch(err => reject(err));\n      });\n    });\n  }\n\n  return googleAuthPromise;\n};\n\n/**\n * To check if the user signs in or not.\n * @returns A promise\n */\nexport const isSignedInGoogle = () => {\n  console.log(\"isSignedIn\");\n  return new Promise((resolve, reject) => {\n    getGoogleAuth()\n      .then(authIns => {\n        resolve(authIns.isSignedIn.get());\n      })\n      .catch(err => reject(err));\n  })\n}\n\n/**\n * To sign in with a google account\n * @returns GoogleUser if successful\n */\nexport const signInGoogle = () => {\n  console.log(\"signed in\");\n  return new Promise((resolve, reject) => {\n    getGoogleAuth()\n      .then(authIns => {\n        authIns.signIn().then(user => {\n          const profile = user.getBasicProfile();\n          resolve({\n            uid: profile.getId(),\n            name: profile.getName(),\n            email: profile.getEmail()\n          });\n        })\n      })\n      .catch(err => reject(err));\n  });\n}\n\n/**\n * To sign out the current user\n * @returns true if successful\n */\nexport const signOutGoogle = () => {\n  console.log(\"sign out\");\n  return new Promise((resolve, reject) => {\n    getGoogleAuth()\n      .then(authIns => {\n        authIns.signOut().then(() => {\n          resolve(true);\n        });\n      })\n      .catch(err => reject(err));\n  });\n}\n\n/**\n * To get the current google user if already logged in\n */\nexport const getCurrentGoogleUser = () => {\n  console.log(\"get current user\");\n  return new Promise((resolve, reject) => {\n    getGoogleAuth()\n      .then(authIns => {\n        resolve(authIns.currentUser.get());\n      })\n      .catch(err => reject(err));\n  });\n}","import { signInGoogle, signOutGoogle } from \"../utils/google-auth\";\n/**\n * Action descriptions\n */\nconst AUTHENTICATING_WITH_GOOGLE = \"auth/AUTHENTICATING_WITH_GOOGLE\";\nconst SIGNED_IN_WITH_GOOGLE = \"auth/SIGNED_IN_WITH_GOOGLE\";\nconst SIGNED_OUT_WITH_GOOGLE = \"auth/SIGNED_OUT_WITH_GOOGLE\";\n\nconst DEFAULT_STATE = {\n  provider: null,\n  ready: true,\n  isAuthenticated: false,\n  uid: null,\n  name: null,\n  email: null\n};\n\n/**\n * Action creators\n */\nexport const signInOrOut = provider => {\n  return (dispatch, getState) => {\n    // check if the user is authenticated\n    const { Auth } = getState();\n\n    // if not ready, skip to avoid duplicated authentication\n    if (!Auth.ready) return;\n\n    dispatch(authenticatingWithGoogle());\n\n    if (provider === \"google\") {\n      if (Auth.isAuthenticated) {\n        signOutGoogle()\n          .then(result => {\n            dispatch(signedOutWithGoogle());\n          })\n          .catch(err => console.log(err));\n      } else {\n        signInGoogle()\n          .then(user => {\n            dispatch(signedInWithGoogle(user));\n          })\n          .catch(err => console.log(err));\n      }\n    }\n  };\n};\n\nexport const authenticatingWithGoogle = () => ({ type: AUTHENTICATING_WITH_GOOGLE });\nexport const signedInWithGoogle = payload => ({ type: SIGNED_IN_WITH_GOOGLE, payload });\nexport const signedOutWithGoogle = () => ({ type: SIGNED_OUT_WITH_GOOGLE });\n\n/**\n * Handle authentication\n */\nexport default function Auth(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case AUTHENTICATING_WITH_GOOGLE:\n      return {\n        ...state,\n        provider: \"google\",\n        ready: false\n      };\n    case SIGNED_IN_WITH_GOOGLE:\n      return {\n        ...state,\n        ready: true,\n        isAuthenticated: true,\n        ...action.payload\n      };\n    case SIGNED_OUT_WITH_GOOGLE:\n      return DEFAULT_STATE;\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport GoalState from './goal';\nimport DictationSearch from './dictation-search';\nimport DictationView from './dictation-view';\nimport Auth from './auth';\n\nexport default combineReducers({\n  Auth,\n  GoalState,\n  DictationSearch,\n  DictationView\n});","import React from 'react';\n\n/**\n * Custom goal input with custom style\n * @param {*} props props object with onClick event handler\n */\nexport default function ({ onClick }) {\n  const goalInput = React.useRef(null);\n\n  const handleAddTodo = (e) => {\n    e.preventDefault();\n    if(goalInput && goalInput.current.value){\n      const val = goalInput.current.value.trim();\n      onClick && onClick(val);\n      goalInput.current.value = '';\n    }\n  };\n\n  return (\n    <form onSubmit={handleAddTodo}>\n      <div className=\"form-row mb-3 mt-3\">\n        <div className=\"col-8\">\n          <input type=\"text\" className=\"form-control\" placeholder=\"Todo Item\" ref={goalInput} />\n        </div>\n        <div className=\"col-4\">\n          <button type=\"submit\" className=\"btn btn-secondary\">Add Item</button>\n        </div>\n      </div>\n    </form>\n  );\n};","import React from 'react';\n\nexport default function ({ text, done, onClick }) {\n  let doneLabel = done ? ' list-group-item-success' : '';\n\n  return (\n    <li className={\"list-group-item d-flex justify-content-between align-items-center\" + doneLabel}\n      onClick={onClick}>\n      {text}\n      <span className=\"badge badge-secondary badge-pill\">New</span>\n    </li>\n  );\n}","import React from 'react';\nimport GoalItem from './goal-list-item';\n\nexport default function ({ goals, toggleGoal }) {\n  return (\n    <ul className=\"list-group mb-3\">\n      {\n        goals != null &&\n        goals.map(goal => (\n          <GoalItem key={goal.id} {...goal} onClick={() => toggleGoal(goal.id)} />\n        ))\n      }\n    </ul>\n  );\n}","import React from 'react';\n\n/**\n * Custom filter component\n * @param {*} props React props\n */\nexport default function ({ FilterType, filter, onFilter }) {\n  let all = filter === FilterType.SHOW_ALL ? 'active' : '';\n  let active = filter === FilterType.SHOW_ACTIVE ? 'active' : '';\n  let done = filter === FilterType.SHOW_DONE ? 'active' : '';\n\n  return (\n    <div className=\"btn-group btn-group-toggle\">\n      <label className={'btn btn-outline-info ' + all}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_ALL)} /> All\n      </label>\n      <label className={'btn btn-outline-info ' + active}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_ACTIVE)} /> Active\n      </label>\n      <label className={'btn btn-outline-info ' + done}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_DONE)} /> Done\n      </label>\n    </div>\n  );\n}","//compose different todo components\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport GoalInput from \"../../components/goal-input\";\nimport GoalList from \"../../components/goal-listing/goal-list\";\nimport GoalFilter from \"../../components/goal-listing/goal-filter\";\nimport { addGoal, toggleGoal, FilterType, filterGoal, cleanup } from \"../../event-handlers/goal\";\n\nclass Goal extends React.Component {\n  componentWillUnmount() {\n    this.props.cleanup();\n  }\n\n  render() {\n    const { goals, filter, addGoal, toggleGoal, filterGoal } = this.props;\n    return (\n      <div className=\"row justify-content-md-center\">\n        <div className=\"col-md-10 col-lg-8\">\n          <GoalInput onClick={text => addGoal(text)} />\n          <GoalList goals={goals} toggleGoal={toggleGoal} />\n          <GoalFilter FilterType={FilterType} filter={filter} onFilter={filterGoal} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst filterGoals = (goals, filter) => {\n  switch (filter) {\n    case FilterType.SHOW_ACTIVE:\n      return goals.filter(goal => goal.done === false);\n    case FilterType.SHOW_DONE:\n      return goals.filter(goal => goal.done === true);\n    default:\n      return goals;\n  }\n};\n\nexport default connect(\n  ({ GoalState }) => ({\n    goals: filterGoals(GoalState.goals, GoalState.filter),\n    filter: GoalState.filter\n  }),\n  { addGoal, toggleGoal, filterGoal, cleanup }\n)(Goal);\n","import loadScript from \"load-script2\";\n\nlet yt = null;\nexport const init = () => {\n  if (!yt) {\n    yt = new Promise((resolve, reject) => {\n      if (typeof window.YT === \"object\" &&\n        typeof window.YT.ready === \"function\") {\n        window.YT.ready(() => {\n          resolve(window.YT);\n        });\n        return;\n      }\n      loadScript(\"https://www.youtube.com/iframe_api\").then(() => {\n        window.YT.ready(() => {\n          resolve(window.YT);\n        });\n      }, err => {\n        reject(err);\n      });\n    });\n  }\n  return yt;\n};\n","import React from \"react\";\nimport { init } from \"./youtube-loader\";\n\n/**\n * Event driven Youtube Player\n */\nclass YouTubePlayer extends React.Component {\n  YTEvents = [\n    \"onReady\",\n    \"onStateChange\",\n    \"onPlaybackQualityChange\",\n    \"onPlaybackRateChange\",\n    \"onError\"\n  ];\n\n  intervalMarker = null;\n\n  /**\n   * create when mounted\n   */\n  componentDidMount() {\n    this.createPlayer();\n  }\n\n  componentDidUpdate(prevProps) {\n    const changes = Object.keys(this.props).filter(\n      name => this.props[name] !== prevProps[name]\n    );\n    this.updateProps(changes);\n  }\n\n  componentWillUnmount() {\n    if (this.playerInstance) {\n      this.playerInstance.destroy();\n    }\n  }\n\n  findLastMarker = (markers, curTime, nextTime) => {\n    const total = markers.length;\n    for (let i = 1; i < total; i++) {\n      if (markers[i] > curTime && markers[i] <= nextTime) {\n        return {\n          curStart: markers[i - 1],\n          nextStart: markers[i]\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Youtube Player native event: onPlayerStateChange\n   */\n  onPlayerStateChange = event => {\n    const {\n      onCued,\n      onBuffering,\n      onPause,\n      onPlaying,\n      onEnd,\n      pingInterval,\n      markers,\n      onSpeechChange\n    } = this.props;\n\n    const State = window.YT.PlayerState;\n\n    //trigger event when speech changes\n    if (markers !== null && markers.length > 0) {\n      if (event.data === State.PLAYING) {\n        this.intervalMarker = setInterval(() => {\n          let currentTime = event.target.getCurrentTime();\n          const marker = this.findLastMarker(markers, currentTime, currentTime + pingInterval / 1000);\n\n          if (marker != null) {\n            onSpeechChange && onSpeechChange(marker.nextStart);\n          }\n        }, pingInterval);\n      } else {\n        clearInterval(this.intervalMarker);\n      }\n    }\n\n    switch (event.data) {\n      case State.CUED:\n        onCued(event);\n        break;\n      case State.BUFFERING:\n        onBuffering(event);\n        break;\n      case State.PAUSED:\n        onPause(event);\n        break;\n      case State.PLAYING:\n        onPlaying(event);\n        break;\n      case State.ENDED:\n        onEnd(event);\n        break;\n      default:\n    }\n  };\n\n  getInitialOptions = () => {\n    return {\n      videoId: this.props.video,\n      width: this.props.width,\n      height: this.props.height,\n      playerVars: {\n        autoplay: this.props.autoplay,\n        cc_load_policy: this.props.showCaptions ? 1 : 0,\n        controls: this.props.controls ? 1 : 0,\n        disablekb: this.props.disableKeyboard ? 1 : 0,\n        fs: this.props.allowFullscreen ? 1 : 0,\n        hl: this.props.lang,\n        iv_load_policy: this.props.annotations ? 1 : 3,\n        start: this.props.startSeconds,\n        end: this.props.endSeconds,\n        modestbranding: this.props.modestBranding ? 1 : 0,\n        playsinline: this.props.playsInline ? 1 : 0,\n        rel: this.props.showRelatedVideos ? 1 : 0,\n        showinfo: this.props.showInfo ? 1 : 0\n      },\n      events: {\n        onReady: this.onPlayerReady,\n        onStateChange: this.onPlayerStateChange\n      }\n    };\n  };\n\n  updateProps = propNames => {\n    this.player.then(player => {\n      propNames.forEach(name => {\n        const value = this.props[name];\n        switch (name) {\n          case \"muted\":\n            if (value) {\n              player.mute();\n            } else {\n              player.unMute();\n            }\n            break;\n          case \"suggestedQuality\":\n            player.setPlaybackQuality(value);\n            break;\n          case \"volume\":\n            player.setVolume(value * 100);\n            break;\n          case \"paused\":\n            if (value && player.getPlayerState() !== 2) {\n              player.pauseVideo();\n            } else if (!value && player.getPlayerState() === 2) {\n              player.playVideo();\n            }\n            break;\n          case \"id\":\n          case \"className\":\n          case \"width\":\n          case \"height\":\n            player.getIframe()[name] = value;\n            break;\n          case \"video\":\n            if (!value) {\n              player.stopVideo();\n            } else {\n              const { startSeconds, endSeconds, autoplay } = this.props;\n              const opts = {\n                videoId: value,\n                startSeconds: startSeconds || 0,\n                endSeconds\n              };\n              if (autoplay) {\n                player.loadVideoById(opts);\n              } else {\n                player.cueVideoById(opts);\n              }\n            }\n            break;\n          case \"playAt\":\n            if (value) {\n              const pos = parseFloat(value.split(\"|\")[0]);\n              player.seekTo(pos);\n            }\n            break;\n          case \"command\":\n            const actual = value.split(\"|\")[0];\n            switch (actual) {\n              case \"play\":\n                player.playVideo();\n                break;\n              case \"pause\":\n                player.pauseVideo();\n                break;\n              case \"reset\":\n                player.seekTo(0);\n                player.playVideo();\n                break;\n              case \"stop\":\n                player.stopVideo();\n                break;\n              default:\n            }\n            break;\n          default:\n        }\n      });\n    });\n  };\n\n  createPlayer = () => {\n    const { volume } = this.props;\n\n    // trigger first event: Player Loading\n    this.player = init().then(\n      YT =>\n        new Promise(resolve => {\n          // to resolve when the player is ready\n          this.resolvePlayer = resolve;\n\n          const player = new YT.Player(\n            this.container,\n            this.getInitialOptions()\n          );\n          this.playerInstance = player;\n\n          this.YTEvents.forEach(name => {\n            player.addEventListener(name, event => {\n              const handler = this.props[name];\n              if (handler) {\n                handler(event);\n              }\n            });\n          });\n        })\n    );\n\n    if (typeof volume === \"number\") {\n      this.updateProps([\"volume\"]);\n    }\n  };\n\n  /**\n   * Youtube Player native event: onPlayerReady\n   */\n  onPlayerReady = event => {\n    const { volume, muted, suggestedQuality, playbackRate } = this.props;\n\n    if (typeof volume !== \"undefined\") {\n      event.target.setVolume(volume * 100);\n    }\n    if (typeof muted !== \"undefined\") {\n      if (muted) {\n        event.target.mute();\n      } else {\n        event.target.unMute();\n      }\n    }\n    if (typeof suggestedQuality !== \"undefined\") {\n      event.target.setPlaybackQuality(suggestedQuality);\n    }\n    if (typeof playbackRate !== \"undefined\") {\n      event.target.setPlaybackRate(playbackRate);\n    }\n\n    // linked to 1st event (Player Loading), resolve to Youtube Player when it's ready\n    this.resolvePlayer(event.target);\n  };\n\n  render() {\n    const { id, className } = this.props;\n\n    return (\n      <div id={id} className={className} ref={el => (this.container = el)} />\n    );\n  }\n}\n\nYouTubePlayer.defaultProps = {\n  autoplay: false,\n  showCaptions: false,\n  controls: true,\n  disableKeyboard: false,\n  allowFullscreen: true,\n  annotations: true,\n  modestBranding: false,\n  playsInline: false,\n  showRelatedVideos: true,\n  showInfo: true,\n  pingInterval: 100,\n  playAt: null, //  7.591|1578150995863\n  onCued: () => { },\n  onBuffering: () => { },\n  onPlaying: () => { },\n  onPause: () => { },\n  onEnd: () => { },\n  onSpeechChange: null,\n  markers: null,\n  command: null\n};\n\nexport default YouTubePlayer;\n","import React from 'react';\nimport annyang from 'annyang';\n\nexport default function ({ commands, onCommand }) {\n\n  React.useEffect(() => {\n    if (annyang) {\n      // define commands\n      const cmdObject = {};\n      commands.forEach(cmd => cmdObject[cmd] = () => onCommand(cmd));\n      annyang.addCommands(cmdObject);\n\n      //start listening\n      annyang.start();\n\n      return () => {\n        annyang.abort();\n      };\n    }\n  });\n\n  return '';\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport YouTubePlayer from \"../../components/youtube-player/youtube-player\";\nimport { jumpToLine, dispatchCommand } from \"../../event-handlers/dictation-view\";\nimport CommandBot from \"../../components/command-bot\";\n\nconst DictationPlayer = ({ videoId, markers, playAt, command, jumpToLine, dispatchCommand }) => {\n  return (\n    <React.Fragment>\n      {markers && (\n        <YouTubePlayer\n          video={videoId}\n          markers={markers}\n          onSpeechChange={start => jumpToLine(start)}\n          playAt={playAt}\n          command={command}\n          width=\"720\"\n          height=\"405\"\n          autoplay=\"1\"\n        />\n      )}\n      <CommandBot\n        commands={[\"repeat\", \"again\", \"next\", \"reset\", \"stop\", \"play\", \"pause\"]}\n        onCommand={cmd => dispatchCommand(cmd)}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default connect(\n  ({ DictationView }, ownProps) => ({\n    videoId: ownProps.videoId,\n    markers: DictationView.markers,\n    playAt: DictationView.playAt,\n    command: DictationView.command\n  }),\n  { jumpToLine, dispatchCommand }\n)(DictationPlayer);\n","import React from 'react';\nimport './index.css';\n\nexport default function ({ lines, curStart, onLineClick }) {\n  React.useEffect(() => {\n    let curLine = document.querySelector('.caption-viewer .current');\n    if (curLine != null) {\n      curLine.scrollIntoView({ behavior: 'smooth', block: \"center\" });\n    }\n  }, [curStart]);\n\n  return (\n    lines &&\n    <ul className=\"list-group list-group-flush caption-viewer mt-3\">\n      {\n        lines.map(li => (\n          <li className={\"list-group-item caption-item \" + li.current}\n            key={li.start} data-start={li.start}\n            onClick={e => onLineClick(e.currentTarget.dataset.start)}>\n            <span className=\"caption-item-time\">{li.formattedStart}</span>\n            <span className=\"caption-item-text\">{li.text}</span>\n          </li>\n        ))\n      }\n    </ul>\n  );\n}","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { changeToLine, loadCaption } from \"../../event-handlers/dictation-view\";\nimport YoutubeCaption from \"../../components/youtube-caption\";\n\nconst DictationCaption = ({ videoId, lines, curStart, changeToLine, loadCaption }) => {\n  useEffect(() => {\n    axios(`https://voka.azurewebsites.net/api/v1/captions/${videoId}/de`).then(response =>\n      loadCaption({ videoId, lines: response.data })\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <YoutubeCaption lines={lines} curStart={curStart} onLineClick={changeToLine} />;\n};\n\nexport default connect(\n  ({ DictationView }, ownProps) => ({\n    lines: DictationView.lines,\n    curStart: DictationView.curStart,\n    videoId: ownProps.videoId\n  }),\n  { changeToLine, loadCaption }\n)(DictationCaption);\n","import React from \"react\";\nimport { connect } from 'react-redux';\nimport DictationPlayer from \"./dictation-player\";\nimport DictationCaption from \"./dictation-caption\";\nimport { cleanup } from '../../event-handlers/dictation-view';\n\nclass DictationView extends React.Component {\n\n  componentWillUnmount() {\n    this.props.dispatch(cleanup());\n  }\n\n  render() {\n    const { match } = this.props;\n    const videoId = match.params.vid;\n\n    return (\n      <React.Fragment>\n        <div className=\"row\">\n          <div className=\"col-md-12 text-center\">\n            <DictationPlayer videoId={videoId} />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <DictationCaption videoId={videoId} />\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(DictationView);","import \"./index.css\";\nimport \"bootstrap/js/dist/collapse\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function ({ isAuthenticated, signInOrOut }) {\n  return (\n    <nav className=\"navbar navbar-dark bg-info navbar-expand-lg fixed-top portfolio-navbar gradient\">\n      <div className=\"container app-container\">\n        <Link to=\"/\" className=\"navbar-brand logo\">\n          Deutsch Lernen\n        </Link>\n        {isAuthenticated &&\n          <React.Fragment>\n            <button className=\"navbar-toggler\" data-target=\"#navbarNav\" data-toggle=\"collapse\">\n              <span className=\"sr-only\">Toggle navigation</span>\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div id=\"navbarNav\" className=\"collapse navbar-collapse\">\n              <ul className=\"nav navbar-nav ml-auto\">\n                <li className=\"nav-item\" role=\"presentation\">\n                  <Link to=\"/\" className=\"nav-link voka-nav-link active\">Dashboard</Link>\n                </li>\n                <li className=\"nav-item\" role=\"presentation\">\n                  <span className=\"nav-link active voka-nav-link\" onClick={signInOrOut}>\n                    Sign Out\n              </span>\n                </li>\n              </ul>\n            </div>\n          </React.Fragment>\n        }\n      </div>\n    </nav>\n  );\n}\n","import React from \"react\";\nimport AppNavBar from \"../../components/app-navbar\";\nimport { connect } from \"react-redux\";\nimport { signInOrOut } from \"../../event-handlers/auth\";\n\nclass AppHeader extends React.Component {\n  signInOrOut = () => {\n    this.props.dispatch(signInOrOut(\"google\"));\n  };\n\n  render() {\n    const { isAuthenticated } = this.props;\n    return <AppNavBar isAuthenticated={isAuthenticated} signInOrOut={this.signInOrOut} />;\n  }\n}\n\nexport default connect(\n  ({ Auth }) => ({\n    isAuthenticated: Auth.isAuthenticated\n  })\n)(AppHeader);\n","import './index.css';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function ({ to, title, text, icon }) {\n  return (\n    <div className=\"card shadow border-info py-2 dashboard-card mb-3\">\n      <div className=\"card-body\">\n        <div className=\"row align-items-center no-gutters\">\n          <div className=\"col mr-2\">\n            <Link className=\"font-weight-bold\" to={to}>{title}</Link>\n            <div>{text}</div>\n          </div>\n          <div className=\"col-auto\">\n            <i className={icon}></i>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};","import React from \"react\";\nimport DashboardCard from \"../../components/dashboard-card\";\n\nclass Dashboard extends React.Component {\n  sections = [\n    {\n      to: \"/dictation\",\n      title: \"VIDEO DICTATION\",\n      text: \"Learning by watching Youtube in Deutsch and repeating along.\",\n      icon: \"fas fa-chalkboard-teacher fa-5x\"\n    },\n    {\n      to: \"/voice\",\n      title: \"LISTEN AND LEARN\",\n      text: \"Listen in German and write down what you hear.\",\n      icon: \"fas fa-microphone-alt fa-5x\"\n    },\n    {\n      to: \"/goal\",\n      title: \"GOAL SETTING\",\n      text: \"Setting goals and keep track of progress.\",\n      icon: \"fas fa-tasks fa-5x\"\n    }\n  ];\n\n  render() {\n    return (\n      <div className=\"row\">\n        {this.sections.map(sc => (\n          <div className=\"col-md-6\" key={sc.to}>\n            <DashboardCard\n              to={sc.to}\n              title={sc.title}\n              text={sc.text}\n              icon={sc.icon}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;","import React from \"react\";\nimport { parseText } from \"../../utils/text-processing\";\n\nexport default function VoiceText({ onPlay, onRepeat, onImport }) {\n  const textboxRef = React.useRef(null);\n\n  React.useEffect(() => {\n    if (process.env.REACT_APP_VOICE_TEXT_SAMPLE) {\n      textboxRef.current.value = process.env.REACT_APP_VOICE_TEXT_SAMPLE;\n    }\n  }, []);\n\n  const processText = e => {\n    e.preventDefault();\n\n    if (textboxRef.current && textboxRef.current.value) {\n      const text = textboxRef.current.value;\n      // parse text\n      const sentences = parseText(text);\n\n      // emit event\n      onPlay && onPlay(sentences);\n    }\n  };\n\n  return (\n    <form onSubmit={processText}>\n      <div className=\"form-row\">\n        <div className=\"form-group col-md-12\">\n          <label htmlFor=\"voiceTextControl\">Paste the text you want to listen!</label>\n          <textarea\n            ref={textboxRef}\n            className=\"form-control\"\n            name=\"voiceTextControl\"\n            id=\"voiceTextControl\"\n            rows=\"10\"\n          ></textarea>\n        </div>\n      </div>\n\n      <div className=\"form-row\">\n        <div className=\"form-group col-md-12\">\n          <button type=\"button\" className=\"btn btn-info pl-3 pr-3 mr-3\" onClick={() => onImport()}>\n            <i className=\"fas fa-folder-open fa-lg\"></i>\n          </button>\n\n          <button type=\"submit\" className=\"btn btn-info pl-3 pr-3 mr-3\">\n            <i className=\"fas fa-play fa-lg\"></i>\n          </button>\n\n          <button type=\"button\" className=\"btn btn-info pl-3 pr-3\" onClick={() => onRepeat()}>\n            <i className=\"fas fa-redo fa-lg\"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","export function parseText (text) {\n  if(!text || !text.trim()){\n    return null;\n  }\n\n  // eslint-disable-next-line\n  const sentences = text.match( /[^\\.!\\?]+[\\.!\\?]+/g );\n  return sentences.map(s => s.trim());\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport VoiceText from \"../../components/voice-text\";\nimport { getVoices, speakText } from \"../../utils/speech\";\n\nclass Voice extends React.Component {\n  state = {\n    curVoice: null\n  };\n\n  componentDidMount() {\n    this.setState({ curVoice: getVoices() });\n  }\n\n  componentDidUpdate(prevProps) {\n    // handle changes of props\n    \n\n  }\n\n  componentWillUnmount() {\n    // issue cleanup commands\n  }\n\n  render() {\n    return <VoiceText />;\n  }\n}\n\nexport default connect()(Voice);\n","export function getVoices() {\n  return new Promise((resolve, reject) => {\n    window.speechSynthesis.onvoiceschanged = () => {\n      const voices = window.speechSynthesis.getVoices();\n      const gVoices = voices.filter(v => v.voiceURI === \"Google Deutsch\");\n\n      if (gVoices.length === 1) {\n        resolve(gVoices[0]);\n      } else {\n        reject(\"Not able to get any supported voice.\");\n      }\n    };\n  });\n}\n\nexport function speakText({ voice, text, lang, rate }) {\n  if (!voice && !text) {\n    let u = new SpeechSynthesisUtterance();\n    u.voice = voice;\n    u.lang = lang;\n    u.text = text;\n    u.rate = rate;\n    window.speechSynthesis.speak(u);\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { signInOrOut } from \"../../event-handlers/auth\";\nimport { Redirect } from 'react-router-dom';\n\nclass Login extends React.Component {\n\n  signInOrOut = () => {\n    this.props.dispatch(signInOrOut(\"google\"));\n  };\n\n  render() {\n    const { isAuthenticated } = this.props;\n    const { from } = this.props.location.state || { from: { pathname: '/' } };\n    console.log(this.props);\n\n    if (isAuthenticated) {\n      return <Redirect to={from} />\n    }\n\n    return (\n      <div className=\"row justify-content-center\">\n        <div className=\"col-6 text-center mt-5 pb-5 pt-5 bg-light shadow\">\n          <div className=\"mb-5\">\n            <i className=\"fas fa-user fa-5x text-info\"></i>\n          </div>\n          <button type=\"button\" className=\"btn btn-danger pl-3 pr-5\" onClick={this.signInOrOut}>\n            <i className=\"fab fa-google mr-5\"></i>\n            Sign In with Google\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ Auth }) => ({\n    isAuthenticated: Auth.isAuthenticated\n  })\n)(Login);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n  return (\n    <Route {...rest} render={props => (\n      isAuthenticated ?\n        <Component {...props} />\n        : <Redirect to={{\n          pathname: '/login',\n          state: { from: props.location }\n        }} />\n    )} />\n  );\n}\n\nexport default connect(\n  ({ Auth }) => ({\n    isAuthenticated: Auth.isAuthenticated\n  })\n)(ProtectedRoute);","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"./index.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport DictationApp from \"./views/dictation\";\nimport thunk from \"redux-thunk\";\nimport logger from \"redux-logger\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport reducers from \"./event-handlers\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Goal from \"./views/goal\";\nimport DictationView from \"./views/dictation/dictation-view\";\nimport AppHeader from \"./views/shared/app-header\";\nimport Dashboard from \"./views/dashboard\";\nimport Voice from \"./views/voice\";\nimport Login from \"./views/login\";\nimport ProtectedRoute from './views/shared/protected-route';\n\n/**\n * Initial setup\n */\nconst middlewares = [thunk];\nlet basename = process.env.REACT_APP_BASE_NAME;\n\n/**\n * Development setup\n */\nif (process.env.NODE_ENV === \"development\") {\n  middlewares.push(logger);\n}\n\nif (process.env.NODE_ENV === \"production\") {\n  //TODO: enable security features\n}\n\n/**\n * create a global store - best with Redux\n */\nconst store = createStore(reducers, applyMiddleware(...middlewares));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router basename={basename}>\n      <AppHeader />\n      <main className=\"app-body\">\n        <section className=\"app-view\">\n          <div className=\"container app-container\">\n            <Route exact path=\"/login\" component={Login} />\n            <ProtectedRoute exact path=\"/\" component={Dashboard} />\n            <ProtectedRoute exact path=\"/dictation\" component={DictationApp} />\n            <ProtectedRoute path=\"/dictation/:vid\" component={DictationView} />\n            <ProtectedRoute path=\"/goal\" component={Goal} />\n            <ProtectedRoute path=\"/voice\" component={Voice} />\n          </div>\n        </section>\n      </main>\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}