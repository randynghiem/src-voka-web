{"version":3,"sources":["components/youtube-search-input/search-input.js","components/youtube-search-listing/decoded-entity.js","components/youtube-search-listing/search-listing.js","utils/dom.js","utils/url.js","services/youtube-search-api/index.js","event-handlers/dictation-search.js","views/dictation/index.js","event-handlers/goal.js","utils/list.js","event-handlers/dictation-view.js","utils/google-auth.js","utils/local-storage.js","event-handlers/auth.js","event-handlers/index.js","components/goal-input/index.js","components/goal-listing/goal-list-item.js","components/goal-listing/goal-list.js","components/goal-listing/goal-filter.js","views/goal/index.js","components/youtube-player/youtube-loader.js","components/youtube-player/youtube-player.js","components/command-bot/index.js","views/dictation/dictation-player.js","components/youtube-caption/index.js","views/dictation/dictation-caption.js","views/dictation/dictation-view.js","components/app-navbar/index.js","views/shared/app-header.js","components/dashboard-card/index.js","views/dashboard/index.js","components/voice-text/index.js","utils/text-processing.js","views/voice/index.js","utils/speech.js","views/login/index.js","views/shared/protected-route.js","index.js"],"names":["query","onClick","queryRef","useRef","React","useEffect","current","value","onSubmit","event","preventDefault","className","ref","type","name","id","placeholder","children","createElement","dangerouslySetInnerHTML","__html","videos","onFiniteScroll","document","addEventListener","_","debounce","docEl","documentElement","bodyEl","body","viewHeight","clientHeight","currentScroll","window","pageYOffset","Math","max","scrollHeight","offsetHeight","distanceToBottom","map","v","key","etag","to","videoId","src","snippet","thumbnails","default","url","alt","title","convertToUrl","link","params","Object","keys","join","ROOT_URL","YoutubeSearch","options","Promise","resolve","reject","q","part","Error","fetch","then","response","json","catch","API_KEY","process","CLEANUP","DEFAULT_STATE","isLoading","hasError","nextPageToken","loadingQueryData","loadedQueryData","data","appendQueryData","DictationApp","this","props","cleanup","triggerQuery","Fragment","Component","connect","DictationSearch","newQuery","dispatch","getState","relevanceLanguage","maxResults","err","console","log","pageToken","TOGGLE_GOAL","ADD_GOAL","FILTER_GOAL","FilterType","SHOW_ALL","SHOW_ACTIVE","SHOW_DONE","goals","filter","goalCount","formatStartTime","start","secondTotal","floor","seconds","minutes","slice","markLines","lines","cur","line","LOAD_CAPTION","JUMP_TO_LINE","CHANGE_TO_LINE","markers","playAt","curStart","command","googleAuthPromise","getGoogleAuth","gapi","load","auth2","init","client_id","cookiepolicy","authIns","KEY","AUTHENTICATING_WITH_GOOGLE","SIGNED_IN_WITH_GOOGLE","SIGNED_OUT_WITH_GOOGLE","provider","ready","isAuthenticated","uid","email","signInOrOut","Auth","authenticatingWithGoogle","signOut","result","signedOutWithGoogle","signIn","user","profile","getBasicProfile","getId","getName","getEmail","signedInWithGoogle","payload","cached","state","obj","cache","localStorage","storedValue","JSON","stringify","setItem","setCache","combineReducers","action","GoalState","goal","done","text","items","DictationView","i","formattedStart","Date","getTime","goalInput","e","val","trim","doneLabel","toggleGoal","onFilter","all","active","Goal","addGoal","filterGoal","filterGoals","yt","YT","loadScript","YouTubePlayer","YTEvents","intervalMarker","findLastMarker","curTime","nextTime","total","length","nextStart","onPlayerStateChange","onCued","onBuffering","onPause","onPlaying","onEnd","pingInterval","onSpeechChange","State","PlayerState","PLAYING","setInterval","currentTime","target","getCurrentTime","marker","clearInterval","CUED","BUFFERING","PAUSED","ENDED","getInitialOptions","video","width","height","playerVars","autoplay","cc_load_policy","showCaptions","controls","disablekb","disableKeyboard","fs","allowFullscreen","hl","lang","iv_load_policy","annotations","startSeconds","end","endSeconds","modestbranding","modestBranding","playsinline","playsInline","rel","showRelatedVideos","showinfo","showInfo","events","onReady","onPlayerReady","onStateChange","updateProps","propNames","player","forEach","mute","unMute","setPlaybackQuality","setVolume","getPlayerState","pauseVideo","playVideo","getIframe","opts","loadVideoById","cueVideoById","stopVideo","pos","parseFloat","split","seekTo","createPlayer","volume","resolvePlayer","Player","container","playerInstance","handler","muted","suggestedQuality","playbackRate","setPlaybackRate","prevProps","changes","destroy","el","defaultProps","commands","onCommand","annyang","cmdObject","cmd","addCommands","abort","ownProps","jumpToLine","dispatchCommand","onLineClick","curLine","querySelector","scrollIntoView","behavior","block","li","data-start","currentTarget","dataset","changeToLine","loadCaption","axios","match","vid","data-target","data-toggle","role","AppHeader","icon","Dashboard","sections","sc","VoiceText","onPlay","onRepeat","onImport","textboxRef","REACT_APP_VOICE_TEXT_SAMPLE","sentences","s","parseText","htmlFor","rows","Voice","curVoice","setState","speechSynthesis","onvoiceschanged","gVoices","getVoices","voiceURI","Login","from","location","pathname","component","rest","render","middlewares","thunk","values","initialState","cachedAuth","getItem","parse","getCache","preloadedState","store","createStore","reducers","applyMiddleware","ReactDOM","basename","exact","path","getElementById"],"mappings":"wWAMe,cAA8B,IAAnBA,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QACzBC,EAAWC,iBAAO,MAExBC,IAAMC,WAAU,WACVH,IACFA,EAASI,QAAQC,MAAQP,KAG1B,IAOH,OACE,0BAAMQ,SANY,SAAAC,GAClBA,EAAMC,iBACNR,EAASI,QAAQC,OAASN,GAAWA,EAAQC,EAASI,QAAQC,SAK5D,yBAAKI,UAAU,sBACb,yBAAKA,UAAU,SACb,2BACEC,IAAKV,EACLW,KAAK,OACLC,KAAK,WACLC,GAAG,WACHJ,UAAU,eACVK,YAAY,oBAGhB,yBAAKL,UAAU,SACb,4BAAQE,KAAK,SAASF,UAAU,+BAC9B,uBAAGA,UAAU,6B,gBClCV,cAAyB,IAAbM,EAAY,EAAZA,SACzB,OAAOb,IAAMc,cAAc,MAAO,CAAEC,wBAAyB,CAAEC,OAAQH,M,iBCI1D,cAAuC,IAA3BI,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,eAajC,OAXAlB,IAAMC,WAAU,WAEdkB,SAASC,iBAAiB,SAAUC,IAAEC,UAAS,YCRnB,WAC9B,IAAMC,EAAQJ,SAASK,gBACjBC,EAASN,SAASO,KAClBC,EAAaJ,EAAMK,aACnBC,EAAgBC,OAAOC,YAM7B,OALqBC,KAAKC,IACxBR,EAAOS,aAAcX,EAAMW,aAC3BT,EAAOU,aAAcZ,EAAMY,aAC3BV,EAAOG,aAAcL,EAAMK,cAEPC,EAAgBF,GDA9BS,GAAqB,IACvBlB,MAED,QAEF,IAGDD,GAAU,wBAAIV,UAAU,6CACrBU,EAAOoB,KAAI,SAAAC,GAAC,OACX,wBAAI/B,UAAU,8BAA8BgC,IAAKD,EAAEE,MACjD,yBAAKjC,UAAU,oBACb,yBAAKA,UAAU,mBACb,kBAAC,IAAD,CAAMkC,GAAE,qBAAgBH,EAAE3B,GAAG+B,UAC3B,yBACEC,IAAKL,EAAEM,QAAQC,WAAWC,QAAQC,IAClCC,IAAI,GACJzC,UAAU,mBAIhB,yBAAKA,UAAU,cACb,yBAAKA,UAAU,iBACb,kBAAC,IAAD,CAAMkC,GAAE,qBAAgBH,EAAE3B,GAAG+B,UAC3B,kBAAC,EAAD,KAAgBJ,EAAEM,QAAQK,iB,gCEhC/BC,EAAe,SAACC,EAAMC,GAEjC,OAAOD,EAAO,IADIE,OAAOC,KAAKF,GAAQf,KAAI,SAAAE,GAAG,OAAIA,EAAM,IAAMa,EAAOb,MAAMgB,KAAK,MCC1E,IAAMC,EAAW,+CAcTC,EAZc,eAACC,EAAD,uDAAW,GAAX,OAAkB,IAAIC,SAAQ,SAACC,EAASC,GAC9DH,EAAQnB,KAAQmB,EAAQI,GAAMJ,EAAQK,MAASL,EAAQjD,MAC1DoD,EAAO,IAAIG,MAAM,2DAGnB,IAAMb,EAAOD,EAAaM,EAAUE,GAEpCO,IAAMd,GACHe,MAAK,SAACC,GAAD,OAAcP,EAAQO,EAASC,WACpCC,MAAMR,OCbLS,EAAUC,0CAIVC,EAAU,2BACVC,EAAgB,CACpB7E,MAAO,KACP8E,WAAW,EACXC,UAAU,EACVC,cAAe,KACf3D,OAAQ,IAoDG4D,EAAmB,SAAAjF,GAAK,MAAK,CAAEa,KA7DjB,4BA6D2Cb,UACzDkF,EAAkB,SAAAC,GAAI,MAAK,CAAEtE,KA7DhB,2BA6DyCsE,SACtDC,EAAkB,SAAAD,GAAI,MAAK,CAAEtE,KA7DhB,2BA6DyCsE,SC9D7DE,E,+LAEFC,KAAKC,MAAMC,Y,+BAGH,IAAD,EACiCF,KAAKC,MAArCvF,EADD,EACCA,MAAOqB,EADR,EACQA,OAAQoE,EADhB,EACgBA,aACvB,OACE,kBAAC,IAAMC,SAAP,KACE,kBAAC,EAAD,CAAazF,QAASwF,EAAczF,MAAOA,IAC3C,kBAAC,EAAD,CAAeqB,OAAQA,EAAQC,eAAgBmE,S,GAV5BrF,IAAMuF,WAuBlBC,eACb,gBAAGC,EAAH,EAAGA,gBAAH,MAA0B,CACxB7F,MAAO6F,EAAgB7F,MACvBqB,OAAQwE,EAAgBxE,UAE1B,CAAEoE,aDdwB,SAAAK,GAC1B,OAAO,SAACC,EAAUC,GAAc,IACtBH,EAAoBG,IAApBH,gBAEJA,EAAgBf,YAGhBgB,GACFC,EAASd,EAAiBa,IAE1BjC,EAAc,CACZlB,IAAK+B,EACLR,EAAG4B,EACH3B,KAAM,UACNtD,KAAM,QACNoF,kBAAmB,KACnBC,WAAY,KAEX5B,MAAK,SAAAa,GACJY,EAASb,EAAgBC,OAE1BV,OAAM,SAAA0B,GACLC,QAAQC,IAAI,UAAWF,QAG3BJ,EAASd,EAAiBY,EAAgB7F,QAE1C6D,EAAc,CACZlB,IAAK+B,EACLR,EAAG2B,EAAgB7F,MACnBmE,KAAM,UACNtD,KAAM,QACNoF,kBAAmB,KACnBC,WAAY,GACZI,UAAWT,EAAgBb,gBAE1BV,MAAK,SAAAa,GACJY,EAASX,EAAgBD,OAE1BV,OAAM,SAAA0B,GACLC,QAAQC,IAAI,UAAWF,UC1BfX,QDmCK,iBAAO,CAAE3E,KAAM+D,KCxCvBgB,CAMbP,G,wBCjCIkB,EAAc,oBACdC,EAAW,iBACXC,EAAc,oBACd7B,EAAU,gBACH8B,EAAa,CACxBC,SAAU,WACVC,YAAa,cACbC,UAAW,aAEPhC,EAAgB,CACpBiC,MAAO,GACPC,OAAQL,EAAWC,UAGjBK,EAAY,ECjBT,IAAMC,EAAkB,SAACC,GAC9B,IAAIC,EAAc/E,KAAKgF,MAAMF,GACzBG,EAAUF,EAAc,GACxBG,EAAUlF,KAAKgF,MAAMD,EAAc,IACvC,OAAIG,EAAU,GACL,IAAMA,EAAU,KAAO,IAAMD,GAASE,OAAO,GAG7CD,EAAU,KAAO,IAAMD,GAASE,OAAO,IAGrCC,EAAY,SAACC,EAAOC,GAC/B,OAAOD,EAAMhF,KAAI,SAAAkF,GAAI,sBAChBA,EADgB,CAEnBrH,QAASqH,EAAKT,QAAUQ,EAAM,UAAY,SCTxCE,EAAe,8BACfC,EAAe,8BACfC,EAAiB,gCAGjBjD,EAAgB,CACpB/B,QAAS,KACT2E,MAAO,KACPM,QAAS,KACTC,OAAQ,KACRC,SAAU,KACVC,QAAS,MCbPC,EAAoB,KAMlBC,EAAgB,WAiBpB,OAhBKD,IACHA,EAAoB,IAAIpE,SAAQ,SAACC,EAASC,GACxC/B,OAAOmG,KAAKC,KAAK,SAAS,WACxBpG,OAAOmG,KAAKE,MACTC,KAAK,CACJC,UAAW9D,2EACX+D,aAAc,uBAEfpE,MAAK,SAAAqE,GACJ3E,EAAQ2E,MAETlE,OAAM,SAAA0B,GAAG,OAAIlC,EAAOkC,aAKtBgC,GC1BHS,EAAM,wBCKNC,EAA6B,kCAC7BC,EAAwB,6BACxBC,GAAyB,8BAEzBlE,GAAgB,CACpBmE,SAAU,KACVC,OAAO,EACPC,iBAAiB,EACjBC,IAAK,KACLrI,KAAM,KACNsI,MAAO,MAMIC,GAAc,SAAAL,GACzB,OAAO,SAACjD,EAAUC,GAAa,IAErBsD,EAAStD,IAATsD,KAGHA,EAAKL,QAEVlD,EAASwD,MAEQ,WAAbP,IACEM,EAAKJ,iBFiDb9C,QAAQC,IAAI,YACL,IAAItC,SAAQ,SAACC,EAASC,GAC3BmE,IACG9D,MAAK,SAAAqE,GACJA,EAAQa,UAAUlF,MAAK,WACrBN,GAAQ,SAGXS,OAAM,SAAA0B,GAAG,OAAIlC,EAAOkC,UEvDhB7B,MAAK,SAAAmF,GACJ1D,EAAS2D,SAEVjF,OAAM,SAAA0B,GAAG,OAAIC,QAAQC,IAAIF,OFsBlCC,QAAQC,IAAI,aACL,IAAItC,SAAQ,SAACC,EAASC,GAC3BmE,IACG9D,MAAK,SAAAqE,GACJA,EAAQgB,SAASrF,MAAK,SAAAsF,GACpB,IAAMC,EAAUD,EAAKE,kBACrB9F,EAAQ,CACNmF,IAAKU,EAAQE,QACbjJ,KAAM+I,EAAQG,UACdZ,MAAOS,EAAQI,mBAIpBxF,OAAM,SAAA0B,GAAG,OAAIlC,EAAOkC,UEhChB7B,MAAK,SAAAsF,GACJ7D,EAASmE,GAAmBN,OAE7BnF,OAAM,SAAA0B,GAAG,OAAIC,QAAQC,IAAIF,UAMvBoD,GAA2B,iBAAO,CAAE1I,KAAMgI,IAC1CqB,GAAqB,SAAAC,GAAO,MAAK,CAAEtJ,KAAMiI,EAAuBqB,YAChET,GAAsB,iBAAO,CAAE7I,KAAMkI,KAW5CqB,GAAS,SAAAC,GAEb,OD7CsB,SAAAC,GACtB,IAAMC,EAAQrI,OAAOsI,aACfC,EAAcC,KAAKC,UAAUL,GACnCC,EAAMK,QAAQhC,EAAK6B,GCyCnBI,CAAS,CAAEvB,KAAMe,IACVA,GCzDF,IAuBQS,eAAgB,CAC7BxB,KDuCa,WAAmD,IAArCe,EAAoC,uDAA5BxF,GAAekG,EAAa,uDAAJ,GAC3D,OAAQA,EAAOlK,MACb,KAAKgI,EACH,OAAOuB,GAAO,eACTC,EADQ,CAEXrB,SAAU,SACVC,OAAO,KAEX,KAAKH,EACH,OAAOsB,GAAO,eACTC,EADQ,CAEXpB,OAAO,EACPC,iBAAiB,GACd6B,EAAOZ,UAEd,KAAKpB,GACH,OAAOqB,GAAOvF,IAChB,QACE,OAAOwF,ICxDXW,UNOa,WAAsD,IAArCX,EAAoC,uDAA5BxF,EAAekG,EAAa,uDAAJ,GAC9D,OAAQA,EAAOlK,MACb,KAAK0F,EACH,OAAO,eACF8D,EADL,CAEEvD,MAAOuD,EAAMvD,MAAMrE,KAAI,SAAAwI,GAAI,OAAKA,EAAKlK,KAAOgK,EAAOhK,GAAnB,eAA6BkK,EAA7B,CAAmCC,MAAOD,EAAKC,OAASD,OAE5F,KAAKzE,EACH,OAAO,eACF6D,EADL,CAEEvD,MAAM,GAAD,mBAAMuD,EAAMvD,OAAZ,CAAmB,CAAE/F,GAAIgK,EAAOhK,GAAImK,MAAM,EAAOC,KAAMJ,EAAOI,UAEvE,KAAK1E,EACH,OAAO,eACF4D,EADL,CAEEtD,OAAQgE,EAAOhE,SAEnB,KAAKnC,EACH,OAAOC,EACT,QACE,OAAOwF,IM1BXxE,gBRmDa,WAA8C,IAArCwE,EAAoC,uDAA5BxF,EAAekG,EAAa,uDAAJ,GACtD,OAAQA,EAAOlK,MACb,IAhFuB,4BAiFrB,OAAO,eACFwJ,EADL,CAEErK,MAAO+K,EAAO/K,MACd8E,WAAW,IAEf,IArFsB,2BAsFpB,OAAO,eACFuF,EADL,CAEEhJ,OAAQ0J,EAAO5F,KAAKiG,MACpBpG,cAAe+F,EAAO5F,KAAKH,cAC3BF,WAAW,IAEf,IA3FsB,2BA4FpB,OAAO,eACFuF,EADL,CAEEhJ,OAAO,GAAD,mBAAMgJ,EAAMhJ,QAAZ,YAAuB0J,EAAO5F,KAAKiG,QACzCpG,cAAe+F,EAAO5F,KAAKH,cAC3BF,WAAW,IAEf,KAAKF,EACH,OAAOC,EACT,QACE,OAAOwF,IQ3EXgB,cJMa,WAA8C,IAArChB,EAAoC,uDAA5BxF,EAAekG,EAAa,uDAAJ,GACtD,OAAQA,EAAOlK,MACb,KAAK+G,EACH,IAAMH,EAAQsD,EAAOtD,MAAMhF,KAAI,SAAA6I,GAAC,sBAC3BA,EAD2B,CAE9BC,eAAgBtE,EAAgBqE,EAAEpE,YAGpC,OADAO,EAAM,GAAGnH,QAAU,UACZ,eACF+J,EADL,CAEEvH,QAASiI,EAAOjI,QAChB2E,MAAOA,EACPM,QAASgD,EAAOtD,MAAMhF,KAAI,SAAA6I,GAAC,OAAIA,EAAEpE,WAErC,KAAKW,EACH,IAAKwC,EAAM5C,MAAO,OAClB,OAAO,eACF4C,EADL,CAEEpC,SAAU8C,EAAO7D,MACjBO,MAAOD,EAAU6C,EAAM5C,MAAOsD,EAAO7D,SAEzC,KAAKY,EACH,IAAKuC,EAAM5C,MAAO,OAClB,OAAO,eACF4C,EADL,CAEErC,OAAQ+C,EAAO7D,MAAQ,KAAM,IAAIsE,MAAOC,UACxCxD,SAAU8C,EAAO7D,MACjBO,MAAOD,EAAU6C,EAAM5C,MAAOsD,EAAO7D,SAEzC,IA7DqB,kCA8DnB,OAAO,eACFmD,EADL,CAEEnC,QAAS6C,EAAO7C,QAAU,KAAM,IAAIsD,MAAOC,YAE/C,IAjEY,yBAkEV,OAAO5G,EACT,QACE,OAAOwF,M,SKvEE,eAAwB,IAAZpK,EAAW,EAAXA,QACnByL,EAAYtL,IAAMD,OAAO,MAW/B,OACE,0BAAMK,SAVc,SAACmL,GAErB,GADAA,EAAEjL,iBACCgL,GAAaA,EAAUpL,QAAQC,MAAM,CACtC,IAAMqL,EAAMF,EAAUpL,QAAQC,MAAMsL,OACpC5L,GAAWA,EAAQ2L,GACnBF,EAAUpL,QAAQC,MAAQ,MAM1B,yBAAKI,UAAU,sBACb,yBAAKA,UAAU,SACb,2BAAOE,KAAK,OAAOF,UAAU,eAAeK,YAAY,YAAYJ,IAAK8K,KAE3E,yBAAK/K,UAAU,SACb,4BAAQE,KAAK,SAASF,UAAU,qBAAhC,gBCvBK,eAAoC,IAAxBwK,EAAuB,EAAvBA,KAAMD,EAAiB,EAAjBA,KAAMjL,EAAW,EAAXA,QACjC6L,EAAYZ,EAAO,2BAA6B,GAEpD,OACE,wBAAIvK,UAAW,oEAAsEmL,EACnF7L,QAASA,GACRkL,EACD,0BAAMxK,UAAU,oCAAhB,SCNS,eAAkC,IAAtBmG,EAAqB,EAArBA,MAAOiF,EAAc,EAAdA,WAChC,OACE,wBAAIpL,UAAU,mBAED,MAATmG,GACAA,EAAMrE,KAAI,SAAAwI,GAAI,OACZ,kBAAC,GAAD,eAAUtI,IAAKsI,EAAKlK,IAAQkK,EAA5B,CAAkChL,QAAS,kBAAM8L,EAAWd,EAAKlK,aCH5D,eAA6C,IAAjC2F,EAAgC,EAAhCA,WAAYK,EAAoB,EAApBA,OAAQiF,EAAY,EAAZA,SACzCC,EAAMlF,IAAWL,EAAWC,SAAW,SAAW,GAClDuF,EAASnF,IAAWL,EAAWE,YAAc,SAAW,GACxDsE,EAAOnE,IAAWL,EAAWG,UAAY,SAAW,GAExD,OACE,yBAAKlG,UAAU,8BACb,2BAAOA,UAAW,wBAA0BsL,GAC1C,2BAAOpL,KAAK,QAAQC,KAAK,UAAUb,QAAS,kBAAM+L,EAAStF,EAAWC,aADxE,QAGA,2BAAOhG,UAAW,wBAA0BuL,GAC1C,2BAAOrL,KAAK,QAAQC,KAAK,UAAUb,QAAS,kBAAM+L,EAAStF,EAAWE,gBADxE,WAGA,2BAAOjG,UAAW,wBAA0BuK,GAC1C,2BAAOrK,KAAK,QAAQC,KAAK,UAAUb,QAAS,kBAAM+L,EAAStF,EAAWG,cADxE,WCVAsF,G,+LAEF7G,KAAKC,MAAMC,Y,+BAGH,IAAD,EACoDF,KAAKC,MAAxDuB,EADD,EACCA,MAAOC,EADR,EACQA,OAAQqF,EADhB,EACgBA,QAASL,EADzB,EACyBA,WAAYM,EADrC,EACqCA,WAC5C,OACE,yBAAK1L,UAAU,iCACb,yBAAKA,UAAU,sBACb,kBAAC,GAAD,CAAWV,QAAS,SAAAkL,GAAI,OAAIiB,EAAQjB,MACpC,kBAAC,GAAD,CAAUrE,MAAOA,EAAOiF,WAAYA,IACpC,kBAAC,GAAD,CAAYrF,WAAYA,EAAYK,OAAQA,EAAQiF,SAAUK,U,GAZrDjM,IAAMuF,WA4BnB2G,GAAc,SAACxF,EAAOC,GAC1B,OAAQA,GACN,KAAKL,EAAWE,YACd,OAAOE,EAAMC,QAAO,SAAAkE,GAAI,OAAkB,IAAdA,EAAKC,QACnC,KAAKxE,EAAWG,UACd,OAAOC,EAAMC,QAAO,SAAAkE,GAAI,OAAkB,IAAdA,EAAKC,QACnC,QACE,OAAOpE,IAIElB,gBACb,gBAAGoF,EAAH,EAAGA,UAAH,MAAoB,CAClBlE,MAAOwF,GAAYtB,EAAUlE,MAAOkE,EAAUjE,QAC9CA,OAAQiE,EAAUjE,UAEpB,CAAEqF,QX9BmB,SAAAjB,GAAI,MAAK,CAAEtK,KAAM2F,EAAUzF,GAAIiG,IAAakE,MAAM,EAAOC,SW8BnEY,WX/Ba,SAAAhL,GAAE,MAAK,CAAEF,KAAM0F,EAAaxF,OW+B7BsL,WX7BC,SAAAtF,GAAM,MAAK,CAAElG,KAAM4F,EAAaM,WW6BrBvB,QX5Bd,iBAAO,CAAE3E,KAAM+D,KWuBvBgB,CAMbuG,I,oBCpDEI,GAAK,KACI/D,GAAO,WAmBlB,OAlBK+D,KACHA,GAAK,IAAIxI,SAAQ,SAACC,EAASC,GACA,kBAAd/B,OAAOsK,IACW,oBAApBtK,OAAOsK,GAAGvD,MAMnBwD,KAAW,sCAAsCnI,MAAK,WACpDpC,OAAOsK,GAAGvD,OAAM,WACdjF,EAAQ9B,OAAOsK,UAEhB,SAAArG,GACDlC,EAAOkC,MAVPjE,OAAOsK,GAAGvD,OAAM,WACdjF,EAAQ9B,OAAOsK,WAahBD,IChBHG,G,2MACJC,SAAW,CACT,UACA,gBACA,0BACA,uBACA,W,EAGFC,eAAiB,K,EAsBjBC,eAAiB,SAAC9E,EAAS+E,EAASC,GAElC,IADA,IAAMC,EAAQjF,EAAQkF,OACb3B,EAAI,EAAGA,EAAI0B,EAAO1B,IACzB,GAAIvD,EAAQuD,GAAKwB,GAAW/E,EAAQuD,IAAMyB,EACxC,MAAO,CACL9E,SAAUF,EAAQuD,EAAI,GACtB4B,UAAWnF,EAAQuD,IAIzB,OAAO,M,EAMT6B,oBAAsB,SAAA1M,GAAU,IAAD,EAUzB,EAAK8E,MARP6H,EAF2B,EAE3BA,OACAC,EAH2B,EAG3BA,YACAC,EAJ2B,EAI3BA,QACAC,EAL2B,EAK3BA,UACAC,EAN2B,EAM3BA,MACAC,EAP2B,EAO3BA,aACA1F,EAR2B,EAQ3BA,QACA2F,EAT2B,EAS3BA,eAGIC,EAAQzL,OAAOsK,GAAGoB,YAkBxB,OAfgB,OAAZ7F,GAAoBA,EAAQkF,OAAS,IACnCxM,EAAM0E,OAASwI,EAAME,QACvB,EAAKjB,eAAiBkB,aAAY,WAChC,IAAIC,EAActN,EAAMuN,OAAOC,iBACzBC,EAAS,EAAKrB,eAAe9E,EAASgG,EAAaA,EAAcN,EAAe,KAExE,MAAVS,GACFR,GAAkBA,EAAeQ,EAAOhB,aAEzCO,GAEHU,cAAc,EAAKvB,iBAIfnM,EAAM0E,MACZ,KAAKwI,EAAMS,KACThB,EAAO3M,GACP,MACF,KAAKkN,EAAMU,UACThB,EAAY5M,GACZ,MACF,KAAKkN,EAAMW,OACThB,EAAQ7M,GACR,MACF,KAAKkN,EAAME,QACTN,EAAU9M,GACV,MACF,KAAKkN,EAAMY,MACTf,EAAM/M,K,EAMZ+N,kBAAoB,WAClB,MAAO,CACL1L,QAAS,EAAKyC,MAAMkJ,MACpBC,MAAO,EAAKnJ,MAAMmJ,MAClBC,OAAQ,EAAKpJ,MAAMoJ,OACnBC,WAAY,CACVC,SAAU,EAAKtJ,MAAMsJ,SACrBC,eAAgB,EAAKvJ,MAAMwJ,aAAe,EAAI,EAC9CC,SAAU,EAAKzJ,MAAMyJ,SAAW,EAAI,EACpCC,UAAW,EAAK1J,MAAM2J,gBAAkB,EAAI,EAC5CC,GAAI,EAAK5J,MAAM6J,gBAAkB,EAAI,EACrCC,GAAI,EAAK9J,MAAM+J,KACfC,eAAgB,EAAKhK,MAAMiK,YAAc,EAAI,EAC7CtI,MAAO,EAAK3B,MAAMkK,aAClBC,IAAK,EAAKnK,MAAMoK,WAChBC,eAAgB,EAAKrK,MAAMsK,eAAiB,EAAI,EAChDC,YAAa,EAAKvK,MAAMwK,YAAc,EAAI,EAC1CC,IAAK,EAAKzK,MAAM0K,kBAAoB,EAAI,EACxCC,SAAU,EAAK3K,MAAM4K,SAAW,EAAI,GAEtCC,OAAQ,CACNC,QAAS,EAAKC,cACdC,cAAe,EAAKpD,uB,EAK1BqD,YAAc,SAAAC,GACZ,EAAKC,OAAOpM,MAAK,SAAAoM,GACfD,EAAUE,SAAQ,SAAA7P,GAChB,IAAMP,EAAQ,EAAKgF,MAAMzE,GACzB,OAAQA,GACN,IAAK,QACCP,EACFmQ,EAAOE,OAEPF,EAAOG,SAET,MACF,IAAK,mBACHH,EAAOI,mBAAmBvQ,GAC1B,MACF,IAAK,SACHmQ,EAAOK,UAAkB,IAARxQ,GACjB,MACF,IAAK,SACCA,GAAqC,IAA5BmQ,EAAOM,iBAClBN,EAAOO,aACG1Q,GAAqC,IAA5BmQ,EAAOM,kBAC1BN,EAAOQ,YAET,MACF,IAAK,KACL,IAAK,YACL,IAAK,QACL,IAAK,SACHR,EAAOS,YAAYrQ,GAAQP,EAC3B,MACF,IAAK,QACH,GAAKA,EAEE,CAAC,IAAD,EAC0C,EAAKgF,MAC9C6L,EAAO,CACXtO,QAASvC,EACTkP,aAJG,EACGA,cAGwB,EAC9BE,WALG,EACiBA,YADjB,EAC6Bd,SAOhC6B,EAAOW,cAAcD,GAErBV,EAAOY,aAAaF,QAXtBV,EAAOa,YAcT,MACF,IAAK,SACH,GAAIhR,EAAO,CACT,IAAMiR,EAAMC,WAAWlR,EAAMmR,MAAM,KAAK,IACxChB,EAAOiB,OAAOH,GAEhB,MACF,IAAK,UAEH,OADejR,EAAMmR,MAAM,KAAK,IAE9B,IAAK,OACHhB,EAAOQ,YACP,MACF,IAAK,QACHR,EAAOO,aACP,MACF,IAAK,QACHP,EAAOiB,OAAO,GACdjB,EAAOQ,YACP,MACF,IAAK,OACHR,EAAOa,qB,EAWrBK,aAAe,WAAO,IACZC,EAAW,EAAKtM,MAAhBsM,OAGR,EAAKnB,OAASlI,KAAOlE,MACnB,SAAAkI,GAAE,OACA,IAAIzI,SAAQ,SAAAC,GAEV,EAAK8N,cAAgB9N,EAErB,IAAM0M,EAAS,IAAIlE,EAAGuF,OACpB,EAAKC,UACL,EAAKxD,qBAEP,EAAKyD,eAAiBvB,EAEtB,EAAK/D,SAASgE,SAAQ,SAAA7P,GACpB4P,EAAOlP,iBAAiBV,GAAM,SAAAL,GAC5B,IAAMyR,EAAU,EAAK3M,MAAMzE,GACvBoR,GACFA,EAAQzR,eAOE,kBAAXoR,GACT,EAAKrB,YAAY,CAAC,Y,EAOtBF,cAAgB,SAAA7P,GAAU,IAAD,EACmC,EAAK8E,MAAvDsM,EADe,EACfA,OAAQM,EADO,EACPA,MAAOC,EADA,EACAA,iBAAkBC,EADlB,EACkBA,aAEnB,qBAAXR,GACTpR,EAAMuN,OAAO+C,UAAmB,IAATc,GAEJ,qBAAVM,IACLA,EACF1R,EAAMuN,OAAO4C,OAEbnQ,EAAMuN,OAAO6C,UAGe,qBAArBuB,GACT3R,EAAMuN,OAAO8C,mBAAmBsB,GAEN,qBAAjBC,GACT5R,EAAMuN,OAAOsE,gBAAgBD,GAI/B,EAAKP,cAAcrR,EAAMuN,S,mFApPzB1I,KAAKsM,iB,yCAGYW,GAAY,IAAD,OACtBC,EAAU/O,OAAOC,KAAK4B,KAAKC,OAAOwB,QACtC,SAAAjG,GAAI,OAAI,EAAKyE,MAAMzE,KAAUyR,EAAUzR,MAEzCwE,KAAKkL,YAAYgC,K,6CAIblN,KAAK2M,gBACP3M,KAAK2M,eAAeQ,Y,+BA2Od,IAAD,SACmBnN,KAAKC,MAAvBxE,EADD,EACCA,GAAIJ,EADL,EACKA,UAEZ,OACE,yBAAKI,GAAIA,EAAIJ,UAAWA,EAAWC,IAAK,SAAA8R,GAAE,OAAK,EAAKV,UAAYU,S,GA1Q1CtS,IAAMuF,WA+QlC+G,GAAciG,aAAe,CAC3B9D,UAAU,EACVE,cAAc,EACdC,UAAU,EACVE,iBAAiB,EACjBE,iBAAiB,EACjBI,aAAa,EACbK,gBAAgB,EAChBE,aAAa,EACbE,mBAAmB,EACnBE,UAAU,EACV1C,aAAc,IACdzF,OAAQ,KACRoF,OAAQ,aACRC,YAAa,aACbE,UAAW,aACXD,QAAS,aACTE,MAAO,aACPE,eAAgB,KAChB3F,QAAS,KACTG,QAAS,MAGIwE,U,oBCzSA,eAAoC,IAAxBkG,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UAkBnC,OAhBAzS,IAAMC,WAAU,WACd,GAAIyS,KAAS,CAEX,IAAMC,EAAY,GAOlB,OANAH,EAASjC,SAAQ,SAAAqC,GAAG,OAAID,EAAUC,GAAO,kBAAMH,EAAUG,OACzDF,KAAQG,YAAYF,GAGpBD,KAAQ5L,QAED,WACL4L,KAAQI,aAKP,ICkBMtN,gBACb,WAAoBuN,GAApB,IAAG9H,EAAH,EAAGA,cAAH,MAAkC,CAChCvI,QAASqQ,EAASrQ,QAClBiF,QAASsD,EAActD,QACvBC,OAAQqD,EAAcrD,OACtBE,QAASmD,EAAcnD,WAEzB,CAAEkL,WbvBsB,SAAAlM,GAAK,MAAK,CAAErG,KAAMgH,EAAcX,UauB1CmM,gBbrBe,SAAAnL,GAAO,MAAK,CAAErH,KAjBpB,kCAiB4CqH,aactDtC,EAhCS,SAAC,GAAwE,IAAtE9C,EAAqE,EAArEA,QAASiF,EAA4D,EAA5DA,QAASC,EAAmD,EAAnDA,OAAQE,EAA2C,EAA3CA,QAASkL,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,gBACxE,OACE,kBAAC,IAAM3N,SAAP,KACGqC,GACC,kBAAC,GAAD,CACE0G,MAAO3L,EACPiF,QAASA,EACT2F,eAAgB,SAAAxG,GAAK,OAAIkM,EAAWlM,IACpCc,OAAQA,EACRE,QAASA,EACTwG,MAAM,MACNC,OAAO,MACPE,SAAS,MAGb,kBAAC,GAAD,CACE+D,SAAU,CAAC,SAAU,QAAS,OAAQ,QAAS,OAAQ,OAAQ,SAC/DC,UAAW,SAAAG,GAAG,OAAIK,EAAgBL,U,oBCrB3B,I,MAAA,YAA6C,IAAjCvL,EAAgC,EAAhCA,MAAOQ,EAAyB,EAAzBA,SAAUqL,EAAe,EAAfA,YAQ1C,OAPAlT,IAAMC,WAAU,WACd,IAAIkT,EAAUhS,SAASiS,cAAc,4BACtB,MAAXD,GACFA,EAAQE,eAAe,CAAEC,SAAU,SAAUC,MAAO,aAErD,CAAC1L,IAGFR,GACA,wBAAI9G,UAAU,mDAEV8G,EAAMhF,KAAI,SAAAmR,GAAE,OACV,wBAAIjT,UAAW,gCAAkCiT,EAAGtT,QAClDqC,IAAKiR,EAAG1M,MAAO2M,aAAYD,EAAG1M,MAC9BjH,QAAS,SAAA0L,GAAC,OAAI2H,EAAY3H,EAAEmI,cAAcC,QAAQ7M,SAClD,0BAAMvG,UAAU,qBAAqBiT,EAAGrI,gBACxC,0BAAM5K,UAAU,qBAAqBiT,EAAGzI,aCMrCvF,gBACb,WAAoBuN,GAApB,IAAG9H,EAAH,EAAGA,cAAH,MAAkC,CAChC5D,MAAO4D,EAAc5D,MACrBQ,SAAUoD,EAAcpD,SACxBnF,QAASqQ,EAASrQ,WAEpB,CAAEkR,afRwB,SAAA9M,GAAK,MAAK,CAAErG,KAAMiH,EAAgBZ,UeQ5C+M,YfVS,SAAC,GAAD,IAAGnR,EAAH,EAAGA,QAAS2E,EAAZ,EAAYA,MAAZ,MAAyB,CAAE5G,KAAM+G,EAAc9E,UAAS2E,WeIpE7B,EAnBU,SAAC,GAA6D,IAA3D9C,EAA0D,EAA1DA,QAAS2E,EAAiD,EAAjDA,MAAOQ,EAA0C,EAA1CA,SAAU+L,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,YAQlE,OAPA5T,qBAAU,WACR6T,KAAM,kDAAD,OAAmDpR,EAAnD,QAAiEwB,MAAK,SAAAC,GAAQ,OACjF0P,EAAY,CAAEnR,UAAS2E,MAAOlD,EAASY,YAGxC,IAEI,kBAAC,GAAD,CAAgBsC,MAAOA,EAAOQ,SAAUA,EAAUqL,YAAaU,OCRlE3I,G,+LAGF/F,KAAKC,MAAMQ,ShBgBe,CAAElF,KAjBhB,6B,+BgBIJ,IAEFiC,EADYwC,KAAKC,MAAf4O,MACc3Q,OAAO4Q,IAE7B,OACE,kBAAC,IAAM1O,SAAP,KACE,yBAAK/E,UAAU,OACb,yBAAKA,UAAU,yBACb,kBAAC,GAAD,CAAiBmC,QAASA,MAG9B,yBAAKnC,UAAU,OACb,yBAAKA,UAAU,aACb,kBAAC,GAAD,CAAkBmC,QAASA,W,GAnBX1C,IAAMuF,WA+BnBC,iBAAUyF,ICjCV,I,YAAA,YAA6C,IAAjCnC,EAAgC,EAAhCA,gBAAiBG,EAAe,EAAfA,YAC1C,OACE,yBAAK1I,UAAU,mFACb,yBAAKA,UAAU,2BACb,kBAAC,IAAD,CAAMkC,GAAG,IAAIlC,UAAU,qBAAvB,kBAGCuI,GACC,kBAAC,IAAMxD,SAAP,KACE,4BAAQ/E,UAAU,iBAAiB0T,cAAY,aAAaC,cAAY,YACtE,0BAAM3T,UAAU,WAAhB,qBACA,0BAAMA,UAAU,yBAElB,yBAAKI,GAAG,YAAYJ,UAAU,4BAC5B,wBAAIA,UAAU,0BACZ,wBAAIA,UAAU,WAAW4T,KAAK,gBAC5B,kBAAC,IAAD,CAAM1R,GAAG,IAAIlC,UAAU,iCAAvB,cAEF,wBAAIA,UAAU,WAAW4T,KAAK,gBAC5B,0BAAM5T,UAAU,gCAAgCV,QAASoJ,GAAzD,oBClBZmL,G,2MACJnL,YAAc,WACZ,EAAK9D,MAAMQ,SAASsD,GAAY,Y,wEAGxB,IACAH,EAAoB5D,KAAKC,MAAzB2D,gBACR,OAAO,kBAAC,GAAD,CAAWA,gBAAiBA,EAAiBG,YAAa/D,KAAK+D,kB,GAPlDjJ,IAAMuF,WAgBfC,gBACb,kBAAe,CACbsD,gBADF,EAAGI,KACqBJ,mBAFXtD,CAIb4O,ICtBa,I,MAAA,YAAsC,IAA1B3R,EAAyB,EAAzBA,GAAIQ,EAAqB,EAArBA,MAAO8H,EAAc,EAAdA,KAAMsJ,EAAQ,EAARA,KAC1C,OACE,yBAAK9T,UAAU,oDACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAMA,UAAU,mBAAmBkC,GAAIA,GAAKQ,GAC5C,6BAAM8H,IAER,yBAAKxK,UAAU,YACb,uBAAGA,UAAW8T,UC6BXC,G,2MAvCbC,SAAW,CACT,CACE9R,GAAI,aACJQ,MAAO,kBACP8H,KAAM,+DACNsJ,KAAM,mCAER,CACE5R,GAAI,SACJQ,MAAO,mBACP8H,KAAM,iDACNsJ,KAAM,+BAER,CACE5R,GAAI,QACJQ,MAAO,eACP8H,KAAM,4CACNsJ,KAAM,uB,wEAKR,OACE,yBAAK9T,UAAU,OACZ2E,KAAKqP,SAASlS,KAAI,SAAAmS,GAAE,OACnB,yBAAKjU,UAAU,WAAWgC,IAAKiS,EAAG/R,IAChC,kBAAC,GAAD,CACEA,GAAI+R,EAAG/R,GACPQ,MAAOuR,EAAGvR,MACV8H,KAAMyJ,EAAGzJ,KACTsJ,KAAMG,EAAGH,gB,GA/BCrU,IAAMuF,WCAf,SAASkP,GAAT,GAAoD,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SAC9CC,EAAa7U,IAAMD,OAAO,MAEhCC,IAAMC,WAAU,WACVsE,6QAAYuQ,8BACdD,EAAW3U,QAAQC,MAAQoE,6QAAYuQ,+BAExC,IAeH,OACE,0BAAM1U,SAdY,SAAAmL,GAGlB,GAFAA,EAAEjL,iBAEEuU,EAAW3U,SAAW2U,EAAW3U,QAAQC,MAAO,CAClD,IAEM4U,EClBL,SAAoBhK,GACzB,OAAIA,GAASA,EAAKU,OAKAV,EAAKgJ,MAAO,sBACb1R,KAAI,SAAA2S,GAAC,OAAIA,EAAEvJ,UALnB,KDgBawJ,CAFLJ,EAAW3U,QAAQC,OAKhCuU,GAAUA,EAAOK,MAMjB,yBAAKxU,UAAU,YACb,yBAAKA,UAAU,wBACb,2BAAO2U,QAAQ,oBAAf,sCACA,8BACE1U,IAAKqU,EACLtU,UAAU,eACVG,KAAK,mBACLC,GAAG,mBACHwU,KAAK,SAKX,yBAAK5U,UAAU,YACb,yBAAKA,UAAU,wBACb,4BAAQE,KAAK,SAASF,UAAU,8BAA8BV,QAAS,kBAAM+U,MAC3E,uBAAGrU,UAAU,8BAGf,4BAAQE,KAAK,SAASF,UAAU,+BAC9B,uBAAGA,UAAU,uBAGf,4BAAQE,KAAK,SAASF,UAAU,yBAAyBV,QAAS,kBAAM8U,MACtE,uBAAGpU,UAAU,0B,IE9CnB6U,G,2MACJnL,MAAQ,CACNoL,SAAU,M,mFAIVnQ,KAAKoQ,SAAS,CAAED,SCVX,IAAI1R,SAAQ,SAACC,EAASC,GAC3B/B,OAAOyT,gBAAgBC,gBAAkB,WACvC,IACMC,EADS3T,OAAOyT,gBAAgBG,YACf/O,QAAO,SAAArE,GAAC,MAAmB,mBAAfA,EAAEqT,YAEd,IAAnBF,EAAQ5I,OACVjJ,EAAQ6R,EAAQ,IAEhB5R,EAAO,gD,yCDKMsO,M,+EAWjB,OAAO,kBAACsC,GAAD,U,GApBSzU,IAAMuF,WAwBXC,iBAAU4P,IEvBnBQ,G,2MAEJ3M,YAAc,WACZ,EAAK9D,MAAMQ,SAASsD,GAAY,Y,wEAGxB,IACAH,EAAoB5D,KAAKC,MAAzB2D,gBACA+M,GAAS3Q,KAAKC,MAAM2Q,SAAS7L,OAAS,CAAE4L,KAAM,CAAEE,SAAU,OAA1DF,KAER,OAAI/M,EACK,kBAAC,KAAD,CAAUrG,GAAIoT,IAIrB,yBAAKtV,UAAU,8BACb,yBAAKA,UAAU,oDACb,yBAAKA,UAAU,QACb,uBAAGA,UAAU,iCAEf,4BAAQE,KAAK,SAASF,UAAU,2BAA2BV,QAASqF,KAAK+D,aACvE,uBAAG1I,UAAU,uBADf,6B,GApBUP,IAAMuF,WAmCXC,gBACb,kBAAe,CACbsD,gBADF,EAAGI,KACqBJ,mBAFXtD,CAIboQ,I,SCvBapQ,gBACb,kBAAe,CACbsD,gBADF,EAAGI,KACqBJ,mBAFXtD,EAjBQ,SAAC,GAAwD,IAAtDsD,EAAqD,EAArDA,gBAA4BvD,EAAyB,EAApCyQ,UAAyBC,EAAW,gDAC7E,OACE,kBAAC,KAAD,iBAAWA,EAAX,CAAiBC,OAAQ,SAAA/Q,GAAK,OAC5B2D,EACE,kBAACvD,EAAcJ,GACb,kBAAC,KAAD,CAAU1C,GAAI,CACdsT,SAAU,SACV9L,MAAO,CAAE4L,KAAM1Q,EAAM2Q,oBCWzBK,GAAc,CAACC,KvBfnB,IAAIzS,SAAQ,SAACC,EAASC,GACpBF,QAAQkI,IAAI,CDiDd,IAAIlI,SAAQ,SAACC,EAASC,GACpBD,EAAQa,OL3BV,IAAId,SAAQ,SAACC,EAASC,GACpBD,EAAQa,MF4CV,IAAId,SAAQ,SAACC,EAASC,GACpBD,EAAQa,MI7CV,IAAId,SAAQ,SAACC,EAASC,GACpBD,EAAQa,QIzBkGP,MACxG,SAAAmS,GACE,IAAMC,EAAe,CACnBpN,KAAMmN,EAAO,GACbzL,UAAWyL,EAAO,GAClB5Q,gBAAiB4Q,EAAO,GACxBpL,cAAeoL,EAAO,IAGlBE,EFZU,WACtB,IACMlM,EADQvI,OAAOsI,aACKoM,QAAQhO,GAClC,OAAoB,OAAhB6B,EAA6B,KAEZC,KAAKmM,MAAMpM,GEOPqM,GACA,OAAfH,IACFD,EAAapN,KAAOqN,EAAWrN,MAGjClD,QAAQC,IAAI,iBAAkBqQ,GAE9B1S,EAAQ0S,SuBgBEpS,MAAK,SAAAyS,GACrB,IAAMC,EAAQC,YAAYC,GAAUH,EAAgBI,IAAe,WAAf,EAAmBZ,KAEvEnQ,QAAQC,IAAI,mBAAoB0Q,GAEhCK,IAASd,OACP,kBAAC,IAAD,CAAUU,MAAOA,GACf,kBAAC,IAAD,CAAQK,SAxBC1S,iBAyBP,kBAAC,GAAD,MACA,0BAAMhE,UAAU,YACd,6BAASA,UAAU,YACjB,yBAAKA,UAAU,2BACb,kBAAC,KAAD,CAAO2W,OAAK,EAACC,KAAK,SAASnB,UAAWJ,KACtC,kBAAC,GAAD,CAAgBsB,OAAK,EAACC,KAAK,IAAInB,UAAW1B,KAC1C,kBAAC,GAAD,CAAgB4C,OAAK,EAACC,KAAK,aAAanB,UAAW/Q,IACnD,kBAAC,GAAD,CAAgBkS,KAAK,kBAAkBnB,UAAW/K,KAClD,kBAAC,GAAD,CAAgBkM,KAAK,QAAQnB,UAAWjK,KACxC,kBAAC,GAAD,CAAgBoL,KAAK,SAASnB,UAAWZ,UAMnDjU,SAASiW,eAAe,c","file":"static/js/main.21554054.chunk.js","sourcesContent":["import React, { useRef } from \"react\";\n\n/**\n * Custom search input component\n * @param {object} props React props with custom onClick event\n */\nexport default function({ query, onClick }) {\n  const queryRef = useRef(null);\n\n  React.useEffect(() => {\n    if (queryRef) {\n      queryRef.current.value = query;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleClick = event => {\n    event.preventDefault();\n    queryRef.current.value && onClick && onClick(queryRef.current.value);\n  };\n\n  return (\n    <form onSubmit={handleClick}>\n      <div className=\"form-row mt-3 mb-3\">\n        <div className=\"col-8\">\n          <input\n            ref={queryRef}\n            type=\"text\"\n            name=\"queryBox\"\n            id=\"queryBox\"\n            className=\"form-control\"\n            placeholder=\"Search Youtube\"\n          />\n        </div>\n        <div className=\"col-4\">\n          <button type=\"submit\" className=\"btn btn-secondary pl-4 pr-4\">\n            <i className=\"fas fa-search fa-lg\"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\n\nexport default function ({ children }) {\n  return React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: children } });\n}","import './search-listing.css';\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DecodedEntity from './decoded-entity';\nimport { distanceToBottom } from '../../utils/dom';\nimport _ from 'lodash';\n\nexport default function ({ videos, onFiniteScroll }) {\n\n  React.useEffect(() => {\n    // purely to emit events when hitting the bootom of the page\n    document.addEventListener('scroll', _.debounce(() => {\n      // check if the page is scrolled to the bottom\n      if (distanceToBottom() < 50) {\n        onFiniteScroll();\n      }\n    }, 100));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    videos && <ul className=\"list-group list-group-flush col-md-8 mb-3\">\n      {videos.map(v => (\n        <li className=\"list-group-item app-yt-item\" key={v.etag}>\n          <div className=\"video-list media\">\n            <div className=\"media-left mr-4\">\n              <Link to={`/dictation/${v.id.videoId}`}>\n                <img\n                  src={v.snippet.thumbnails.default.url}\n                  alt=\"\"\n                  className=\"media-object\"\n                />\n              </Link>\n            </div>\n            <div className=\"media-body\">\n              <div className=\"media-heading\">\n                <Link to={`/dictation/${v.id.videoId}`}>\n                  <DecodedEntity>{v.snippet.title}</DecodedEntity>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n}","/**\n * Calculate the distance to bottom of current window view\n */\nexport const distanceToBottom = () => {\n  const docEl = document.documentElement;\n  const bodyEl = document.body;\n  const viewHeight = docEl.clientHeight;\n  const currentScroll = window.pageYOffset;\n  const scrollHeight = Math.max(\n    bodyEl.scrollHeight, docEl.scrollHeight,\n    bodyEl.offsetHeight, docEl.offsetHeight,\n    bodyEl.clientHeight, docEl.clientHeight\n  );\n  return scrollHeight - currentScroll - viewHeight;\n};","/**\n * return a full URL from its root link and params object\n * @param {*} link root link\n * @param {*} params URL params to be converted\n */\nexport const convertToUrl = (link, params) => {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  return link + '?' + queryString;\n}\n\n/**\n * to extract value of named parameter from a given link\n * @param {*} link Link to be extracted\n * @param {*} name name of the parameter\n */\nexport function getUrlParameter(link, name) {\n  name = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n  var results = regex.exec(link);\n  return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n};","/**\n * More details about API search\n * https://developers.google.com/youtube/v3/docs/search/list#parameters\n */\nimport fetch from 'isomorphic-unfetch';\nimport { convertToUrl } from '../../utils/url';\n\nexport const ROOT_URL = 'https://www.googleapis.com/youtube/v3/search';\n\nexport const YoutubeSearch = (options = {}) => new Promise((resolve, reject) => {\n  if (!options.key || !options.q || !options.part || !options.type) {\n    reject(new Error('Please make sure that the required fields are inserted'));\n  }\n\n  const link = convertToUrl(ROOT_URL, options);\n\n  fetch(link)\n    .then((response) => resolve(response.json()))\n    .catch(reject);\n});\n\nexport default YoutubeSearch;","import YoutubeSearch from \"../services/youtube-search-api\";\n\n/**\n * Actions and default state\n */\nconst API_KEY = process.env.REACT_APP_YOUTUBE_SEARCH_KEY;\nconst LOADING_QUERY_DATA = \"search/LOADING_QUERY_DATA\";\nconst LOADED_QUERY_DATA = \"search/LOADED_QUERY_DATA\";\nconst APPEND_QUERY_DATA = \"search/APPEND_QUERY_DATA\";\nconst CLEANUP = \"dictation/search/CLEANUP\";\nconst DEFAULT_STATE = {\n  query: null,\n  isLoading: false,\n  hasError: false,\n  nextPageToken: null,\n  videos: []\n};\n\n/**\n * pass a function to Redux thunk for further processing\n */\nexport const triggerQuery = newQuery => {\n  return (dispatch, getState) => {\n    const { DictationSearch } = getState();\n\n    if (DictationSearch.isLoading) return;\n\n    // perform a search\n    if (newQuery) {\n      dispatch(loadingQueryData(newQuery));\n\n      YoutubeSearch({\n        key: API_KEY,\n        q: newQuery,\n        part: \"snippet\",\n        type: \"video\",\n        relevanceLanguage: \"de\",\n        maxResults: 10\n      })\n        .then(data => {\n          dispatch(loadedQueryData(data));\n        })\n        .catch(err => {\n          console.log(\"Error: \", err);\n        });\n    } else {\n      dispatch(loadingQueryData(DictationSearch.query));\n\n      YoutubeSearch({\n        key: API_KEY,\n        q: DictationSearch.query,\n        part: \"snippet\",\n        type: \"video\",\n        relevanceLanguage: \"de\",\n        maxResults: 10,\n        pageToken: DictationSearch.nextPageToken\n      })\n        .then(data => {\n          dispatch(appendQueryData(data));\n        })\n        .catch(err => {\n          console.log(\"Error: \", err);\n        });\n    }\n  };\n};\n\nexport const loadingQueryData = query => ({ type: LOADING_QUERY_DATA, query });\nexport const loadedQueryData = data => ({ type: LOADED_QUERY_DATA, data });\nexport const appendQueryData = data => ({ type: APPEND_QUERY_DATA, data });\nexport const cleanup = () => ({ type: CLEANUP });\n\n/**\n * Get the initial state of Dictation Search component\n * @returns A promise with the default state\n */\nexport const init = () =>\n  new Promise((resolve, reject) => {\n    resolve(DEFAULT_STATE);\n  });\n\n/**\n * reducer for dictation view\n */\nexport default function(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case LOADING_QUERY_DATA:\n      return {\n        ...state,\n        query: action.query,\n        isLoading: true\n      };\n    case LOADED_QUERY_DATA:\n      return {\n        ...state,\n        videos: action.data.items,\n        nextPageToken: action.data.nextPageToken,\n        isLoading: false\n      };\n    case APPEND_QUERY_DATA:\n      return {\n        ...state,\n        videos: [...state.videos, ...action.data.items],\n        nextPageToken: action.data.nextPageToken,\n        isLoading: false\n      };\n    case CLEANUP:\n      return DEFAULT_STATE;\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport SearchInput from \"../../components/youtube-search-input/search-input\";\nimport SearchListing from \"../../components/youtube-search-listing/search-listing\";\nimport { triggerQuery, cleanup } from \"../../event-handlers/dictation-search\";\nimport PropTypes from 'prop-types';\n\nclass DictationApp extends React.Component {\n  componentWillUnmount() {\n    this.props.cleanup();\n  }\n\n  render() {\n    const { query, videos, triggerQuery } = this.props;\n    return (\n      <React.Fragment>\n        <SearchInput onClick={triggerQuery} query={query} />\n        <SearchListing videos={videos} onFiniteScroll={triggerQuery} />\n      </React.Fragment>\n    );\n  }\n}\n\nDictationApp.propTypes = {\n  query: PropTypes.string,\n  videos: PropTypes.array,\n  triggerQuery: PropTypes.func,\n  cleanup: PropTypes.func\n};\n\nexport default connect(\n  ({ DictationSearch }) => ({\n    query: DictationSearch.query,\n    videos: DictationSearch.videos\n  }),\n  { triggerQuery, cleanup }\n)(DictationApp);\n","/**\n * actions\n */\nconst TOGGLE_GOAL = \"goals/TOGGLE_GOAL\";\nconst ADD_GOAL = \"goals/ADD_GOAL\";\nconst FILTER_GOAL = \"goals/FILTER_GOAL\";\nconst CLEANUP = \"goals/CLEANUP\";\nexport const FilterType = {\n  SHOW_ALL: \"SHOW_ALL\",\n  SHOW_ACTIVE: \"SHOW_ACTIVE\",\n  SHOW_DONE: \"SHOW_DONE\"\n};\nconst DEFAULT_STATE = {\n  goals: [],\n  filter: FilterType.SHOW_ALL\n};\n\nlet goalCount = 0;\n\n/**\n * action creator\n */\nexport const toggleGoal = id => ({ type: TOGGLE_GOAL, id });\nexport const addGoal = text => ({ type: ADD_GOAL, id: goalCount++, done: false, text });\nexport const filterGoal = filter => ({ type: FILTER_GOAL, filter });\nexport const cleanup = () => ({ type: CLEANUP });\n\n/**\n * Get the initial state of Goal component\n * @returns A promise with the default state\n */\nexport const init = () =>\n  new Promise((resolve, reject) => {\n    resolve(DEFAULT_STATE);\n  });\n\n/**\n * reducer\n */\nexport default function reducer(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case TOGGLE_GOAL:\n      return {\n        ...state,\n        goals: state.goals.map(goal => (goal.id === action.id ? { ...goal, done: !goal.done } : goal))\n      };\n    case ADD_GOAL:\n      return {\n        ...state,\n        goals: [...state.goals, { id: action.id, done: false, text: action.text }]\n      };\n    case FILTER_GOAL:\n      return {\n        ...state,\n        filter: action.filter\n      };\n    case CLEANUP:\n      return DEFAULT_STATE;\n    default:\n      return state;\n  }\n}\n","export const formatStartTime = (start) => {\n  let secondTotal = Math.floor(start);\n  let seconds = secondTotal % 60;\n  let minutes = Math.floor(secondTotal / 60);\n  if (minutes < 10) {\n    return '0' + minutes + ':' + ('0' + seconds).slice(-2);\n  }\n  else {\n    return minutes + ':' + ('0' + seconds).slice(-2);\n  }\n};\nexport const markLines = (lines, cur) => {\n  return lines.map(line => ({\n    ...line,\n    current: line.start === cur ? 'current' : ''\n  }));\n};\n","import { formatStartTime, markLines } from \"../utils/list\";\n\n/**\n * Actions and default state\n */\nconst LOAD_CAPTION = \"dictation/view/LOAD_CAPTION\";\nconst JUMP_TO_LINE = \"dictation/view/JUMP_TO_LINE\";\nconst CHANGE_TO_LINE = \"dictation/view/CHANGE_TO_LINE\";\nconst DISPATCH_COMMAND = \"dictation/view/DISPATCH_COMMAND\";\nconst CLEANUP = \"dictation/view/CLEANUP\";\nconst DEFAULT_STATE = {\n  videoId: null,\n  lines: null,\n  markers: null,\n  playAt: null,\n  curStart: null,\n  command: null\n};\n\n/**\n * pass a function to Redux thunk for further processing\n */\nexport const loadCaption = ({ videoId, lines }) => ({ type: LOAD_CAPTION, videoId, lines });\nexport const jumpToLine = start => ({ type: JUMP_TO_LINE, start });\nexport const changeToLine = start => ({ type: CHANGE_TO_LINE, start });\nexport const dispatchCommand = command => ({ type: DISPATCH_COMMAND, command });\nexport const cleanup = () => ({ type: CLEANUP });\n\n/**\n * Get the initial state of Dictation View component\n * @returns A promise with the default state\n */\nexport const init = () =>\n  new Promise((resolve, reject) => {\n    resolve(DEFAULT_STATE);\n  });\n\n/**\n * reducer for dictation view\n */\nexport default function(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case LOAD_CAPTION:\n      const lines = action.lines.map(i => ({\n        ...i,\n        formattedStart: formatStartTime(i.start)\n      }));\n      lines[0].current = \"current\";\n      return {\n        ...state,\n        videoId: action.videoId,\n        lines: lines,\n        markers: action.lines.map(i => i.start)\n      };\n    case JUMP_TO_LINE:\n      if (!state.lines) return;\n      return {\n        ...state,\n        curStart: action.start,\n        lines: markLines(state.lines, action.start)\n      };\n    case CHANGE_TO_LINE:\n      if (!state.lines) return;\n      return {\n        ...state,\n        playAt: action.start + \"|\" + new Date().getTime(),\n        curStart: action.start,\n        lines: markLines(state.lines, action.start)\n      };\n    case DISPATCH_COMMAND:\n      return {\n        ...state,\n        command: action.command + \"|\" + new Date().getTime()\n      };\n    case CLEANUP:\n      return DEFAULT_STATE;\n    default:\n      return state;\n  }\n}\n","/**\n * https://developers.google.com/identity/sign-in/web/reference\n */\nlet googleAuthPromise = null;\n\n/**\n * Private method to initialize google auth instance\n * @returns Promise of Google Auth Instance\n */\nconst getGoogleAuth = () => {\n  if (!googleAuthPromise) {\n    googleAuthPromise = new Promise((resolve, reject) => {\n      window.gapi.load(\"auth2\", function() {\n        window.gapi.auth2\n          .init({\n            client_id: process.env.REACT_APP_GOOGLE_CLIENT_API,\n            cookiepolicy: \"single_host_origin\"\n          })\n          .then(authIns => {\n            resolve(authIns);\n          })\n          .catch(err => reject(err));\n      });\n    });\n  }\n\n  return googleAuthPromise;\n};\n\n/**\n * To check if the user signs in or not.\n * @returns A promise\n */\nexport const isSignedInGoogle = () => {\n  console.log(\"isSignedIn\");\n  return new Promise((resolve, reject) => {\n    getGoogleAuth()\n      .then(authIns => {\n        if (authIns.isSignedIn.get()) {\n          const user = authIns.currentUser.get();\n          const profile = user.getBasicProfile();\n          resolve(true, {\n            uid: profile.getId(),\n            name: profile.getName(),\n            email: profile.getEmail()\n          });\n        } else {\n          resolve(false);\n        }\n      })\n      .catch(err => reject(err));\n  });\n};\n\n/**\n * To sign in with a google account\n * @returns GoogleUser if successful\n */\nexport const signInGoogle = () => {\n  console.log(\"signed in\");\n  return new Promise((resolve, reject) => {\n    getGoogleAuth()\n      .then(authIns => {\n        authIns.signIn().then(user => {\n          const profile = user.getBasicProfile();\n          resolve({\n            uid: profile.getId(),\n            name: profile.getName(),\n            email: profile.getEmail()\n          });\n        });\n      })\n      .catch(err => reject(err));\n  });\n};\n\n/**\n * To sign out the current user\n * @returns true if successful\n */\nexport const signOutGoogle = () => {\n  console.log(\"sign out\");\n  return new Promise((resolve, reject) => {\n    getGoogleAuth()\n      .then(authIns => {\n        authIns.signOut().then(() => {\n          resolve(true);\n        });\n      })\n      .catch(err => reject(err));\n  });\n};","const KEY = \"randy-nghiem-voka-web\";\n\n/**\n * Get cached object from local storage\n * @returns Stored object if existing, null otherwise.\n */\nexport const getCache = () => {\n  const cache = window.localStorage;\n  const storedValue = cache.getItem(KEY);\n  if (storedValue === null) return null;\n\n  const storedObject = JSON.parse(storedValue);\n  return storedObject;\n};\n\n/**\n * Cache an object into local storage\n * @param {object} obj - Object to be stored\n */\nexport const setCache = obj => {\n  const cache = window.localStorage;\n  const storedValue = JSON.stringify(obj);\n  cache.setItem(KEY, storedValue);\n};\n","import { signInGoogle, signOutGoogle } from \"../utils/google-auth\";\nimport { setCache } from \"../utils/local-storage\";\n/**\n * Action descriptions\n */\nconst AUTHENTICATING_WITH_GOOGLE = \"auth/AUTHENTICATING_WITH_GOOGLE\";\nconst SIGNED_IN_WITH_GOOGLE = \"auth/SIGNED_IN_WITH_GOOGLE\";\nconst SIGNED_OUT_WITH_GOOGLE = \"auth/SIGNED_OUT_WITH_GOOGLE\";\n\nconst DEFAULT_STATE = {\n  provider: null,\n  ready: true,\n  isAuthenticated: false,\n  uid: null,\n  name: null,\n  email: null\n};\n\n/**\n * Action creators\n */\nexport const signInOrOut = provider => {\n  return (dispatch, getState) => {\n    // check if the user is authenticated\n    const { Auth } = getState();\n\n    // if not ready, skip to avoid duplicated authentication\n    if (!Auth.ready) return;\n\n    dispatch(authenticatingWithGoogle());\n\n    if (provider === \"google\") {\n      if (Auth.isAuthenticated) {\n        signOutGoogle()\n          .then(result => {\n            dispatch(signedOutWithGoogle());\n          })\n          .catch(err => console.log(err));\n      } else {\n        signInGoogle()\n          .then(user => {\n            dispatch(signedInWithGoogle(user));\n          })\n          .catch(err => console.log(err));\n      }\n    }\n  };\n};\n\nexport const authenticatingWithGoogle = () => ({ type: AUTHENTICATING_WITH_GOOGLE });\nexport const signedInWithGoogle = payload => ({ type: SIGNED_IN_WITH_GOOGLE, payload });\nexport const signedOutWithGoogle = () => ({ type: SIGNED_OUT_WITH_GOOGLE });\n\n/**\n * Get intial state of Auth component\n * @returns A promise with the default state\n */\nexport const init = () =>\n  new Promise((resolve, reject) => {\n    resolve(DEFAULT_STATE);\n  });\n\nconst cached = state => {\n  setCache({ Auth: state });\n  return state;\n};\n\n/**\n * Handle authentication\n */\nexport default function Auth(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case AUTHENTICATING_WITH_GOOGLE:\n      return cached({\n        ...state,\n        provider: \"google\",\n        ready: false\n      });\n    case SIGNED_IN_WITH_GOOGLE:\n      return cached({\n        ...state,\n        ready: true,\n        isAuthenticated: true,\n        ...action.payload\n      });\n    case SIGNED_OUT_WITH_GOOGLE:\n      return cached(DEFAULT_STATE);\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport GoalState, { init as initializeGoal } from \"./goal\";\nimport DictationSearch, { init as InitializeDictationSearch } from \"./dictation-search\";\nimport DictationView, { init as InitializeDictationView } from \"./dictation-view\";\nimport Auth, { init as InitializeAuth } from \"./auth\";\nimport { getCache } from \"../utils/local-storage\";\n\nexport const initializeStore = () =>\n  new Promise((resolve, reject) => {\n    Promise.all([InitializeAuth(), initializeGoal(), InitializeDictationSearch(), InitializeDictationView()]).then(\n      values => {\n        const initialState = {\n          Auth: values[0],\n          GoalState: values[1],\n          DictationSearch: values[2],\n          DictationView: values[3]\n        };\n\n        const cachedAuth = getCache();\n        if (cachedAuth !== null) {\n          initialState.Auth = cachedAuth.Auth;\n        }\n\n        console.log(\"initialState: \", initialState);\n\n        resolve(initialState);\n      }\n    );\n  });\n\nexport default combineReducers({\n  Auth,\n  GoalState,\n  DictationSearch,\n  DictationView\n});\n","import React from 'react';\n\n/**\n * Custom goal input with custom style\n * @param {*} props props object with onClick event handler\n */\nexport default function ({ onClick }) {\n  const goalInput = React.useRef(null);\n\n  const handleAddTodo = (e) => {\n    e.preventDefault();\n    if(goalInput && goalInput.current.value){\n      const val = goalInput.current.value.trim();\n      onClick && onClick(val);\n      goalInput.current.value = '';\n    }\n  };\n\n  return (\n    <form onSubmit={handleAddTodo}>\n      <div className=\"form-row mb-3 mt-3\">\n        <div className=\"col-8\">\n          <input type=\"text\" className=\"form-control\" placeholder=\"Todo Item\" ref={goalInput} />\n        </div>\n        <div className=\"col-4\">\n          <button type=\"submit\" className=\"btn btn-secondary\">Add Item</button>\n        </div>\n      </div>\n    </form>\n  );\n};","import React from 'react';\n\nexport default function ({ text, done, onClick }) {\n  let doneLabel = done ? ' list-group-item-success' : '';\n\n  return (\n    <li className={\"list-group-item d-flex justify-content-between align-items-center\" + doneLabel}\n      onClick={onClick}>\n      {text}\n      <span className=\"badge badge-secondary badge-pill\">New</span>\n    </li>\n  );\n}","import React from 'react';\nimport GoalItem from './goal-list-item';\n\nexport default function ({ goals, toggleGoal }) {\n  return (\n    <ul className=\"list-group mb-3\">\n      {\n        goals != null &&\n        goals.map(goal => (\n          <GoalItem key={goal.id} {...goal} onClick={() => toggleGoal(goal.id)} />\n        ))\n      }\n    </ul>\n  );\n}","import React from 'react';\n\n/**\n * Custom filter component\n * @param {*} props React props\n */\nexport default function ({ FilterType, filter, onFilter }) {\n  let all = filter === FilterType.SHOW_ALL ? 'active' : '';\n  let active = filter === FilterType.SHOW_ACTIVE ? 'active' : '';\n  let done = filter === FilterType.SHOW_DONE ? 'active' : '';\n\n  return (\n    <div className=\"btn-group btn-group-toggle\">\n      <label className={'btn btn-outline-info ' + all}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_ALL)} /> All\n      </label>\n      <label className={'btn btn-outline-info ' + active}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_ACTIVE)} /> Active\n      </label>\n      <label className={'btn btn-outline-info ' + done}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_DONE)} /> Done\n      </label>\n    </div>\n  );\n}","//compose different todo components\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport GoalInput from \"../../components/goal-input\";\nimport GoalList from \"../../components/goal-listing/goal-list\";\nimport GoalFilter from \"../../components/goal-listing/goal-filter\";\nimport { addGoal, toggleGoal, FilterType, filterGoal, cleanup } from \"../../event-handlers/goal\";\nimport PropTypes from 'prop-types';\n\nclass Goal extends React.Component {\n  componentWillUnmount() {\n    this.props.cleanup();\n  }\n\n  render() {\n    const { goals, filter, addGoal, toggleGoal, filterGoal } = this.props;\n    return (\n      <div className=\"row justify-content-md-center\">\n        <div className=\"col-md-10 col-lg-8\">\n          <GoalInput onClick={text => addGoal(text)} />\n          <GoalList goals={goals} toggleGoal={toggleGoal} />\n          <GoalFilter FilterType={FilterType} filter={filter} onFilter={filterGoal} />\n        </div>\n      </div>\n    );\n  }\n}\n\nGoal.propTypes = {\n  goals: PropTypes.array.isRequired,\n  filter: PropTypes.string,\n  addGoal: PropTypes.func,\n  toggleGoal: PropTypes.func,\n  filterGoal: PropTypes.func,\n  cleanup: PropTypes.func\n};\n\nconst filterGoals = (goals, filter) => {\n  switch (filter) {\n    case FilterType.SHOW_ACTIVE:\n      return goals.filter(goal => goal.done === false);\n    case FilterType.SHOW_DONE:\n      return goals.filter(goal => goal.done === true);\n    default:\n      return goals;\n  }\n};\n\nexport default connect(\n  ({ GoalState }) => ({\n    goals: filterGoals(GoalState.goals, GoalState.filter),\n    filter: GoalState.filter\n  }),\n  { addGoal, toggleGoal, filterGoal, cleanup }\n)(Goal);\n","import loadScript from \"load-script2\";\n\nlet yt = null;\nexport const init = () => {\n  if (!yt) {\n    yt = new Promise((resolve, reject) => {\n      if (typeof window.YT === \"object\" &&\n        typeof window.YT.ready === \"function\") {\n        window.YT.ready(() => {\n          resolve(window.YT);\n        });\n        return;\n      }\n      loadScript(\"https://www.youtube.com/iframe_api\").then(() => {\n        window.YT.ready(() => {\n          resolve(window.YT);\n        });\n      }, err => {\n        reject(err);\n      });\n    });\n  }\n  return yt;\n};\n","import React from \"react\";\nimport { init } from \"./youtube-loader\";\n\n/**\n * Event driven Youtube Player\n */\nclass YouTubePlayer extends React.Component {\n  YTEvents = [\n    \"onReady\",\n    \"onStateChange\",\n    \"onPlaybackQualityChange\",\n    \"onPlaybackRateChange\",\n    \"onError\"\n  ];\n\n  intervalMarker = null;\n\n  /**\n   * create when mounted\n   */\n  componentDidMount() {\n    this.createPlayer();\n  }\n\n  componentDidUpdate(prevProps) {\n    const changes = Object.keys(this.props).filter(\n      name => this.props[name] !== prevProps[name]\n    );\n    this.updateProps(changes);\n  }\n\n  componentWillUnmount() {\n    if (this.playerInstance) {\n      this.playerInstance.destroy();\n    }\n  }\n\n  findLastMarker = (markers, curTime, nextTime) => {\n    const total = markers.length;\n    for (let i = 1; i < total; i++) {\n      if (markers[i] > curTime && markers[i] <= nextTime) {\n        return {\n          curStart: markers[i - 1],\n          nextStart: markers[i]\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Youtube Player native event: onPlayerStateChange\n   */\n  onPlayerStateChange = event => {\n    const {\n      onCued,\n      onBuffering,\n      onPause,\n      onPlaying,\n      onEnd,\n      pingInterval,\n      markers,\n      onSpeechChange\n    } = this.props;\n\n    const State = window.YT.PlayerState;\n\n    //trigger event when speech changes\n    if (markers !== null && markers.length > 0) {\n      if (event.data === State.PLAYING) {\n        this.intervalMarker = setInterval(() => {\n          let currentTime = event.target.getCurrentTime();\n          const marker = this.findLastMarker(markers, currentTime, currentTime + pingInterval / 1000);\n\n          if (marker != null) {\n            onSpeechChange && onSpeechChange(marker.nextStart);\n          }\n        }, pingInterval);\n      } else {\n        clearInterval(this.intervalMarker);\n      }\n    }\n\n    switch (event.data) {\n      case State.CUED:\n        onCued(event);\n        break;\n      case State.BUFFERING:\n        onBuffering(event);\n        break;\n      case State.PAUSED:\n        onPause(event);\n        break;\n      case State.PLAYING:\n        onPlaying(event);\n        break;\n      case State.ENDED:\n        onEnd(event);\n        break;\n      default:\n    }\n  };\n\n  getInitialOptions = () => {\n    return {\n      videoId: this.props.video,\n      width: this.props.width,\n      height: this.props.height,\n      playerVars: {\n        autoplay: this.props.autoplay,\n        cc_load_policy: this.props.showCaptions ? 1 : 0,\n        controls: this.props.controls ? 1 : 0,\n        disablekb: this.props.disableKeyboard ? 1 : 0,\n        fs: this.props.allowFullscreen ? 1 : 0,\n        hl: this.props.lang,\n        iv_load_policy: this.props.annotations ? 1 : 3,\n        start: this.props.startSeconds,\n        end: this.props.endSeconds,\n        modestbranding: this.props.modestBranding ? 1 : 0,\n        playsinline: this.props.playsInline ? 1 : 0,\n        rel: this.props.showRelatedVideos ? 1 : 0,\n        showinfo: this.props.showInfo ? 1 : 0\n      },\n      events: {\n        onReady: this.onPlayerReady,\n        onStateChange: this.onPlayerStateChange\n      }\n    };\n  };\n\n  updateProps = propNames => {\n    this.player.then(player => {\n      propNames.forEach(name => {\n        const value = this.props[name];\n        switch (name) {\n          case \"muted\":\n            if (value) {\n              player.mute();\n            } else {\n              player.unMute();\n            }\n            break;\n          case \"suggestedQuality\":\n            player.setPlaybackQuality(value);\n            break;\n          case \"volume\":\n            player.setVolume(value * 100);\n            break;\n          case \"paused\":\n            if (value && player.getPlayerState() !== 2) {\n              player.pauseVideo();\n            } else if (!value && player.getPlayerState() === 2) {\n              player.playVideo();\n            }\n            break;\n          case \"id\":\n          case \"className\":\n          case \"width\":\n          case \"height\":\n            player.getIframe()[name] = value;\n            break;\n          case \"video\":\n            if (!value) {\n              player.stopVideo();\n            } else {\n              const { startSeconds, endSeconds, autoplay } = this.props;\n              const opts = {\n                videoId: value,\n                startSeconds: startSeconds || 0,\n                endSeconds\n              };\n              if (autoplay) {\n                player.loadVideoById(opts);\n              } else {\n                player.cueVideoById(opts);\n              }\n            }\n            break;\n          case \"playAt\":\n            if (value) {\n              const pos = parseFloat(value.split(\"|\")[0]);\n              player.seekTo(pos);\n            }\n            break;\n          case \"command\":\n            const actual = value.split(\"|\")[0];\n            switch (actual) {\n              case \"play\":\n                player.playVideo();\n                break;\n              case \"pause\":\n                player.pauseVideo();\n                break;\n              case \"reset\":\n                player.seekTo(0);\n                player.playVideo();\n                break;\n              case \"stop\":\n                player.stopVideo();\n                break;\n              default:\n            }\n            break;\n          default:\n        }\n      });\n    });\n  };\n\n  createPlayer = () => {\n    const { volume } = this.props;\n\n    // trigger first event: Player Loading\n    this.player = init().then(\n      YT =>\n        new Promise(resolve => {\n          // to resolve when the player is ready\n          this.resolvePlayer = resolve;\n\n          const player = new YT.Player(\n            this.container,\n            this.getInitialOptions()\n          );\n          this.playerInstance = player;\n\n          this.YTEvents.forEach(name => {\n            player.addEventListener(name, event => {\n              const handler = this.props[name];\n              if (handler) {\n                handler(event);\n              }\n            });\n          });\n        })\n    );\n\n    if (typeof volume === \"number\") {\n      this.updateProps([\"volume\"]);\n    }\n  };\n\n  /**\n   * Youtube Player native event: onPlayerReady\n   */\n  onPlayerReady = event => {\n    const { volume, muted, suggestedQuality, playbackRate } = this.props;\n\n    if (typeof volume !== \"undefined\") {\n      event.target.setVolume(volume * 100);\n    }\n    if (typeof muted !== \"undefined\") {\n      if (muted) {\n        event.target.mute();\n      } else {\n        event.target.unMute();\n      }\n    }\n    if (typeof suggestedQuality !== \"undefined\") {\n      event.target.setPlaybackQuality(suggestedQuality);\n    }\n    if (typeof playbackRate !== \"undefined\") {\n      event.target.setPlaybackRate(playbackRate);\n    }\n\n    // linked to 1st event (Player Loading), resolve to Youtube Player when it's ready\n    this.resolvePlayer(event.target);\n  };\n\n  render() {\n    const { id, className } = this.props;\n\n    return (\n      <div id={id} className={className} ref={el => (this.container = el)} />\n    );\n  }\n}\n\nYouTubePlayer.defaultProps = {\n  autoplay: false,\n  showCaptions: false,\n  controls: true,\n  disableKeyboard: false,\n  allowFullscreen: true,\n  annotations: true,\n  modestBranding: false,\n  playsInline: false,\n  showRelatedVideos: true,\n  showInfo: true,\n  pingInterval: 100,\n  playAt: null, //  7.591|1578150995863\n  onCued: () => { },\n  onBuffering: () => { },\n  onPlaying: () => { },\n  onPause: () => { },\n  onEnd: () => { },\n  onSpeechChange: null,\n  markers: null,\n  command: null\n};\n\nexport default YouTubePlayer;\n","import React from 'react';\nimport annyang from 'annyang';\n\nexport default function ({ commands, onCommand }) {\n\n  React.useEffect(() => {\n    if (annyang) {\n      // define commands\n      const cmdObject = {};\n      commands.forEach(cmd => cmdObject[cmd] = () => onCommand(cmd));\n      annyang.addCommands(cmdObject);\n\n      //start listening\n      annyang.start();\n\n      return () => {\n        annyang.abort();\n      };\n    }\n  });\n\n  return '';\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport YouTubePlayer from \"../../components/youtube-player/youtube-player\";\nimport { jumpToLine, dispatchCommand } from \"../../event-handlers/dictation-view\";\nimport CommandBot from \"../../components/command-bot\";\nimport PropTypes from 'prop-types';\n\nconst DictationPlayer = ({ videoId, markers, playAt, command, jumpToLine, dispatchCommand }) => {\n  return (\n    <React.Fragment>\n      {markers && (\n        <YouTubePlayer\n          video={videoId}\n          markers={markers}\n          onSpeechChange={start => jumpToLine(start)}\n          playAt={playAt}\n          command={command}\n          width=\"720\"\n          height=\"405\"\n          autoplay=\"1\"\n        />\n      )}\n      <CommandBot\n        commands={[\"repeat\", \"again\", \"next\", \"reset\", \"stop\", \"play\", \"pause\"]}\n        onCommand={cmd => dispatchCommand(cmd)}\n      />\n    </React.Fragment>\n  );\n};\n\nDictationPlayer.propTypes = {\n  videoId: PropTypes.string.isRequired,\n  markers: PropTypes.array,\n  playAt: PropTypes.string,\n  command: PropTypes.string,\n  jumpToLine: PropTypes.func,\n  dispatchCommand: PropTypes.func\n};\n\nexport default connect(\n  ({ DictationView }, ownProps) => ({\n    videoId: ownProps.videoId,\n    markers: DictationView.markers,\n    playAt: DictationView.playAt,\n    command: DictationView.command\n  }),\n  { jumpToLine, dispatchCommand }\n)(DictationPlayer);\n","import React from 'react';\nimport './index.css';\n\nexport default function ({ lines, curStart, onLineClick }) {\n  React.useEffect(() => {\n    let curLine = document.querySelector('.caption-viewer .current');\n    if (curLine != null) {\n      curLine.scrollIntoView({ behavior: 'smooth', block: \"center\" });\n    }\n  }, [curStart]);\n\n  return (\n    lines &&\n    <ul className=\"list-group list-group-flush caption-viewer mt-3\">\n      {\n        lines.map(li => (\n          <li className={\"list-group-item caption-item \" + li.current}\n            key={li.start} data-start={li.start}\n            onClick={e => onLineClick(e.currentTarget.dataset.start)}>\n            <span className=\"caption-item-time\">{li.formattedStart}</span>\n            <span className=\"caption-item-text\">{li.text}</span>\n          </li>\n        ))\n      }\n    </ul>\n  );\n}","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { changeToLine, loadCaption } from \"../../event-handlers/dictation-view\";\nimport YoutubeCaption from \"../../components/youtube-caption\";\nimport PropTypes from 'prop-types';\n\nconst DictationCaption = ({ videoId, lines, curStart, changeToLine, loadCaption }) => {\n  useEffect(() => {\n    axios(`https://voka.azurewebsites.net/api/v1/captions/${videoId}/de`).then(response =>\n      loadCaption({ videoId, lines: response.data })\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <YoutubeCaption lines={lines} curStart={curStart} onLineClick={changeToLine} />;\n};\n\nDictationCaption.propTypes = {\n  lines: PropTypes.array,\n  curStart: PropTypes.number,\n  videoId: PropTypes.string,\n  changeToLine: PropTypes.func,\n  loadCaption: PropTypes.func\n}\n\nexport default connect(\n  ({ DictationView }, ownProps) => ({\n    lines: DictationView.lines,\n    curStart: DictationView.curStart,\n    videoId: ownProps.videoId\n  }),\n  { changeToLine, loadCaption }\n)(DictationCaption);\n","import React from \"react\";\nimport { connect } from 'react-redux';\nimport DictationPlayer from \"./dictation-player\";\nimport DictationCaption from \"./dictation-caption\";\nimport { cleanup } from '../../event-handlers/dictation-view';\nimport PropTypes from 'prop-types';\n\nclass DictationView extends React.Component {\n\n  componentWillUnmount() {\n    this.props.dispatch(cleanup());\n  }\n\n  render() {\n    const { match } = this.props;\n    const videoId = match.params.vid;\n\n    return (\n      <React.Fragment>\n        <div className=\"row\">\n          <div className=\"col-md-12 text-center\">\n            <DictationPlayer videoId={videoId} />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <DictationCaption videoId={videoId} />\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nDictationView.propTypes = {\n  dispatch: PropTypes.func.isRequired\n};\n\nexport default connect()(DictationView);","import \"./index.css\";\nimport \"bootstrap/js/dist/collapse\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function ({ isAuthenticated, signInOrOut }) {\n  return (\n    <nav className=\"navbar navbar-dark bg-info navbar-expand-lg fixed-top portfolio-navbar gradient\">\n      <div className=\"container app-container\">\n        <Link to=\"/\" className=\"navbar-brand logo\">\n          Deutsch Lernen\n        </Link>\n        {isAuthenticated &&\n          <React.Fragment>\n            <button className=\"navbar-toggler\" data-target=\"#navbarNav\" data-toggle=\"collapse\">\n              <span className=\"sr-only\">Toggle navigation</span>\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div id=\"navbarNav\" className=\"collapse navbar-collapse\">\n              <ul className=\"nav navbar-nav ml-auto\">\n                <li className=\"nav-item\" role=\"presentation\">\n                  <Link to=\"/\" className=\"nav-link voka-nav-link active\">Dashboard</Link>\n                </li>\n                <li className=\"nav-item\" role=\"presentation\">\n                  <span className=\"nav-link active voka-nav-link\" onClick={signInOrOut}>\n                    Sign Out\n              </span>\n                </li>\n              </ul>\n            </div>\n          </React.Fragment>\n        }\n      </div>\n    </nav>\n  );\n}\n","import React from \"react\";\nimport AppNavBar from \"../../components/app-navbar\";\nimport { connect } from \"react-redux\";\nimport { signInOrOut } from \"../../event-handlers/auth\";\nimport PropTypes from 'prop-types';\n\nclass AppHeader extends React.Component {\n  signInOrOut = () => {\n    this.props.dispatch(signInOrOut(\"google\"));\n  };\n\n  render() {\n    const { isAuthenticated } = this.props;\n    return <AppNavBar isAuthenticated={isAuthenticated} signInOrOut={this.signInOrOut} />;\n  }\n}\n\nAppHeader.propTypes = {\n  isAuthenticated: PropTypes.bool,\n  dispatch: PropTypes.func.isRequired\n};\n\nexport default connect(\n  ({ Auth }) => ({\n    isAuthenticated: Auth.isAuthenticated\n  })\n)(AppHeader);\n","import './index.css';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function ({ to, title, text, icon }) {\n  return (\n    <div className=\"card shadow border-info py-2 dashboard-card mb-3\">\n      <div className=\"card-body\">\n        <div className=\"row align-items-center no-gutters\">\n          <div className=\"col mr-2\">\n            <Link className=\"font-weight-bold\" to={to}>{title}</Link>\n            <div>{text}</div>\n          </div>\n          <div className=\"col-auto\">\n            <i className={icon}></i>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};","import React from \"react\";\nimport DashboardCard from \"../../components/dashboard-card\";\n\nclass Dashboard extends React.Component {\n  sections = [\n    {\n      to: \"/dictation\",\n      title: \"VIDEO DICTATION\",\n      text: \"Learning by watching Youtube in Deutsch and repeating along.\",\n      icon: \"fas fa-chalkboard-teacher fa-5x\"\n    },\n    {\n      to: \"/voice\",\n      title: \"LISTEN AND LEARN\",\n      text: \"Listen in German and write down what you hear.\",\n      icon: \"fas fa-microphone-alt fa-5x\"\n    },\n    {\n      to: \"/goal\",\n      title: \"GOAL SETTING\",\n      text: \"Setting goals and keep track of progress.\",\n      icon: \"fas fa-tasks fa-5x\"\n    }\n  ];\n\n  render() {\n    return (\n      <div className=\"row\">\n        {this.sections.map(sc => (\n          <div className=\"col-md-6\" key={sc.to}>\n            <DashboardCard\n              to={sc.to}\n              title={sc.title}\n              text={sc.text}\n              icon={sc.icon}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;","import React from \"react\";\nimport { parseText } from \"../../utils/text-processing\";\n\nexport default function VoiceText({ onPlay, onRepeat, onImport }) {\n  const textboxRef = React.useRef(null);\n\n  React.useEffect(() => {\n    if (process.env.REACT_APP_VOICE_TEXT_SAMPLE) {\n      textboxRef.current.value = process.env.REACT_APP_VOICE_TEXT_SAMPLE;\n    }\n  }, []);\n\n  const processText = e => {\n    e.preventDefault();\n\n    if (textboxRef.current && textboxRef.current.value) {\n      const text = textboxRef.current.value;\n      // parse text\n      const sentences = parseText(text);\n\n      // emit event\n      onPlay && onPlay(sentences);\n    }\n  };\n\n  return (\n    <form onSubmit={processText}>\n      <div className=\"form-row\">\n        <div className=\"form-group col-md-12\">\n          <label htmlFor=\"voiceTextControl\">Paste the text you want to listen!</label>\n          <textarea\n            ref={textboxRef}\n            className=\"form-control\"\n            name=\"voiceTextControl\"\n            id=\"voiceTextControl\"\n            rows=\"10\"\n          ></textarea>\n        </div>\n      </div>\n\n      <div className=\"form-row\">\n        <div className=\"form-group col-md-12\">\n          <button type=\"button\" className=\"btn btn-info pl-3 pr-3 mr-3\" onClick={() => onImport()}>\n            <i className=\"fas fa-folder-open fa-lg\"></i>\n          </button>\n\n          <button type=\"submit\" className=\"btn btn-info pl-3 pr-3 mr-3\">\n            <i className=\"fas fa-play fa-lg\"></i>\n          </button>\n\n          <button type=\"button\" className=\"btn btn-info pl-3 pr-3\" onClick={() => onRepeat()}>\n            <i className=\"fas fa-redo fa-lg\"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","export function parseText (text) {\n  if(!text || !text.trim()){\n    return null;\n  }\n\n  // eslint-disable-next-line\n  const sentences = text.match( /[^\\.!\\?]+[\\.!\\?]+/g );\n  return sentences.map(s => s.trim());\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport VoiceText from \"../../components/voice-text\";\nimport { getVoices } from \"../../utils/speech\";\n\nclass Voice extends React.Component {\n  state = {\n    curVoice: null\n  };\n\n  componentDidMount() {\n    this.setState({ curVoice: getVoices() });\n  }\n\n  componentDidUpdate(prevProps) {\n    // handle changes of props\n    \n\n  }\n\n  componentWillUnmount() {\n    // issue cleanup commands\n  }\n\n  render() {\n    return <VoiceText />;\n  }\n}\n\nexport default connect()(Voice);\n","export function getVoices() {\n  return new Promise((resolve, reject) => {\n    window.speechSynthesis.onvoiceschanged = () => {\n      const voices = window.speechSynthesis.getVoices();\n      const gVoices = voices.filter(v => v.voiceURI === \"Google Deutsch\");\n\n      if (gVoices.length === 1) {\n        resolve(gVoices[0]);\n      } else {\n        reject(\"Not able to get any supported voice.\");\n      }\n    };\n  });\n}\n\nexport function speakText({ voice, text, lang, rate }) {\n  if (!voice && !text) {\n    let u = new SpeechSynthesisUtterance();\n    u.voice = voice;\n    u.lang = lang;\n    u.text = text;\n    u.rate = rate;\n    window.speechSynthesis.speak(u);\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { signInOrOut } from \"../../event-handlers/auth\";\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types'\n\nclass Login extends React.Component {\n\n  signInOrOut = () => {\n    this.props.dispatch(signInOrOut(\"google\"));\n  };\n\n  render() {\n    const { isAuthenticated } = this.props;\n    const { from } = this.props.location.state || { from: { pathname: '/' } };\n\n    if (isAuthenticated) {\n      return <Redirect to={from} />\n    }\n\n    return (\n      <div className=\"row justify-content-center\">\n        <div className=\"col-6 text-center mt-5 pb-5 pt-5 bg-light shadow\">\n          <div className=\"mb-5\">\n            <i className=\"fas fa-user fa-5x text-info\"></i>\n          </div>\n          <button type=\"button\" className=\"btn btn-danger pl-3 pr-5\" onClick={this.signInOrOut}>\n            <i className=\"fab fa-google mr-5\"></i>\n            Sign In with Google\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  isAuthenticated: PropTypes.bool,\n  dispatch: PropTypes.func.isRequired\n};\n\nexport default connect(\n  ({ Auth }) => ({\n    isAuthenticated: Auth.isAuthenticated\n  })\n)(Login);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst ProtectedRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n  return (\n    <Route {...rest} render={props => (\n      isAuthenticated ?\n        <Component {...props} />\n        : <Redirect to={{\n          pathname: '/login',\n          state: { from: props.location }\n        }} />\n    )} />\n  );\n}\n\nProtectedRoute.propTypes = {\n  isAuthenticated: PropTypes.bool\n};\n\nexport default connect(\n  ({ Auth }) => ({\n    isAuthenticated: Auth.isAuthenticated\n  })\n)(ProtectedRoute);","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"./index.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport DictationApp from \"./views/dictation\";\nimport thunk from \"redux-thunk\";\nimport logger from \"redux-logger\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport reducers, { initializeStore } from \"./event-handlers\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Goal from \"./views/goal\";\nimport DictationView from \"./views/dictation/dictation-view\";\nimport AppHeader from \"./views/shared/app-header\";\nimport Dashboard from \"./views/dashboard\";\nimport Voice from \"./views/voice\";\nimport Login from \"./views/login\";\nimport ProtectedRoute from \"./views/shared/protected-route\";\n\n/**\n * Initial setup\n */\nconst middlewares = [thunk];\nlet basename = process.env.REACT_APP_BASE_NAME;\n\n/**\n * Development setup\n */\nif (process.env.NODE_ENV === \"development\") {\n  middlewares.push(logger);\n}\n\nif (process.env.NODE_ENV === \"production\") {\n  //TODO: enable security features\n}\n\n/**\n * Initialize the store with pre-loaded information\n */\n\ninitializeStore().then(preloadedState => {\n  const store = createStore(reducers, preloadedState, applyMiddleware(...middlewares));\n\n  console.log(\"preloadedState: \", preloadedState);\n\n  ReactDOM.render(\n    <Provider store={store}>\n      <Router basename={basename}>\n        <AppHeader />\n        <main className=\"app-body\">\n          <section className=\"app-view\">\n            <div className=\"container app-container\">\n              <Route exact path=\"/login\" component={Login} />\n              <ProtectedRoute exact path=\"/\" component={Dashboard} />\n              <ProtectedRoute exact path=\"/dictation\" component={DictationApp} />\n              <ProtectedRoute path=\"/dictation/:vid\" component={DictationView} />\n              <ProtectedRoute path=\"/goal\" component={Goal} />\n              <ProtectedRoute path=\"/voice\" component={Voice} />\n            </div>\n          </section>\n        </main>\n      </Router>\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n});\n"],"sourceRoot":""}