{"version":3,"sources":["components/youtube-search-input/search-input.js","components/youtube-search-listing/decoded-entity.js","components/youtube-search-listing/search-listing.js","utils/dom.js","utils/url.js","services/youtube-search-api/index.js","utils/list.js","event-handlers/dictation-handlers.js","views/dictation/index.js","event-handlers/goal-handlers.js","event-handlers/index.js","components/goal-input/index.js","components/goal-listing/goal-list-item.js","components/goal-listing/goal-list.js","components/goal-listing/goal-filter.js","views/goal/index.js","components/youtube-player/youtube-loader.js","components/youtube-player/youtube-player.js","components/youtube-bot/index.js","views/dictation/dictation-player.js","components/youtube-caption/index.js","views/dictation/dictation-caption.js","views/dictation/dictation-view.js","components/dashboard-card/index.js","views/dashboard/index.js","components/voice-text/index.js","utils/text-processing.js","components/voice-test/index.js","views/voice/index.js","index.js","components/app-navbar/index.js"],"names":["query","onClick","queryRef","useRef","React","useEffect","current","value","onSubmit","e","preventDefault","className","ref","type","name","id","placeholder","children","createElement","dangerouslySetInnerHTML","__html","videos","onFiniteScroll","document","addEventListener","_","debounce","docEl","documentElement","bodyEl","body","viewHeight","clientHeight","currentScroll","window","pageYOffset","Math","max","scrollHeight","offsetHeight","distanceToBottom","map","v","key","etag","to","videoId","src","snippet","thumbnails","default","url","alt","title","convertToUrl","link","params","Object","keys","join","ROOT_URL","YoutubeSearch","options","Promise","resolve","reject","q","part","Error","fetch","then","response","json","catch","formatStartTime","start","secondTotal","floor","seconds","minutes","slice","markLines","lines","cur","line","API_KEY","DEFAULT_STATE","search","isLoading","hasError","nextPageToken","view","markers","playAt","curStart","command","triggerQuery","newQuery","dispatch","getState","DictationState","loadingQueryData","relevanceLanguage","maxResults","data","loadedQueryData","err","console","log","pageToken","appendQueryData","payload","DictationApp","this","props","onCleanup","handleQuery","loadMore","Fragment","Component","connect","TOGGLE_GOAL","ADD_GOAL","FILTER_GOAL","CLEANUP","FilterType","SHOW_ALL","SHOW_ACTIVE","SHOW_DONE","goals","filter","goalCount","combineReducers","GoalState","state","action","goal","done","text","items","i","formattedStart","Date","getTime","goalInput","val","trim","doneLabel","toggleGoal","onFilter","all","active","Goal","addGoal","filterGoal","filterGoals","yt","init","YT","ready","loadScript","YouTubePlayer","YTEvents","intervalMarker","findLastMarker","curTime","nextTime","total","length","nextStart","onPlayerStateChange","event","onCued","onBuffering","onPause","onPlaying","onEnd","pingInterval","onSpeechChange","State","PlayerState","PLAYING","setInterval","currentTime","target","getCurrentTime","marker","clearInterval","CUED","BUFFERING","PAUSED","ENDED","getInitialOptions","video","width","height","playerVars","autoplay","cc_load_policy","showCaptions","controls","disablekb","disableKeyboard","fs","allowFullscreen","hl","lang","iv_load_policy","annotations","startSeconds","end","endSeconds","modestbranding","modestBranding","playsinline","playsInline","rel","showRelatedVideos","showinfo","showInfo","events","onReady","onPlayerReady","onStateChange","updateProps","propNames","player","forEach","mute","unMute","setPlaybackQuality","setVolume","getPlayerState","pauseVideo","playVideo","getIframe","opts","loadVideoById","cueVideoById","stopVideo","pos","parseFloat","split","seekTo","createPlayer","volume","resolvePlayer","Player","container","playerInstance","handler","muted","suggestedQuality","playbackRate","setPlaybackRate","prevProps","changes","destroy","el","defaultProps","onCommand","commands","annyang","cmdObject","cmd","addCommands","abort","ownProps","jump","jumpToLine","onLineClick","curLine","querySelector","scrollIntoView","behavior","block","li","data-start","currentTarget","dataset","changeToLine","onLoaded","axios","DictationView","match","vid","icon","Dashboard","sections","sc","VoiceText","onPlay","textboxRef","onRepeat","onImport","sentences","s","parseText","htmlFor","rows","VoiceTest","speechSynthesis","voiceList","getVoices","deutschVoices","Voice","middlewares","thunk","store","createStore","reducers","applyMiddleware","ReactDOM","render","basename","data-target","data-toggle","role","exact","path","component","getElementById"],"mappings":"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","file":"static/js/main.9bfc20fa.chunk.js","sourcesContent":["import React, { useRef } from \"react\";\n\n/**\n * Custom search input component\n * @param {object} props React props with custom onClick event\n */\nexport default function ({ query, onClick }) {\n  const queryRef = useRef(null);\n\n  React.useEffect(() => {\n    if (queryRef) {\n      queryRef.current.value = query;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleClick = event => {\n    event.preventDefault();\n    queryRef.current.value && onClick && onClick(queryRef.current.value);\n  };\n\n  return (\n    <form onSubmit={e => handleClick(e)}>\n      <div className=\"form-row mt-3 mb-3\">\n        <div className=\"col-8\">\n          <input\n            ref={queryRef}\n            type=\"text\"\n            name=\"queryBox\"\n            id=\"queryBox\"\n            className=\"form-control\"\n            placeholder=\"Search Youtube\"\n          />\n        </div>\n        <div className=\"col-4\">\n          <button type=\"submit\" className=\"btn btn-secondary pl-4 pr-4\">\n            <i className=\"fas fa-search fa-lg\"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}","import React from 'react';\n\nexport default function ({ children }) {\n  return React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: children } });\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DecodedEntity from './decoded-entity';\nimport { distanceToBottom } from '../../utils/dom';\nimport _ from 'lodash';\n\nexport default function ({ videos, onFiniteScroll }) {\n\n  React.useEffect(() => {\n    // purely to emit events when hitting the bootom of the page\n    document.addEventListener('scroll', _.debounce(() => {\n      // check if the page is scrolled to the bottom\n      if (distanceToBottom() < 50) {\n        onFiniteScroll();\n      }\n    }, 100));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    videos && <ul className=\"list-group list-group-flush col-md-8 mb-3\">\n      {videos.map(v => (\n        <li className=\"list-group-item app-yt-item\" key={v.etag}>\n          <div className=\"video-list media\">\n            <div className=\"media-left mr-4\">\n              <Link to={`/dictation/${v.id.videoId}`}>\n                <img\n                  src={v.snippet.thumbnails.default.url}\n                  alt=\"\"\n                  className=\"media-object\"\n                />\n              </Link>\n            </div>\n            <div className=\"media-body\">\n              <div className=\"media-heading\">\n                <Link to={`/dictation/${v.id.videoId}`}>\n                  <DecodedEntity>{v.snippet.title}</DecodedEntity>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n}","/**\n * Calculate the distance to bottom of current window view\n */\nexport const distanceToBottom = () => {\n  const docEl = document.documentElement;\n  const bodyEl = document.body;\n  const viewHeight = docEl.clientHeight;\n  const currentScroll = window.pageYOffset;\n  const scrollHeight = Math.max(\n    bodyEl.scrollHeight, docEl.scrollHeight,\n    bodyEl.offsetHeight, docEl.offsetHeight,\n    bodyEl.clientHeight, docEl.clientHeight\n  );\n  return scrollHeight - currentScroll - viewHeight;\n};","/**\n * return a full URL from its root link and params object\n * @param {*} link root link\n * @param {*} params URL params to be converted\n */\nexport const convertToUrl = (link, params) => {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  return link + '?' + queryString;\n}\n\n/**\n * to extract value of named parameter from a given link\n * @param {*} link Link to be extracted\n * @param {*} name name of the parameter\n */\nexport function getUrlParameter(link, name) {\n  name = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n  var results = regex.exec(link);\n  return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n};","/**\n * More details about API search\n * https://developers.google.com/youtube/v3/docs/search/list#parameters\n */\nimport fetch from 'isomorphic-unfetch';\nimport { convertToUrl } from '../../utils/url';\n\nexport const ROOT_URL = 'https://www.googleapis.com/youtube/v3/search';\n\nexport const YoutubeSearch = (options = {}) => new Promise((resolve, reject) => {\n  if (!options.key || !options.q || !options.part || !options.type) {\n    reject(new Error('Please make sure that the required fields are inserted'));\n  }\n\n  const link = convertToUrl(ROOT_URL, options);\n\n  fetch(link)\n    .then((response) => resolve(response.json()))\n    .catch(reject);\n});\n\nexport default YoutubeSearch;","export const formatStartTime = (start) => {\n  let secondTotal = Math.floor(start);\n  let seconds = secondTotal % 60;\n  let minutes = Math.floor(secondTotal / 60);\n  if (minutes < 10) {\n    return '0' + minutes + ':' + ('0' + seconds).slice(-2);\n  }\n  else {\n    return minutes + ':' + ('0' + seconds).slice(-2);\n  }\n};\nexport const markLines = (lines, cur) => {\n  return lines.map(line => ({\n    ...line,\n    current: line.start === cur ? 'current' : ''\n  }));\n};\n","import YoutubeSearch from \"../services/youtube-search-api\";\nimport { formatStartTime, markLines } from \"../utils/list\";\n\n/**\n * Actions and default state\n */\nconst API_KEY = \"AIzaSyCT5YNj0WpEUrt_4K8b3GZ6NoBZTOImXMA\";\nconst LOADING_QUERY_DATA = \"search/LOADING_QUERY_DATA\";\nconst LOADED_QUERY_DATA = \"search/LOADED_QUERY_DATA\";\nconst APPEND_QUERY_DATA = \"search/APPEND_QUERY_DATA\";\nconst NAVIGATE_NEXT_PAGE = \"search/NAVIGATE_NEXT_PAGE\";\nconst DT_LOAD_CAPTION = \"dictation/DT_LOAD_CAPTION\";\nconst DT_JUMP_TO_LINE = \"dictation/DT_JUMP_TO_LINE\";\nconst DT_CHANGE_TO_LINE = \"dictation/DT_CHANGE_TO_LINE\";\nconst DT_DISPATCH_COMMAND = \"dictation/DT_DISPATCH_COMMAND\";\nconst CLEANUP_DICTATION_SEARCH = 'dictation/CLEANUP_DICTATION_SEARCH';\nconst CLEANUP_DICTATION_VIEW = 'dictation/CLEANUP_DICTATION_VIEW';\nconst DEFAULT_STATE = {\n  search: {\n    query: null,\n    isLoading: false,\n    hasError: false,\n    nextPageToken: null,\n    videos: []\n  },\n  view: {\n    videoId: null,\n    lines: null,\n    markers: null,\n    playAt: null,\n    curStart: null,\n    command: null\n  }\n};\n\n/**\n * pass a function to Redux thunk for further processing\n */\nexport const triggerQuery = (newQuery) => {\n  return (dispatch, getState) => {\n    const { DictationState } = getState();\n\n    if (DictationState.search.isLoading) return;\n\n    // perform a search\n    if (newQuery) {\n      dispatch(loadingQueryData(newQuery));\n\n      YoutubeSearch({\n        key: API_KEY,\n        q: newQuery,\n        part: \"snippet\",\n        type: \"video\",\n        relevanceLanguage: \"de\",\n        maxResults: 10\n      })\n        .then(data => {\n          dispatch(loadedQueryData(data));\n        })\n        .catch(err => { console.log(\"Error: \", err); });\n\n    } else {\n      dispatch(loadingQueryData(DictationState.search.query));\n\n      YoutubeSearch({\n        key: API_KEY,\n        q: DictationState.search.query,\n        part: \"snippet\",\n        type: \"video\",\n        relevanceLanguage: \"de\",\n        maxResults: 10,\n        pageToken: DictationState.search.nextPageToken\n      })\n        .then(data => {\n          dispatch(appendQueryData(data));\n        })\n        .catch(err => { console.log(\"Error: \", err); });\n    }\n  };\n};\n\nexport const loadingQueryData = query => ({ type: LOADING_QUERY_DATA, query: query });\nexport const loadedQueryData = data => ({ type: LOADED_QUERY_DATA, payload: data });\nexport const appendQueryData = data => ({ type: APPEND_QUERY_DATA, payload: data });\nexport const navigateNextPage = page => ({ type: NAVIGATE_NEXT_PAGE, payload: page });\nexport const loadCaption = ({ videoId, lines }) => ({ type: DT_LOAD_CAPTION, videoId, lines });\nexport const jumpToLine = start => ({ type: DT_JUMP_TO_LINE, start: start });\nexport const changeToLine = start => ({ type: DT_CHANGE_TO_LINE, start });\nexport const dispatchCommand = (command) => ({ type: DT_DISPATCH_COMMAND, command: command });\nexport const cleanupDictationSearch = () => ({ type: CLEANUP_DICTATION_SEARCH });\nexport const cleanupDictationView = () => ({ type: CLEANUP_DICTATION_VIEW });\n\n/**\n * reducer for dictation view\n */\nexport default function (state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case LOADING_QUERY_DATA:\n      return {\n        ...state,\n        search: {\n          ...state.search,\n          query: action.query,\n          isLoading: true\n        }\n      };\n    case LOADED_QUERY_DATA:\n      return {\n        ...state,\n        search: {\n          ...state.search,\n          videos: action.payload.items,\n          nextPageToken: action.payload.nextPageToken,\n          isLoading: false\n        }\n      };\n    case APPEND_QUERY_DATA:\n      return {\n        ...state,\n        search: {\n          ...state.search,\n          videos: [...state.search.videos, ...action.payload.items],\n          nextPageToken: action.payload.nextPageToken,\n          isLoading: false\n        }\n      };\n    case DT_LOAD_CAPTION:\n      const lines = action.lines.map(i => ({ ...i, formattedStart: formatStartTime(i.start) }));\n      lines[0].current = 'current';\n      return {\n        ...state,\n        view: {\n          ...state.view,\n          videoId: action.videoId,\n          lines: lines,\n          markers: action.lines.map(i => i.start)\n        }\n      };\n    case DT_JUMP_TO_LINE:\n      if (!state.view.lines) return;\n      return {\n        ...state,\n        view: {\n          ...state.view,\n          curStart: action.start,\n          lines: markLines(state.view.lines, action.start)\n        }\n      };\n    case DT_CHANGE_TO_LINE:\n      if (!state.view.lines) return;\n      return {\n        ...state,\n        view: {\n          ...state.view,\n          playAt: action.start + \"|\" + (new Date()).getTime(),\n          curStart: action.start,\n          lines: markLines(state.view.lines, action.start)\n        }\n      };\n    case DT_DISPATCH_COMMAND:\n      return {\n        ...state,\n        view: {\n          ...state.view,\n          command: action.command + \"|\" + (new Date()).getTime()\n        }\n      };\n    case CLEANUP_DICTATION_VIEW:\n      return {\n        ...state,\n        view: {\n          ...DEFAULT_STATE.view\n        }\n      }\n    case CLEANUP_DICTATION_SEARCH:\n      return {\n        ...state,\n        search: {\n          ...DEFAULT_STATE.search\n        }\n      }\n    default:\n      return state;\n  }\n}","import './index.css';\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport SearchInput from \"../../components/youtube-search-input/search-input\";\nimport SearchListing from \"../../components/youtube-search-listing/search-listing\";\nimport { triggerQuery, cleanupDictationSearch } from '../../event-handlers/dictation-handlers';\n\nclass DictationApp extends React.Component {\n\n  componentWillUnmount() {\n    // clean up store\n    this.props.onCleanup();\n  }\n\n  render() {\n    const { query, videos, handleQuery, loadMore } = this.props;\n    return (\n      <React.Fragment>\n        <SearchInput onClick={handleQuery} query={query} />\n        <SearchListing videos={videos} onFiniteScroll={loadMore} />\n      </React.Fragment>\n    )\n  }\n}\n\nexport default connect(\n  ({ DictationState }) => ({\n    query: DictationState.search.query,\n    videos: DictationState.search.videos\n  }),\n  dispatch => ({\n    handleQuery: (query) => dispatch(triggerQuery(query)),\n    loadMore: () => dispatch(triggerQuery()),\n    onCleanup: () => dispatch(cleanupDictationSearch())\n  })\n)(DictationApp);","/**\n * actions\n */\nconst TOGGLE_GOAL = \"goals/TOGGLE_GOAL\";\nconst ADD_GOAL = \"goals/ADD_GOAL\";\nconst FILTER_GOAL = \"goals/FILTER_GOAL\";\nconst CLEANUP = 'goals/CLEANUP';\nexport const FilterType = {\n  SHOW_ALL: \"SHOW_ALL\",\n  SHOW_ACTIVE: \"SHOW_ACTIVE\",\n  SHOW_DONE: \"SHOW_DONE\"\n};\nconst DEFAULT_STATE = {\n  goals: [],\n  filter: FilterType.SHOW_ALL\n};\n\nlet goalCount = 0;\n\n/**\n * action creator\n */\nexport const toggleGoal = id => ({ type: TOGGLE_GOAL, id });\nexport const addGoal = text => ({ type: ADD_GOAL, id: goalCount++, done: false, text });\nexport const filterGoal = (filter) => ({ type: FILTER_GOAL, filter });\nexport const cleanup = () => ({ type: CLEANUP });\n\n/**\n * reducer\n */\nexport default function reducer(state = DEFAULT_STATE, action = {}) {\n  switch (action.type) {\n    case TOGGLE_GOAL:\n      return {\n        ...state,\n        goals: state.goals.map(goal => goal.id === action.id ? { ...goal, done: !goal.done } : goal)\n      };\n    case ADD_GOAL:\n      return {\n        ...state,\n        goals: [...state.goals, { id: action.id, done: false, text: action.text }]\n      };\n    case FILTER_GOAL:\n      return {\n        ...state,\n        filter: action.filter\n      };\n    case CLEANUP:\n      return DEFAULT_STATE;\n    default:\n      return state;\n  }\n};","import { combineReducers } from 'redux';\nimport GoalState from './goal-handlers';\nimport DictationState from './dictation-handlers';\n\nexport default combineReducers({\n  GoalState,\n  DictationState\n});","import React from 'react';\n\n/**\n * Custom goal input with custom style\n * @param {*} props props object with onClick event handler\n */\nexport default function ({ onClick }) {\n  const goalInput = React.useRef(null);\n\n  const handleAddTodo = (e) => {\n    e.preventDefault();\n    if(goalInput && goalInput.current.value){\n      const val = goalInput.current.value.trim();\n      onClick && onClick(val);\n      goalInput.current.value = '';\n    }\n  };\n\n  return (\n    <form onSubmit={handleAddTodo}>\n      <div className=\"form-row mb-3 mt-3\">\n        <div className=\"col-8\">\n          <input type=\"text\" className=\"form-control\" placeholder=\"Todo Item\" ref={goalInput} />\n        </div>\n        <div className=\"col-4\">\n          <button type=\"submit\" className=\"btn btn-secondary\">Add Item</button>\n        </div>\n      </div>\n    </form>\n  );\n};","import React from 'react';\n\nexport default function ({ text, done, onClick }) {\n  let doneLabel = done ? ' list-group-item-success' : '';\n\n  return (\n    <li className={\"list-group-item d-flex justify-content-between align-items-center\" + doneLabel}\n      onClick={onClick}>\n      {text}\n      <span className=\"badge badge-secondary badge-pill\">New</span>\n    </li>\n  );\n}","import React from 'react';\nimport GoalItem from './goal-list-item';\n\nexport default function ({ goals, toggleGoal }) {\n  return (\n    <ul className=\"list-group mb-3\">\n      {\n        goals != null &&\n        goals.map(goal => (\n          <GoalItem key={goal.id} {...goal} onClick={() => toggleGoal(goal.id)} />\n        ))\n      }\n    </ul>\n  );\n}","import React from 'react';\n\n/**\n * Custom filter component\n * @param {*} props React props\n */\nexport default function ({ FilterType, filter, onFilter }) {\n  let all = filter === FilterType.SHOW_ALL ? 'active' : '';\n  let active = filter === FilterType.SHOW_ACTIVE ? 'active' : '';\n  let done = filter === FilterType.SHOW_DONE ? 'active' : '';\n\n  return (\n    <div className=\"btn-group btn-group-toggle\">\n      <label className={'btn btn-outline-info ' + all}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_ALL)} /> All\n      </label>\n      <label className={'btn btn-outline-info ' + active}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_ACTIVE)} /> Active\n      </label>\n      <label className={'btn btn-outline-info ' + done}>\n        <input type=\"radio\" name=\"filters\" onClick={() => onFilter(FilterType.SHOW_DONE)} /> Done\n      </label>\n    </div>\n  );\n}","//compose different todo components\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport GoalInput from '../../components/goal-input';\nimport GoalList from '../../components/goal-listing/goal-list';\nimport GoalFilter from '../../components/goal-listing/goal-filter';\nimport { addGoal, toggleGoal, FilterType, filterGoal, cleanup } from '../../event-handlers/goal-handlers';\n\nclass Goal extends React.Component {\n\n  componentWillUnmount(){\n    this.props.onCleanup();\n  }\n\n  render() {\n    const { goals, filter, addGoal, toggleGoal, filterGoal } = this.props;\n    return (\n      <div className=\"row justify-content-md-center\">\n        <div className=\"col-md-10 col-lg-8\">\n          <GoalInput onClick={text => addGoal(text)} />\n          <GoalList goals={goals} toggleGoal={toggleGoal} />\n          <GoalFilter FilterType={FilterType} filter={filter} onFilter={filterGoal} />\n        </div>\n      </div>\n    );\n  }\n};\n\nconst filterGoals = (goals, filter) => {\n  switch (filter) {\n    case FilterType.SHOW_ACTIVE:\n      return goals.filter(goal => goal.done === false);\n    case FilterType.SHOW_DONE:\n      return goals.filter(goal => goal.done === true);\n    default:\n      return goals;\n  }\n};\n\nexport default connect(\n  ({ GoalState }) => ({\n    goals: filterGoals(GoalState.goals, GoalState.filter),\n    filter: GoalState.filter\n  }),\n  dispatch => ({\n    addGoal: text => dispatch(addGoal(text)),\n    toggleGoal: id => dispatch(toggleGoal(id)),\n    filterGoal: filter => dispatch(filterGoal(filter)),\n    onCleanup: () => dispatch(cleanup())\n  })\n)(Goal);","import loadScript from \"load-script2\";\n\nlet yt = null;\nexport const init = () => {\n  if (!yt) {\n    yt = new Promise((resolve, reject) => {\n      if (typeof window.YT === \"object\" &&\n        typeof window.YT.ready === \"function\") {\n        window.YT.ready(() => {\n          resolve(window.YT);\n        });\n        return;\n      }\n      loadScript(\"https://www.youtube.com/iframe_api\").then(() => {\n        window.YT.ready(() => {\n          resolve(window.YT);\n        });\n      }, err => {\n        reject(err);\n      });\n    });\n  }\n  return yt;\n};\n","import React from \"react\";\nimport { init } from \"./youtube-loader\";\n\n/**\n * Event driven Youtube Player\n */\nclass YouTubePlayer extends React.Component {\n  YTEvents = [\n    \"onReady\",\n    \"onStateChange\",\n    \"onPlaybackQualityChange\",\n    \"onPlaybackRateChange\",\n    \"onError\"\n  ];\n\n  intervalMarker = null;\n\n  /**\n   * create when mounted\n   */\n  componentDidMount() {\n    this.createPlayer();\n  }\n\n  componentDidUpdate(prevProps) {\n    const changes = Object.keys(this.props).filter(\n      name => this.props[name] !== prevProps[name]\n    );\n    this.updateProps(changes);\n  }\n\n  componentWillUnmount() {\n    if (this.playerInstance) {\n      this.playerInstance.destroy();\n    }\n  }\n\n  findLastMarker = (markers, curTime, nextTime) => {\n    const total = markers.length;\n    for (let i = 1; i < total; i++) {\n      if (markers[i] > curTime && markers[i] <= nextTime) {\n        return {\n          curStart: markers[i - 1],\n          nextStart: markers[i]\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Youtube Player native event: onPlayerStateChange\n   */\n  onPlayerStateChange = event => {\n    const {\n      onCued,\n      onBuffering,\n      onPause,\n      onPlaying,\n      onEnd,\n      pingInterval,\n      markers,\n      onSpeechChange\n    } = this.props;\n\n    const State = window.YT.PlayerState;\n\n    //trigger event when speech changes\n    if (markers !== null && markers.length > 0) {\n      if (event.data === State.PLAYING) {\n        this.intervalMarker = setInterval(() => {\n          let currentTime = event.target.getCurrentTime();\n          const marker = this.findLastMarker(markers, currentTime, currentTime + pingInterval / 1000);\n\n          if (marker != null) {\n            onSpeechChange && onSpeechChange(marker.nextStart);\n          }\n        }, pingInterval);\n      } else {\n        clearInterval(this.intervalMarker);\n      }\n    }\n\n    switch (event.data) {\n      case State.CUED:\n        onCued(event);\n        break;\n      case State.BUFFERING:\n        onBuffering(event);\n        break;\n      case State.PAUSED:\n        onPause(event);\n        break;\n      case State.PLAYING:\n        onPlaying(event);\n        break;\n      case State.ENDED:\n        onEnd(event);\n        break;\n      default:\n    }\n  };\n\n  getInitialOptions = () => {\n    return {\n      videoId: this.props.video,\n      width: this.props.width,\n      height: this.props.height,\n      playerVars: {\n        autoplay: this.props.autoplay,\n        cc_load_policy: this.props.showCaptions ? 1 : 0,\n        controls: this.props.controls ? 1 : 0,\n        disablekb: this.props.disableKeyboard ? 1 : 0,\n        fs: this.props.allowFullscreen ? 1 : 0,\n        hl: this.props.lang,\n        iv_load_policy: this.props.annotations ? 1 : 3,\n        start: this.props.startSeconds,\n        end: this.props.endSeconds,\n        modestbranding: this.props.modestBranding ? 1 : 0,\n        playsinline: this.props.playsInline ? 1 : 0,\n        rel: this.props.showRelatedVideos ? 1 : 0,\n        showinfo: this.props.showInfo ? 1 : 0\n      },\n      events: {\n        onReady: this.onPlayerReady,\n        onStateChange: this.onPlayerStateChange\n      }\n    };\n  };\n\n  updateProps = propNames => {\n    this.player.then(player => {\n      propNames.forEach(name => {\n        const value = this.props[name];\n        switch (name) {\n          case \"muted\":\n            if (value) {\n              player.mute();\n            } else {\n              player.unMute();\n            }\n            break;\n          case \"suggestedQuality\":\n            player.setPlaybackQuality(value);\n            break;\n          case \"volume\":\n            player.setVolume(value * 100);\n            break;\n          case \"paused\":\n            if (value && player.getPlayerState() !== 2) {\n              player.pauseVideo();\n            } else if (!value && player.getPlayerState() === 2) {\n              player.playVideo();\n            }\n            break;\n          case \"id\":\n          case \"className\":\n          case \"width\":\n          case \"height\":\n            player.getIframe()[name] = value;\n            break;\n          case \"video\":\n            if (!value) {\n              player.stopVideo();\n            } else {\n              const { startSeconds, endSeconds, autoplay } = this.props;\n              const opts = {\n                videoId: value,\n                startSeconds: startSeconds || 0,\n                endSeconds\n              };\n              if (autoplay) {\n                player.loadVideoById(opts);\n              } else {\n                player.cueVideoById(opts);\n              }\n            }\n            break;\n          case \"playAt\":\n            if (value) {\n              const pos = parseFloat(value.split(\"|\")[0]);\n              player.seekTo(pos);\n            }\n            break;\n          case \"command\":\n            const actual = value.split(\"|\")[0];\n            switch (actual) {\n              case \"play\":\n                player.playVideo();\n                break;\n              case \"pause\":\n                player.pauseVideo();\n                break;\n              case \"reset\":\n                player.seekTo(0);\n                player.playVideo();\n                break;\n              case \"stop\":\n                player.stopVideo();\n                break;\n              default:\n            }\n            break;\n          default:\n        }\n      });\n    });\n  };\n\n  createPlayer = () => {\n    const { volume } = this.props;\n\n    // trigger first event: Player Loading\n    this.player = init().then(\n      YT =>\n        new Promise(resolve => {\n          // to resolve when the player is ready\n          this.resolvePlayer = resolve;\n\n          const player = new YT.Player(\n            this.container,\n            this.getInitialOptions()\n          );\n          this.playerInstance = player;\n\n          this.YTEvents.forEach(name => {\n            player.addEventListener(name, event => {\n              const handler = this.props[name];\n              if (handler) {\n                handler(event);\n              }\n            });\n          });\n        })\n    );\n\n    if (typeof volume === \"number\") {\n      this.updateProps([\"volume\"]);\n    }\n  };\n\n  /**\n   * Youtube Player native event: onPlayerReady\n   */\n  onPlayerReady = event => {\n    const { volume, muted, suggestedQuality, playbackRate } = this.props;\n\n    if (typeof volume !== \"undefined\") {\n      event.target.setVolume(volume * 100);\n    }\n    if (typeof muted !== \"undefined\") {\n      if (muted) {\n        event.target.mute();\n      } else {\n        event.target.unMute();\n      }\n    }\n    if (typeof suggestedQuality !== \"undefined\") {\n      event.target.setPlaybackQuality(suggestedQuality);\n    }\n    if (typeof playbackRate !== \"undefined\") {\n      event.target.setPlaybackRate(playbackRate);\n    }\n\n    // linked to 1st event (Player Loading), resolve to Youtube Player when it's ready\n    this.resolvePlayer(event.target);\n  };\n\n  render() {\n    const { id, className } = this.props;\n\n    return (\n      <div id={id} className={className} ref={el => (this.container = el)} />\n    );\n  }\n}\n\nYouTubePlayer.defaultProps = {\n  autoplay: false,\n  showCaptions: false,\n  controls: true,\n  disableKeyboard: false,\n  allowFullscreen: true,\n  annotations: true,\n  modestBranding: false,\n  playsInline: false,\n  showRelatedVideos: true,\n  showInfo: true,\n  pingInterval: 100,\n  playAt: null, //  7.591|1578150995863\n  onCued: () => { },\n  onBuffering: () => { },\n  onPlaying: () => { },\n  onPause: () => { },\n  onEnd: () => { },\n  onSpeechChange: null,\n  markers: null,\n  command: null\n};\n\nexport default YouTubePlayer;\n","import React from 'react';\nimport annyang from 'annyang';\n\nexport default function ({ onCommand }) {\n  const commands = ['repeat', 'again', 'next', 'reset', 'stop', 'play', 'pause'];\n\n  React.useEffect(() => {\n    if (annyang) {\n      // define commands\n      const cmdObject = {};\n      commands.forEach(cmd => cmdObject[cmd] = () => onCommand(cmd));\n      annyang.addCommands(cmdObject);\n\n      //start listening\n      annyang.start();\n\n      return () => {\n        annyang.abort();\n      };\n    }\n  });\n\n  return '';\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport YouTubePlayer from \"../../components/youtube-player/youtube-player\";\nimport { jumpToLine, dispatchCommand } from '../../event-handlers/dictation-handlers';\nimport CommandBot from '../../components/youtube-bot';\n\nconst DictationPlayer = ({ videoId, markers, playAt, jump, command, onCommand }) => {\n  return (\n    <React.Fragment>\n      {markers &&\n        <YouTubePlayer\n        video={videoId}\n        markers={markers}\n        onSpeechChange={start => jump(start)}\n        playAt={playAt}\n        command={command}\n        width=\"720\"\n        height=\"405\"\n        autoplay=\"1\"\n      />}\n      <CommandBot onCommand={(cmd) => onCommand(cmd)} />\n    </React.Fragment>\n  );\n};\n\nexport default connect(\n  ({ DictationState }, ownProps) => ({\n    videoId: ownProps.videoId,\n    markers: DictationState.view.markers,\n    playAt: DictationState.view.playAt,\n    command: DictationState.view.command\n  }),\n  dispatch => ({\n    jump: start => dispatch(jumpToLine(start)),\n    onCommand: cmd => dispatch(dispatchCommand(cmd))\n  })\n)(DictationPlayer);","import React from 'react';\n\nexport default function ({ lines, curStart, onLineClick }) {\n  React.useEffect(() => {\n    let curLine = document.querySelector('.caption-viewer .current');\n    if (curLine != null) {\n      curLine.scrollIntoView({ behavior: 'smooth', block: \"center\" });\n    }\n  }, [curStart]);\n\n  return (\n    lines &&\n    <ul className=\"list-group list-group-flush caption-viewer mt-3\">\n      {\n        lines.map(li => (\n          <li className={\"list-group-item caption-item \" + li.current}\n            key={li.start} data-start={li.start}\n            onClick={e => onLineClick(e.currentTarget.dataset.start)}>\n            <span className=\"caption-item-time\">{li.formattedStart}</span>\n            <span className=\"caption-item-text\">{li.text}</span>\n          </li>\n        ))\n      }\n    </ul>\n  );\n}","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport axios from \"axios\";\nimport { changeToLine, loadCaption } from '../../event-handlers/dictation-handlers';\nimport YoutubeCaption from '../../components/youtube-caption';\n\nconst DictationCaption = ({ videoId, lines, curStart, onLineClick, onLoaded }) => {\n\n  useEffect(() => {\n    axios(`https://voka.azurewebsites.net/api/v1/captions/${videoId}/de`).then(\n      response => onLoaded(videoId, response.data)\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <YoutubeCaption lines={lines} curStart={curStart} onLineClick={onLineClick} />\n  );\n};\n\nexport default connect(\n  ({ DictationState }, ownProps) => ({\n    lines: DictationState.view.lines,\n    curStart: DictationState.view.curStart,\n    videoId: ownProps.videoId\n  }),\n  dispatch => ({\n    onLineClick: start => dispatch(changeToLine(start)),\n    onLoaded: (videoId, lines) => dispatch(loadCaption({ videoId, lines }))\n  })\n)(DictationCaption);","import React from \"react\";\nimport { connect } from 'react-redux';\nimport DictationPlayer from \"./dictation-player\";\nimport DictationCaption from \"./dictation-caption\";\nimport { cleanupDictationView } from '../../event-handlers/dictation-handlers';\n\nclass DictationView extends React.Component {\n\n  componentWillUnmount() {\n    this.props.dispatch(cleanupDictationView());\n  }\n\n  render() {\n    const { match } = this.props;\n    const videoId = match.params.vid;\n\n    return (\n      <React.Fragment>\n        <div className=\"row\">\n          <div className=\"col-md-12 text-center\">\n            <DictationPlayer videoId={videoId} />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <DictationCaption videoId={videoId} />\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(DictationView);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function ({ to, title, text, icon }) {\n  return (\n    <div className=\"card shadow border-info py-2 dashboard-card mb-3\">\n      <div className=\"card-body\">\n        <div className=\"row align-items-center no-gutters\">\n          <div className=\"col mr-2\">\n            <Link className=\"font-weight-bold\" to={to}>{title}</Link>\n            <div>{text}</div>\n          </div>\n          <div className=\"col-auto\">\n            <i className={icon}></i>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};","import React from \"react\";\nimport DashboardCard from \"../../components/dashboard-card\";\n\nclass Dashboard extends React.Component {\n  sections = [\n    {\n      to: \"/dictation\",\n      title: \"VIDEO DICTATION\",\n      text: \"Learning by watching Youtube in Deutsch and repeating along.\",\n      icon: \"fas fa-chalkboard-teacher fa-5x\"\n    },\n    {\n      to: \"/voice\",\n      title: \"LISTEN AND LEARN\",\n      text: \"Listen in German and write down what you hear.\",\n      icon: \"fas fa-microphone-alt fa-5x\"\n    },\n    {\n      to: \"/goal\",\n      title: \"GOAL SETTING\",\n      text: \"Setting goals and keep track of progress.\",\n      icon: \"fas fa-tasks fa-5x\"\n    }\n  ];\n\n  render() {\n    return (\n      <div className=\"row\">\n        {this.sections.map(sc => (\n          <div className=\"col-md-6\">\n            <DashboardCard\n              to={sc.to}\n              title={sc.title}\n              text={sc.text}\n              icon={sc.icon}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;","import React from \"react\";\nimport { parseText } from \"../../utils/text-processing\";\n\nexport default function VoiceText({ onPlay, onRepeat, onImport }) {\n  const textboxRef = React.useRef(null);\n\n  const sample = 'Dazu kommt ein sogenannter \"Mechanismus fr einen gerechten bergang\". Von der Leyen will damit Regionen, die beispielsweise stark von der Kohleverstromung abhngen, beim Strukturwandel helfen. Am Dienstagnachmittag diskutiert das Europaparlament, das zuletzt reichlich reierisch den \"Klimanotstand\" ausgerufen hatte, ber die Plne, fr Mittwoch ist eine Resolution geplant.';\n\n  React.useEffect(() => {\n    textboxRef.current.value = sample;\n  }, []);\n\n  const processText = e => {\n    e.preventDefault();\n\n    if (textboxRef.current && textboxRef.current.value) {\n      const text = textboxRef.current.value;\n      // parse text\n      const sentences = parseText(text);\n\n      // emit event\n      onPlay && onPlay(sentences);\n    }\n  };\n\n  return (\n    <form onSubmit={processText}>\n      <div className=\"form-row\">\n        <div className=\"form-group col-md-12\">\n          <label htmlFor=\"voiceTextControl\">\n            Paste the text you want to listen!\n          </label>\n          <textarea\n            ref={textboxRef}\n            className=\"form-control\"\n            name=\"voiceTextControl\"\n            id=\"voiceTextControl\"\n            rows=\"10\"\n          ></textarea>\n        </div>\n      </div>\n\n      <div className=\"form-row\">\n        <div className=\"form-group col-md-12\">\n          <button type=\"button\" className=\"btn btn-info pl-3 pr-3 mr-3\">\n            <i className=\"fas fa-folder-open fa-lg\"></i>\n          </button>\n\n          <button type=\"submit\" className=\"btn btn-info pl-3 pr-3 mr-3\">\n            <i className=\"fas fa-play fa-lg\"></i>\n          </button>\n\n          <button type=\"button\" className=\"btn btn-info pl-3 pr-3\">\n            <i className=\"fas fa-redo fa-lg\"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","export function parseText (text) {\n  if(!text || !text.trim()){\n    return null;\n  }\n\n  const sentences = text.match( /[^\\.!\\?]+[\\.!\\?]+/g );\n  return sentences.map(s => s.trim());\n}\n","import React from \"react\";\n\nexport default function VoiceTest({}) {\n\n  const talk = (voice, lang, text, rate) => {\n    let u = new SpeechSynthesisUtterance();\n    u.voice = voice;\n    u.lang = lang;\n    u.text = text;\n    u.rate = rate;\n    speechSynthesis.speak(u);\n  }\n\n  React.useEffect(() => {\n    if(window.speechSynthesis){\n      const voiceList = window.speechSynthesis.getVoices();\n      if(voiceList && voiceList.length > 0){\n        const deutschVoices = voiceList.filter( v => v.lang === 'de-DE');\n        console.log(deutschVoices);\n      }\n    }\n  }, []);\n\n  return <div> Voice Test</div>;\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport VoiceText from \"../../components/voice-text\";\nimport VoiceTest from \"../../components/voice-test\";\n\nclass Voice extends React.Component {\n  componentWillUnmount() {\n    // issue cleanup commands\n    \n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <VoiceText />\n        <VoiceTest />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(Voice);","import 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport DictationApp from './views/dictation';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reducers from './event-handlers';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Goal from './views/goal';\nimport DictationView from './views/dictation/dictation-view';\nimport AppNavBar from './components/app-navbar';\nimport Dashboard from './views/dashboard';\nimport Voice from './views/voice';\n\n/**\n * Initial setup\n */\nconst middlewares = [thunk];\nlet basename = '/src-voka-web';\n\n/**\n * Development setup\n */\nif(process.env.NODE_ENV === 'development'){\n  middlewares.push(logger);\n  basename = '/';\n}\n\n/**\n * create a global store - best with Redux\n */\nconst store = createStore(reducers, applyMiddleware(...middlewares));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router basename={basename}>\n      <AppNavBar />\n      <main className=\"app-body\">\n        <section className=\"app-view\">\n          <div className=\"container app-container\">\n            <Route exact path=\"/\" component={Dashboard} />\n            <Route exact path='/dictation' component={DictationApp} />\n            <Route path='/dictation/:vid' component={DictationView} />\n            <Route path='/goal' component={Goal} />\n            <Route path='/voice' component={Voice} />\n          </div>\n        </section>\n      </main>\n    </Router>\n  </Provider>\n  , document.getElementById('root'));","import React from 'react';\nimport 'bootstrap/js/dist/collapse';\nimport { Link } from 'react-router-dom';\n\nexport default function (props) {\n  return (\n    <nav className=\"navbar navbar-dark bg-info navbar-expand-lg fixed-top portfolio-navbar gradient\">\n      <div className=\"container app-container\">\n        <Link to=\"/\" className=\"navbar-brand logo\">Deutsch Lernen</Link>\n        <button className=\"navbar-toggler\" data-target=\"#navbarNav\" data-toggle=\"collapse\">\n          <span className=\"sr-only\">Toggle navigation</span>\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div id=\"navbarNav\" className=\"collapse navbar-collapse\">\n          <ul className=\"nav navbar-nav ml-auto\">\n            <li className=\"nav-item\" role=\"presentation\">\n              <Link to=\"/\" className=\"nav-link active\">Dashboard</Link>\n            </li>\n            <li className=\"nav-item\" role=\"presentation\">\n              <Link to=\"/signin\" className=\"nav-link active\">Sign In</Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}"],"sourceRoot":""}