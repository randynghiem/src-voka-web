(this["webpackJsonpsrc-voka-web"]=this["webpackJsonpsrc-voka-web"]||[]).push([[0],{48:function(e,t,n){e.exports=n(92)},51:function(e,t,n){},60:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);n(49),n(50),n(51);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),i=n(4),l=n(5),s=n(7),u=n(6),m=n(8),d=n(2),p=function(e){var t=e.query,n=e.onClick,o=Object(a.useRef)(null);r.a.useEffect((function(){o&&(o.current.value=t)}),[]);return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o.current.value&&n&&n(o.current.value)}},r.a.createElement("div",{className:"form-row mt-3 mb-3"},r.a.createElement("div",{className:"col-8"},r.a.createElement("input",{ref:o,type:"text",name:"queryBox",id:"queryBox",className:"form-control",placeholder:"Search Youtube"})),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"submit",className:"btn btn-secondary pl-4 pr-4"},r.a.createElement("i",{className:"fas fa-search fa-lg"})))))},f=(n(60),n(12)),h=function(e){var t=e.children;return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},v=n(42),g=n.n(v),b=function(e){var t=e.videos,n=e.onFiniteScroll;return r.a.useEffect((function(){document.addEventListener("scroll",g.a.debounce((function(){(function(){var e=document.documentElement,t=document.body,n=e.clientHeight,a=window.pageYOffset;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)-a-n})()<50&&n()}),100))}),[]),t&&r.a.createElement("ul",{className:"list-group list-group-flush col-md-8 mb-3"},t.map((function(e){return r.a.createElement("li",{className:"list-group-item app-yt-item",key:e.etag},r.a.createElement("div",{className:"video-list media"},r.a.createElement("div",{className:"media-left mr-4"},r.a.createElement(f.b,{to:"/dictation/".concat(e.id.videoId)},r.a.createElement("img",{src:e.snippet.thumbnails.default.url,alt:"",className:"media-object"}))),r.a.createElement("div",{className:"media-body"},r.a.createElement("div",{className:"media-heading"},r.a.createElement(f.b,{to:"/dictation/".concat(e.id.videoId)},r.a.createElement(h,null,e.snippet.title))))))})))},y=n(20),E=n(3),O=n(44),w=n.n(O),N=function(e,t){return e+"?"+Object.keys(t).map((function(e){return e+"="+t[e]})).join("&")};var k="https://www.googleapis.com/youtube/v3/search",A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){e.key&&e.q&&e.part&&e.type||n(new Error("Please make sure that the required fields are inserted"));var a=N(k,e);w()(a).then((function(e){return t(e.json())})).catch(n)}))},j="AIzaSyCT5YNj0WpEUrt_4K8b3GZ6NoBZTOImXMA",S="dictation/search/CLEANUP",I={query:null,isLoading:!1,hasError:!1,nextPageToken:null,videos:[]},C=function(e){return{type:"search/LOADING_QUERY_DATA",query:e}},T=function(e){return{type:"search/LOADED_QUERY_DATA",data:e}},P=function(e){return{type:"search/APPEND_QUERY_DATA",data:e}},L=new Promise((function(e,t){e(I)})),D=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.props.cleanup()}},{key:"render",value:function(){var e=this.props,t=e.query,n=e.videos,a=e.triggerQuery;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{onClick:a,query:t}),r.a.createElement(b,{videos:n,onFiniteScroll:a}))}}]),t}(r.a.Component),x=Object(d.b)((function(e){var t=e.DictationSearch;return{query:t.query,videos:t.videos}}),{triggerQuery:function(e){return function(t,n){var a=n().DictationSearch;a.isLoading||(e?(t(C(e)),A({key:j,q:e,part:"snippet",type:"video",relevanceLanguage:"de",maxResults:10}).then((function(e){t(T(e))})).catch((function(e){console.log("Error: ",e)}))):(t(C(a.query)),A({key:j,q:a.query,part:"snippet",type:"video",relevanceLanguage:"de",maxResults:10,pageToken:a.nextPageToken}).then((function(e){t(P(e))})).catch((function(e){console.log("Error: ",e)}))))}},cleanup:function(){return{type:S}}})(D),_=n(45),G=(n(63),n(18)),H="goals/TOGGLE_GOAL",V="goals/ADD_GOAL",U="goals/FILTER_GOAL",W="goals/CLEANUP",R={SHOW_ALL:"SHOW_ALL",SHOW_ACTIVE:"SHOW_ACTIVE",SHOW_DONE:"SHOW_DONE"},Y={goals:[],filter:R.SHOW_ALL},q=0,M=new Promise((function(e,t){e(Y)}));var F=function(e){var t=Math.floor(e),n=t%60,a=Math.floor(t/60);return a<10?"0"+a+":"+("0"+n).slice(-2):a+":"+("0"+n).slice(-2)},B=function(e,t){return e.map((function(e){return Object(E.a)({},e,{current:e.start===t?"current":""})}))},Q="dictation/view/LOAD_CAPTION",z="dictation/view/JUMP_TO_LINE",J="dictation/view/CHANGE_TO_LINE",Z={videoId:null,lines:null,markers:null,playAt:null,curStart:null,command:null},K=new Promise((function(e,t){e(Z)})),X=new Promise((function(e,t){window.gapi.load("auth2",(function(){window.gapi.auth2.init({client_id:"314973279245-4r337gs646taq1fun4ruhbha38ruj7ar.apps.googleusercontent.com",cookiepolicy:"single_host_origin"}).then((function(t){e(t)})).catch((function(e){return t(e)}))}))})),$="randy-nghiem-voka-web",ee="auth/AUTHENTICATING_WITH_GOOGLE",te="auth/SIGNED_IN_WITH_GOOGLE",ne="auth/SIGNED_OUT_WITH_GOOGLE",ae={provider:null,ready:!0,isAuthenticated:!1,uid:null,name:null,email:null},re=function(e){return function(t,n){var a=n().Auth;a.ready&&(t(oe()),"google"===e&&(a.isAuthenticated?(console.log("sign out"),new Promise((function(e,t){X.then((function(t){t.signOut().then((function(){e(!0)}))})).catch((function(e){return t(e)}))}))).then((function(e){t(ie())})).catch((function(e){return console.log(e)})):(console.log("signed in"),new Promise((function(e,t){X.then((function(t){t.signIn().then((function(t){var n=t.getBasicProfile();e({uid:n.getId(),name:n.getName(),email:n.getEmail()})}))})).catch((function(e){return t(e)}))}))).then((function(e){t(ce(e))})).catch((function(e){return console.log(e)}))))}},oe=function(){return{type:ee}},ce=function(e){return{type:te,payload:e}},ie=function(){return{type:ne}},le=new Promise((function(e,t){e(ae)})),se=function(e){return function(e){var t=window.localStorage,n=JSON.stringify(e);t.setItem($,n)}({Auth:e}),e};var ue=new Promise((function(e,t){Promise.all([le,M,L,K]).then((function(t){var n={Auth:t[0],GoalState:t[1],DictationSearch:t[2],DictationView:t[3]},a=function(){var e=window.localStorage.getItem($);return null===e?null:JSON.parse(e)}();null!==a&&(n.Auth=a.Auth),e(n)}))})),me=Object(G.c)({Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ee:return se(Object(E.a)({},e,{provider:"google",ready:!1}));case te:return se(Object(E.a)({},e,{ready:!0,isAuthenticated:!0},t.payload));case ne:return se(ae);default:return e}},GoalState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case H:return Object(E.a)({},e,{goals:e.goals.map((function(e){return e.id===t.id?Object(E.a)({},e,{done:!e.done}):e}))});case V:return Object(E.a)({},e,{goals:[].concat(Object(y.a)(e.goals),[{id:t.id,done:!1,text:t.text}])});case U:return Object(E.a)({},e,{filter:t.filter});case W:return Y;default:return e}},DictationSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"search/LOADING_QUERY_DATA":return Object(E.a)({},e,{query:t.query,isLoading:!0});case"search/LOADED_QUERY_DATA":return Object(E.a)({},e,{videos:t.data.items,nextPageToken:t.data.nextPageToken,isLoading:!1});case"search/APPEND_QUERY_DATA":return Object(E.a)({},e,{videos:[].concat(Object(y.a)(e.videos),Object(y.a)(t.data.items)),nextPageToken:t.data.nextPageToken,isLoading:!1});case S:return I;default:return e}},DictationView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Q:var n=t.lines.map((function(e){return Object(E.a)({},e,{formattedStart:F(e.start)})}));return n[0].current="current",Object(E.a)({},e,{videoId:t.videoId,lines:n,markers:t.lines.map((function(e){return e.start}))});case z:if(!e.lines)return;return Object(E.a)({},e,{curStart:t.start,lines:B(e.lines,t.start)});case J:if(!e.lines)return;return Object(E.a)({},e,{playAt:t.start+"|"+(new Date).getTime(),curStart:t.start,lines:B(e.lines,t.start)});case"dictation/view/DISPATCH_COMMAND":return Object(E.a)({},e,{command:t.command+"|"+(new Date).getTime()});case"dictation/view/CLEANUP":return Z;default:return e}}}),de=n(17),pe=function(e){var t=e.onClick,n=r.a.useRef(null);return r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),n&&n.current.value){var a=n.current.value.trim();t&&t(a),n.current.value=""}}},r.a.createElement("div",{className:"form-row mb-3 mt-3"},r.a.createElement("div",{className:"col-8"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Todo Item",ref:n})),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"submit",className:"btn btn-secondary"},"Add Item"))))},fe=function(e){var t=e.text,n=e.done,a=e.onClick,o=n?" list-group-item-success":"";return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"+o,onClick:a},t,r.a.createElement("span",{className:"badge badge-secondary badge-pill"},"New"))},he=function(e){var t=e.goals,n=e.toggleGoal;return r.a.createElement("ul",{className:"list-group mb-3"},null!=t&&t.map((function(e){return r.a.createElement(fe,Object.assign({key:e.id},e,{onClick:function(){return n(e.id)}}))})))},ve=function(e){var t=e.FilterType,n=e.filter,a=e.onFilter,o=n===t.SHOW_ALL?"active":"",c=n===t.SHOW_ACTIVE?"active":"",i=n===t.SHOW_DONE?"active":"";return r.a.createElement("div",{className:"btn-group btn-group-toggle"},r.a.createElement("label",{className:"btn btn-outline-info "+o},r.a.createElement("input",{type:"radio",name:"filters",onClick:function(){return a(t.SHOW_ALL)}})," All"),r.a.createElement("label",{className:"btn btn-outline-info "+c},r.a.createElement("input",{type:"radio",name:"filters",onClick:function(){return a(t.SHOW_ACTIVE)}})," Active"),r.a.createElement("label",{className:"btn btn-outline-info "+i},r.a.createElement("input",{type:"radio",name:"filters",onClick:function(){return a(t.SHOW_DONE)}})," Done"))},ge=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.props.cleanup()}},{key:"render",value:function(){var e=this.props,t=e.goals,n=e.filter,a=e.addGoal,o=e.toggleGoal,c=e.filterGoal;return r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-md-10 col-lg-8"},r.a.createElement(pe,{onClick:function(e){return a(e)}}),r.a.createElement(he,{goals:t,toggleGoal:o}),r.a.createElement(ve,{FilterType:R,filter:n,onFilter:c})))}}]),t}(r.a.Component),be=function(e,t){switch(t){case R.SHOW_ACTIVE:return e.filter((function(e){return!1===e.done}));case R.SHOW_DONE:return e.filter((function(e){return!0===e.done}));default:return e}},ye=Object(d.b)((function(e){var t=e.GoalState;return{goals:be(t.goals,t.filter),filter:t.filter}}),{addGoal:function(e){return{type:V,id:q++,done:!1,text:e}},toggleGoal:function(e){return{type:H,id:e}},filterGoal:function(e){return{type:U,filter:e}},cleanup:function(){return{type:W}}})(ge),Ee=n(46),Oe=n.n(Ee),we=null,Ne=function(){return we||(we=new Promise((function(e,t){"object"!==typeof window.YT||"function"!==typeof window.YT.ready?Oe()("https://www.youtube.com/iframe_api").then((function(){window.YT.ready((function(){e(window.YT)}))}),(function(e){t(e)})):window.YT.ready((function(){e(window.YT)}))}))),we},ke=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).YTEvents=["onReady","onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError"],n.intervalMarker=null,n.findLastMarker=function(e,t,n){for(var a=e.length,r=1;r<a;r++)if(e[r]>t&&e[r]<=n)return{curStart:e[r-1],nextStart:e[r]};return null},n.onPlayerStateChange=function(e){var t=n.props,a=t.onCued,r=t.onBuffering,o=t.onPause,c=t.onPlaying,i=t.onEnd,l=t.pingInterval,s=t.markers,u=t.onSpeechChange,m=window.YT.PlayerState;switch(null!==s&&s.length>0&&(e.data===m.PLAYING?n.intervalMarker=setInterval((function(){var t=e.target.getCurrentTime(),a=n.findLastMarker(s,t,t+l/1e3);null!=a&&u&&u(a.nextStart)}),l):clearInterval(n.intervalMarker)),e.data){case m.CUED:a(e);break;case m.BUFFERING:r(e);break;case m.PAUSED:o(e);break;case m.PLAYING:c(e);break;case m.ENDED:i(e)}},n.getInitialOptions=function(){return{videoId:n.props.video,width:n.props.width,height:n.props.height,playerVars:{autoplay:n.props.autoplay,cc_load_policy:n.props.showCaptions?1:0,controls:n.props.controls?1:0,disablekb:n.props.disableKeyboard?1:0,fs:n.props.allowFullscreen?1:0,hl:n.props.lang,iv_load_policy:n.props.annotations?1:3,start:n.props.startSeconds,end:n.props.endSeconds,modestbranding:n.props.modestBranding?1:0,playsinline:n.props.playsInline?1:0,rel:n.props.showRelatedVideos?1:0,showinfo:n.props.showInfo?1:0},events:{onReady:n.onPlayerReady,onStateChange:n.onPlayerStateChange}}},n.updateProps=function(e){n.player.then((function(t){e.forEach((function(e){var a=n.props[e];switch(e){case"muted":a?t.mute():t.unMute();break;case"suggestedQuality":t.setPlaybackQuality(a);break;case"volume":t.setVolume(100*a);break;case"paused":a&&2!==t.getPlayerState()?t.pauseVideo():a||2!==t.getPlayerState()||t.playVideo();break;case"id":case"className":case"width":case"height":t.getIframe()[e]=a;break;case"video":if(a){var r=n.props,o={videoId:a,startSeconds:r.startSeconds||0,endSeconds:r.endSeconds};r.autoplay?t.loadVideoById(o):t.cueVideoById(o)}else t.stopVideo();break;case"playAt":if(a){var c=parseFloat(a.split("|")[0]);t.seekTo(c)}break;case"command":switch(a.split("|")[0]){case"play":t.playVideo();break;case"pause":t.pauseVideo();break;case"reset":t.seekTo(0),t.playVideo();break;case"stop":t.stopVideo()}}}))}))},n.createPlayer=function(){var e=n.props.volume;n.player=Ne().then((function(e){return new Promise((function(t){n.resolvePlayer=t;var a=new e.Player(n.container,n.getInitialOptions());n.playerInstance=a,n.YTEvents.forEach((function(e){a.addEventListener(e,(function(t){var a=n.props[e];a&&a(t)}))}))}))})),"number"===typeof e&&n.updateProps(["volume"])},n.onPlayerReady=function(e){var t=n.props,a=t.volume,r=t.muted,o=t.suggestedQuality,c=t.playbackRate;"undefined"!==typeof a&&e.target.setVolume(100*a),"undefined"!==typeof r&&(r?e.target.mute():e.target.unMute()),"undefined"!==typeof o&&e.target.setPlaybackQuality(o),"undefined"!==typeof c&&e.target.setPlaybackRate(c),n.resolvePlayer(e.target)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){var t=this,n=Object.keys(this.props).filter((function(n){return t.props[n]!==e[n]}));this.updateProps(n)}},{key:"componentWillUnmount",value:function(){this.playerInstance&&this.playerInstance.destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.className;return r.a.createElement("div",{id:n,className:a,ref:function(t){return e.container=t}})}}]),t}(r.a.Component);ke.defaultProps={autoplay:!1,showCaptions:!1,controls:!0,disableKeyboard:!1,allowFullscreen:!0,annotations:!0,modestBranding:!1,playsInline:!1,showRelatedVideos:!0,showInfo:!0,pingInterval:100,playAt:null,onCued:function(){},onBuffering:function(){},onPlaying:function(){},onPause:function(){},onEnd:function(){},onSpeechChange:null,markers:null,command:null};var Ae=ke,je=n(21),Se=n.n(je),Ie=function(e){var t=e.commands,n=e.onCommand;return r.a.useEffect((function(){if(Se.a){var e={};return t.forEach((function(t){return e[t]=function(){return n(t)}})),Se.a.addCommands(e),Se.a.start(),function(){Se.a.abort()}}})),""},Ce=Object(d.b)((function(e,t){var n=e.DictationView;return{videoId:t.videoId,markers:n.markers,playAt:n.playAt,command:n.command}}),{jumpToLine:function(e){return{type:z,start:e}},dispatchCommand:function(e){return{type:"dictation/view/DISPATCH_COMMAND",command:e}}})((function(e){var t=e.videoId,n=e.markers,a=e.playAt,o=e.command,c=e.jumpToLine,i=e.dispatchCommand;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(Ae,{video:t,markers:n,onSpeechChange:function(e){return c(e)},playAt:a,command:o,width:"720",height:"405",autoplay:"1"}),r.a.createElement(Ie,{commands:["repeat","again","next","reset","stop","play","pause"],onCommand:function(e){return i(e)}}))})),Te=n(25),Pe=n.n(Te),Le=(n(86),function(e){var t=e.lines,n=e.curStart,a=e.onLineClick;return r.a.useEffect((function(){var e=document.querySelector(".caption-viewer .current");null!=e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),[n]),t&&r.a.createElement("ul",{className:"list-group list-group-flush caption-viewer mt-3"},t.map((function(e){return r.a.createElement("li",{className:"list-group-item caption-item "+e.current,key:e.start,"data-start":e.start,onClick:function(e){return a(e.currentTarget.dataset.start)}},r.a.createElement("span",{className:"caption-item-time"},e.formattedStart),r.a.createElement("span",{className:"caption-item-text"},e.text))})))}),De=Object(d.b)((function(e,t){var n=e.DictationView;return{lines:n.lines,curStart:n.curStart,videoId:t.videoId}}),{changeToLine:function(e){return{type:J,start:e}},loadCaption:function(e){var t=e.videoId,n=e.lines;return{type:Q,videoId:t,lines:n}}})((function(e){var t=e.videoId,n=e.lines,o=e.curStart,c=e.changeToLine,i=e.loadCaption;return Object(a.useEffect)((function(){Pe()("https://voka.azurewebsites.net/api/v1/captions/".concat(t,"/de")).then((function(e){return i({videoId:t,lines:e.data})}))}),[]),r.a.createElement(Le,{lines:n,curStart:o,onLineClick:c})})),xe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"dictation/view/CLEANUP"})}},{key:"render",value:function(){var e=this.props.match.params.vid;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement(Ce,{videoId:e}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(De,{videoId:e}))))}}]),t}(r.a.Component),_e=Object(d.b)()(xe),Ge=(n(87),n(88),function(e){var t=e.isAuthenticated,n=e.signInOrOut;return r.a.createElement("nav",{className:"navbar navbar-dark bg-info navbar-expand-lg fixed-top portfolio-navbar gradient"},r.a.createElement("div",{className:"container app-container"},r.a.createElement(f.b,{to:"/",className:"navbar-brand logo"},"Deutsch Lernen"),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"navbar-toggler","data-target":"#navbarNav","data-toggle":"collapse"},r.a.createElement("span",{className:"sr-only"},"Toggle navigation"),r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{id:"navbarNav",className:"collapse navbar-collapse"},r.a.createElement("ul",{className:"nav navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement(f.b,{to:"/",className:"nav-link voka-nav-link active"},"Dashboard")),r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement("span",{className:"nav-link active voka-nav-link",onClick:n},"Sign Out")))))))}),He=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).signInOrOut=function(){n.props.dispatch(re("google"))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.isAuthenticated;return r.a.createElement(Ge,{isAuthenticated:e,signInOrOut:this.signInOrOut})}}]),t}(r.a.Component),Ve=Object(d.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))(He),Ue=(n(90),function(e){var t=e.to,n=e.title,a=e.text,o=e.icon;return r.a.createElement("div",{className:"card shadow border-info py-2 dashboard-card mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row align-items-center no-gutters"},r.a.createElement("div",{className:"col mr-2"},r.a.createElement(f.b,{className:"font-weight-bold",to:t},n),r.a.createElement("div",null,a)),r.a.createElement("div",{className:"col-auto"},r.a.createElement("i",{className:o})))))}),We=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).sections=[{to:"/dictation",title:"VIDEO DICTATION",text:"Learning by watching Youtube in Deutsch and repeating along.",icon:"fas fa-chalkboard-teacher fa-5x"},{to:"/voice",title:"LISTEN AND LEARN",text:"Listen in German and write down what you hear.",icon:"fas fa-microphone-alt fa-5x"},{to:"/goal",title:"GOAL SETTING",text:"Setting goals and keep track of progress.",icon:"fas fa-tasks fa-5x"}],n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},this.sections.map((function(e){return r.a.createElement("div",{className:"col-md-6",key:e.to},r.a.createElement(Ue,{to:e.to,title:e.title,text:e.text,icon:e.icon}))})))}}]),t}(r.a.Component),Re=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Voice")}}]),t}(r.a.Component),Ye=Object(d.b)()(Re),qe=(n(91),new Promise((function(e,t){speechSynthesis.onvoiceschanged=function(){var n=speechSynthesis.getVoices().filter((function(e){return"Google Deutsch"===e.name}));1===n.length?e(n[0]):t(null)}}))),Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"de-DE",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;e&&qe.then((function(a){var r=new SpeechSynthesisUtterance;r.voice=a,r.lang=t,r.text=e,r.rate=n,window.speechSynthesis.speak(r)}))},Fe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={sentences:[],curLine:0,curText:"",showHint:!1,playing:!1,typedList:[],matched:!0},n.onPlay=function(){Me(n.state.sentences[0]),n.setState({playing:!0})},n.onEnter=function(e){e.preventDefault(),n.onNext("ok")},n.onNext=function(e){var t=n.state,a=t.curLine,r=t.sentences,o=t.curText,c=a+1,i=r[a];if("again"!==e){if(o&&i){var l=o.replace(/[^a-zA-Z0-9]/g,""),s=i.replace(/[^a-zA-Z0-9]/g,"");if(s.toLowerCase()!==l.toLowerCase())return console.log("Not matched: ",l,s),void n.setState({matched:!1});a===r.length||(n.setState({curLine:c,showHint:!1,curText:"",matched:!0}),Me(r[c]))}}else Me(r[a])},n.onShowHint=function(){n.setState({showHint:!0})},n.handleTyping=function(e){n.setState({curText:e.target.value,matched:!0})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,n=this,a=[];(e="a1",t=1,new Promise((function(n,a){var r="https://voka.azurewebsites.net/api/v1/sets/".concat(e,"/").concat(t);Pe.a.get(r).then((function(e){n(e.data)})).catch((function(e){a(e)}))}))).then((function(e){e.sections.forEach((function(e){e.parts.forEach((function(e){a=a.concat(e.sentences)}))})),n.setState({sentences:a})}))}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.showHint,n=e.curLine,a=e.sentences,o=e.playing,c=e.matched;return r.a.createElement("form",{onSubmit:this.onEnter},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"typingBox"},"Write down what you hear:"),r.a.createElement("ul",{className:"list-group voice-typed-list"}),r.a.createElement("input",{type:"text",name:"typingBox",id:"typingBox",className:c?"form-control":"form-control border-danger",value:this.state.curText,onChange:this.handleTyping})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",className:"btn btn-info mr-3",onClick:this.onPlay},r.a.createElement("i",{className:o?"fas fa-pause fa-lg":"fas fa-play fa-lg"})),r.a.createElement("button",{type:"submit",className:"btn btn-info mr-3"},r.a.createElement("i",{className:"fas fa-forward fa-lg"})),r.a.createElement("button",{className:"btn btn-info",onClick:this.onShowHint},"Show Hint")),r.a.createElement("div",{className:"form-group"},t&&r.a.createElement("div",{className:"alert alert-warning"},a[n])),r.a.createElement(Ie,{commands:["ok","again"],onCommand:this.onNext}))}}]),t}(r.a.Component),Be=Object(d.b)()(Fe),Qe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).signInOrOut=function(){n.props.dispatch(re("google"))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.isAuthenticated,t=(this.props.location.state||{from:{pathname:"/"}}).from;return e?r.a.createElement(de.a,{to:t}):r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-6 text-center mt-5 pb-5 pt-5 bg-light shadow"},r.a.createElement("div",{className:"mb-5"},r.a.createElement("i",{className:"fas fa-user fa-5x text-info"})),r.a.createElement("button",{type:"button",className:"btn btn-danger pl-3 pr-5",onClick:this.signInOrOut},r.a.createElement("i",{className:"fab fa-google mr-5"}),"Sign In with Google")))}}]),t}(r.a.Component),ze=Object(d.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))(Qe),Je=n(47),Ze=Object(d.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))((function(e){var t=e.isAuthenticated,n=e.component,a=Object(Je.a)(e,["isAuthenticated","component"]);return r.a.createElement(de.b,Object.assign({},a,{render:function(e){return t?r.a.createElement(n,e):r.a.createElement(de.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),Ke=[_.a];ue.then((function(e){var t=Object(G.d)(me,e,G.a.apply(void 0,Ke));c.a.render(r.a.createElement(d.a,{store:t},r.a.createElement(f.a,{basename:"/src-voka-web"},r.a.createElement(Ve,null),r.a.createElement("main",{className:"app-body"},r.a.createElement("section",{className:"app-view"},r.a.createElement("div",{className:"container app-container"},r.a.createElement(de.b,{exact:!0,path:"/login",component:ze}),r.a.createElement(Ze,{exact:!0,path:"/",component:We}),r.a.createElement(Ze,{exact:!0,path:"/dictation",component:x}),r.a.createElement(Ze,{path:"/dictation/:vid",component:_e}),r.a.createElement(Ze,{exact:!0,path:"/goal",component:ye}),r.a.createElement(Ze,{exact:!0,path:"/voice",component:Ye}),r.a.createElement(Ze,{path:"/voice/:id",component:Be})))))),document.getElementById("root"))}))}},[[48,1,2]]]);
//# sourceMappingURL=main.afe4ef9a.chunk.js.map